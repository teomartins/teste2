"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2280],{808:(t,n,r)=>{r.d(n,{$L:()=>A,Ln:()=>g,N0:()=>N,Um:()=>T,Wg:()=>y,X9:()=>a,dL:()=>$,jP:()=>b,n9:()=>E,oM:()=>x,zy:()=>M});var i=r(10156);class o{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class s{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&s.empty)return s.empty}recover(t){let n=0,r=65535&t;if(!this.inverted)for(let t=0;t<r;t++)n+=this.ranges[3*t+2]-this.ranges[3*t+1];return this.ranges[3*r]+n+(t-(65535&t))/65536}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?i:0);if(u>t)break;let c=this.ranges[l+s],d=this.ranges[l+a],h=u+c;if(t<=h){let s=c?t==u?-1:t==h?1:n:n,a=u+i+(s<0?0:d);if(r)return a;let p=t==(n<0?u:h)?null:l/3+(t-u)*65536,f=t==u?2:t==h?1:4;return(n<0?t!=u:t!=h)&&(f|=8),new o(a,f,p)}i+=d-c}return r?t+i:new o(t+i,0,null)}touches(t,n){let r=0,i=65535&n,o=this.inverted?2:1,s=this.inverted?1:2;for(let n=0;n<this.ranges.length;n+=3){let a=this.ranges[n]-(this.inverted?r:0);if(a>t)break;let l=this.ranges[n+o];if(t<=a+l&&n==3*i)return!0;r+=this.ranges[n+s]-l}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),u=this.ranges[i+n],c=this.ranges[i+r];t(a,a+u,l,l+c),o+=c-u}}invert(){return new s(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?s.empty:new s(t<0?[0,-t,0]:[0,0,t])}}s.empty=new s([]);class a{constructor(t,n,r=0,i=t?t.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new a(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),null!=n&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let i=t.getMirror(n);this.appendMap(t._maps[n],null!=i&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t._maps[n].invert(),null!=i&&i>n?r-i-1:void 0)}}invert(){let t=new a;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let r=this.from;r<this.to;r++){let o=this._maps[r].mapResult(t,n);if(null!=o.recover){let n=this.getMirror(r);if(null!=n&&n>r&&n<this.to){r=n,t=this._maps[n].recover(o.recover);continue}}i|=o.delInfo,t=o.pos}return r?t:new o(t,i,null)}}let l=Object.create(null);class u{getMap(){return s.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw RangeError("Invalid input for Step.fromJSON");let r=l[n.stepType];if(!r)throw RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in l)throw RangeError("Duplicate use of step JSON ID "+t);return l[t]=n,n.prototype.jsonID=t,n}}class c{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new c(t,null)}static fail(t){return new c(null,t)}static fromReplace(t,n,r,o){try{return c.ok(t.replace(n,r,o))}catch(t){if(t instanceof i.vI)return c.fail(t.message);throw t}}}function d(t,n,r){let o=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(d(s.content,n,s))),s.isInline&&(s=n(s,r,i)),o.push(s)}return i.FK.fromArray(o)}class h extends u{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),o=r.node(r.sharedDepth(this.to)),s=new i.Ji(d(n.content,(t,n)=>t.isAtom&&n.type.allowsMarkType(this.mark.type)?t.mark(this.mark.addToSet(t.marks)):t,o),n.openStart,n.openEnd);return c.fromReplace(t,this.from,this.to,s)}invert(){return new p(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new h(n.pos,r.pos,this.mark)}merge(t){return t instanceof h&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new h(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw RangeError("Invalid input for AddMarkStep.fromJSON");return new h(n.from,n.to,t.markFromJSON(n.mark))}}u.jsonID("addMark",h);class p extends u{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new i.Ji(d(n.content,t=>t.mark(this.mark.removeFromSet(t.marks)),t),n.openStart,n.openEnd);return c.fromReplace(t,this.from,this.to,r)}invert(){return new h(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new p(n.pos,r.pos,this.mark)}merge(t){return t instanceof p&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new p(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw RangeError("Invalid input for RemoveMarkStep.fromJSON");return new p(n.from,n.to,t.markFromJSON(n.mark))}}u.jsonID("removeMark",p);class f extends u{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return c.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return c.fromReplace(t,this.pos,this.pos+1,new i.Ji(i.FK.from(r),0,+!n.isLeaf))}invert(t){let n=t.nodeAt(this.pos);if(n){let t=this.mark.addToSet(n.marks);if(t.length==n.marks.length){for(let r=0;r<n.marks.length;r++)if(!n.marks[r].isInSet(t))return new f(this.pos,n.marks[r]);return new f(this.pos,this.mark)}}return new m(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new f(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if("number"!=typeof n.pos)throw RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new f(n.pos,t.markFromJSON(n.mark))}}u.jsonID("addNodeMark",f);class m extends u{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return c.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return c.fromReplace(t,this.pos,this.pos+1,new i.Ji(i.FK.from(r),0,+!n.isLeaf))}invert(t){let n=t.nodeAt(this.pos);return n&&this.mark.isInSet(n.marks)?new f(this.pos,this.mark):this}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new m(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if("number"!=typeof n.pos)throw RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new m(n.pos,t.markFromJSON(n.mark))}}u.jsonID("removeNodeMark",m);class g extends u{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&v(t,this.from,this.to)?c.fail("Structure replace would overwrite content"):c.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new s([this.from,this.to-this.from,this.slice.size])}invert(t){return new g(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new g(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof g)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart)if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;else{let n=this.slice.size+t.slice.size==0?i.Ji.empty:new i.Ji(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new g(t.from,this.to,n,this.structure)}{let n=this.slice.size+t.slice.size==0?i.Ji.empty:new i.Ji(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new g(this.from,this.to+(t.to-t.from),n,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw RangeError("Invalid input for ReplaceStep.fromJSON");return new g(n.from,n.to,i.Ji.fromJSON(t,n.slice),!!n.structure)}}u.jsonID("replace",g);class y extends u{constructor(t,n,r,i,o,s,a=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(t){if(this.structure&&(v(t,this.from,this.gapFrom)||v(t,this.gapTo,this.to)))return c.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return c.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?c.fromReplace(t,this.from,this.to,r):c.fail("Content does not fit in gap")}getMap(){return new s([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new y(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new y(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new y(n.from,n.to,n.gapFrom,n.gapTo,i.Ji.fromJSON(t,n.slice),n.insert,!!n.structure)}}function v(t,n,r){let i=t.resolve(n),o=r-n,s=i.depth;for(;o>0&&s>0&&i.indexAfter(s)==i.node(s).childCount;)s--,o--;if(o>0){let t=i.node(s).maybeChild(i.indexAfter(s));for(;o>0;){if(!t||t.isLeaf)return!0;t=t.firstChild,o--}}return!1}function w(t,n,r,o=r.contentMatch,s=!0){let a=t.doc.nodeAt(n),l=[],u=n+1;for(let n=0;n<a.childCount;n++){let c=a.child(n),d=u+c.nodeSize,h=o.matchType(c.type);if(h){o=h;for(let n=0;n<c.marks.length;n++)r.allowsMarkType(c.marks[n].type)||t.step(new p(u,d,c.marks[n]));if(s&&c.isText&&"pre"!=r.whitespace){let t,n=/\r?\n|\r/g,o;for(;t=n.exec(c.text);)o||(o=new i.Ji(i.FK.from(r.schema.text(" ",r.allowedMarks(c.marks))),0,0)),l.push(new g(u+t.index,u+t.index+t[0].length,o))}}else l.push(new g(u,d,i.Ji.empty));u=d}if(!o.validEnd){let n=o.fillBefore(i.FK.empty,!0);t.replace(u,u,new i.Ji(n,0,0))}for(let n=l.length-1;n>=0;n--)t.step(l[n])}function b(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(0==r||i.type.spec.isolating||!((0==o||i.canReplace(o,i.childCount))&&(s==i.childCount||i.canReplace(0,s))))break}return null}function x(t,n,r=null,i=t){let o=function(t,n){let{parent:r,startIndex:i,endIndex:o}=t,s=r.contentMatchAt(i).findWrapping(n);if(!s)return null;let a=s.length?s[0]:n;return r.canReplaceWith(i,o,a)?s:null}(t,n),s=o&&function(t,n){let{parent:r,startIndex:i,endIndex:o}=t,s=r.child(i),a=n.contentMatch.findWrapping(s.type);if(!a)return null;let l=(a.length?a[a.length-1]:n).contentMatch;for(let t=i;l&&t<o;t++)l=l.matchType(r.child(t).type);return l&&l.validEnd?a:null}(i,n);return s?o.map(k).concat({type:n,attrs:r}).concat(s.map(k)):null}function k(t){return{type:t,attrs:null}}function S(t,n,r,i){n.forEach((o,s)=>{if(o.isText){let a,l=/\r?\n|\r/g;for(;a=l.exec(o.text);){let o=t.mapping.slice(i).map(r+1+s+a.index);t.replaceWith(o,o+1,n.type.schema.linebreakReplacement.create())}}})}function C(t,n,r,i){n.forEach((o,s)=>{if(o.type==o.type.schema.linebreakReplacement){let o=t.mapping.slice(i).map(r+1+s);t.replaceWith(o,o+1,n.type.schema.text("\n"))}})}function M(t,n,r=1,i){let o=t.resolve(n),s=o.depth-r,a=i&&i[i.length-1]||o.parent;if(s<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let t=o.depth-1,n=r-2;t>s;t--,n--){let r=o.node(t),s=o.index(t);if(r.type.spec.isolating)return!1;let a=r.content.cutByIndex(s,r.childCount),l=i&&i[n+1];l&&(a=a.replaceChild(0,l.type.create(l.attrs)));let u=i&&i[n]||r;if(!r.canReplace(s+1,r.childCount)||!u.type.validContent(a))return!1}let l=o.indexAfter(s),u=i&&i[0];return o.node(s).canReplaceWith(l,l,u?u.type:o.node(s+1).type)}function E(t,n){let r=t.resolve(n),i=r.index();return j(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(i,i+1)}function j(t,n){return!!(t&&n&&!t.isLeaf&&function(t,n){n.content.size||t.type.compatibleContent(n.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:i}=t.type.schema;for(let o=0;o<n.childCount;o++){let s=n.child(o),a=s.type==i?t.type.schema.nodes.text:s.type;if(!(r=r.matchType(a))||!t.type.allowsMarks(s.marks))return!1}return r.validEnd}(t,n))}function N(t,n,r=-1){let i=t.resolve(n);for(let t=i.depth;;t--){let o,s,a=i.index(t);if(t==i.depth?(o=i.nodeBefore,s=i.nodeAfter):r>0?(o=i.node(t+1),a++,s=i.node(t).maybeChild(a)):(o=i.node(t).maybeChild(a-1),s=i.node(t+1)),o&&!o.isTextblock&&j(o,s)&&i.node(t).canReplace(a,a+1))return n;if(0==t)break;n=r<0?i.before(t):i.after(t)}}function T(t,n,r){let i=t.resolve(n);if(!r.content.size)return n;let o=r.content;for(let t=0;t<r.openStart;t++)o=o.firstChild.content;for(let t=1;t<=(0==r.openStart&&r.size?2:1);t++)for(let n=i.depth;n>=0;n--){let r=n==i.depth?0:i.pos<=(i.start(n+1)+i.end(n+1))/2?-1:1,s=i.index(n)+ +(r>0),a=i.node(n),l=!1;if(1==t)l=a.canReplace(s,s,o);else{let t=a.contentMatchAt(s).findWrapping(o.firstChild.type);l=t&&a.canReplaceWith(s,s,t[0])}if(l)return 0==r?i.pos:r<0?i.before(n+1):i.after(n+1)}return null}function A(t,n,r=n,o=i.Ji.empty){if(n==r&&!o.size)return null;let s=t.resolve(n),a=t.resolve(r);return O(s,a,o)?new g(n,r,o):new I(s,a,o).fit()}function O(t,n,r){return!r.openStart&&!r.openEnd&&t.start()==n.start()&&t.parent.canReplace(t.index(),n.index(),r.content)}u.jsonID("replaceAround",y);class I{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=i.FK.empty;for(let n=0;n<=t.depth;n++){let r=t.node(n);this.frontier.push({type:r.type,match:r.contentMatchAt(t.indexAfter(n))})}for(let n=t.depth;n>0;n--)this.placed=i.FK.from(t.node(n).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(t<0?this.$to:r.doc.resolve(t));if(!o)return null;let s=this.placed,a=r.depth,l=o.depth;for(;a&&l&&1==s.childCount;)s=s.firstChild.content,a--,l--;let u=new i.Ji(s,a,l);return t>-1?new y(r.pos,t,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new g(r.pos,o.pos,u):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){t=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=1==n?t:this.unplaced.openStart;r>=0;r--){let t,o=null,s=(r?(o=_(this.unplaced.content,r-1).firstChild).content:this.unplaced.content).firstChild;for(let t=this.depth;t>=0;t--){let{type:a,match:l}=this.frontier[t],u,c=null;if(1==n&&(s?l.matchType(s.type)||(c=l.fillBefore(i.FK.from(s),!1)):o&&a.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:t,parent:o,inject:c};if(2==n&&s&&(u=l.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:t,parent:o,wrap:u};if(o&&l.matchType(o.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,o=_(t,n);return!!o.childCount&&!o.firstChild.isLeaf&&(this.unplaced=new i.Ji(t,n+1,Math.max(r,o.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,o=_(t,n);if(o.childCount<=1&&n>0){let s=t.size-n<=n+o.size;this.unplaced=new i.Ji(R(t,n-1,1),n-1,s?n-1:r)}else this.unplaced=new i.Ji(R(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:o,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let t=0;t<s.length;t++)this.openFrontierNode(s[t]);let a=this.unplaced,l=r?r.content:a.content,u=a.openStart-t,c=0,d=[],{match:h,type:p}=this.frontier[n];if(o){for(let t=0;t<o.childCount;t++)d.push(o.child(t));h=h.matchFragment(o)}let f=l.size+t-(a.content.size-a.openEnd);for(;c<l.childCount;){let t=l.child(c),n=h.matchType(t.type);if(!n)break;(++c>1||0==u||t.content.size)&&(h=n,d.push(function t(n,r,o){if(r<=0)return n;let s=n.content;return r>1&&(s=s.replaceChild(0,t(s.firstChild,r-1,1==s.childCount?o-1:0))),r>0&&(s=n.type.contentMatch.fillBefore(s).append(s),o<=0&&(s=s.append(n.type.contentMatch.matchFragment(s).fillBefore(i.FK.empty,!0)))),n.copy(s)}(t.mark(p.allowedMarks(t.marks)),1==c?u:0,c==l.childCount?f:-1)))}let m=c==l.childCount;m||(f=-1),this.placed=D(this.placed,n,i.FK.from(d)),this.frontier[n].match=h,m&&f<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let t=0,n=l;t<f;t++){let t=n.lastChild;this.frontier.push({type:t.type,match:t.contentMatchAt(t.childCount)}),n=t.content}this.unplaced=m?0==t?i.Ji.empty:new i.Ji(R(a.content,t-1,1),t-1,f<0?a.openEnd:t-1):new i.Ji(R(a.content,t,c),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return -1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!F(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return -1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),s=F(t,n,i,r,o);if(s){for(let r=n-1;r>=0;r--){let{match:n,type:i}=this.frontier[r],o=F(t,r,i,n,!0);if(!o||o.childCount)continue e}return{depth:n,fit:s,move:o?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=D(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let n=t.node(r),i=n.type.contentMatch.fillBefore(n.content,!0,t.index(r));this.openFrontierNode(n.type,n.attrs,i)}return t}openFrontierNode(t,n=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(t),this.placed=D(this.placed,this.depth,i.FK.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(i.FK.empty,!0);t.childCount&&(this.placed=D(this.placed,this.frontier.length,t))}}function R(t,n,r){return 0==n?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(R(t.firstChild.content,n-1,r)))}function D(t,n,r){return 0==n?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(D(t.lastChild.content,n-1,r)))}function _(t,n){for(let r=0;r<n;r++)t=t.firstChild.content;return t}function F(t,n,r,i,o){let s=t.node(n),a=o?t.indexAfter(n):t.index(n);if(a==s.childCount&&!r.compatibleContent(s.type))return null;let l=i.fillBefore(s.content,!0,a);return l&&!function(t,n,r){for(let i=r;i<n.childCount;i++)if(!t.allowsMarks(n.child(i).marks))return!0;return!1}(r,s.content,a)?l:null}function P(t,n){let r=[],i=Math.min(t.depth,n.depth);for(let o=i;o>=0;o--){let i=t.start(o);if(i<t.pos-(t.depth-o)||n.end(o)>n.pos+(n.depth-o)||t.node(o).type.spec.isolating||n.node(o).type.spec.isolating)break;(i==n.start(o)||o==t.depth&&o==n.depth&&t.parent.inlineContent&&n.parent.inlineContent&&o&&n.start(o-1)==i-1)&&r.push(o)}return r}class L extends u{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return c.fail("No node at attribute step's position");let r=Object.create(null);for(let t in n.attrs)r[t]=n.attrs[t];r[this.attr]=this.value;let o=n.type.create(r,null,n.marks);return c.fromReplace(t,this.pos,this.pos+1,new i.Ji(i.FK.from(o),0,+!n.isLeaf))}getMap(){return s.empty}invert(t){return new L(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new L(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if("number"!=typeof n.pos||"string"!=typeof n.attr)throw RangeError("Invalid input for AttrStep.fromJSON");return new L(n.pos,n.attr,n.value)}}u.jsonID("attr",L);class z extends u{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let r in t.attrs)n[r]=t.attrs[r];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return c.ok(r)}getMap(){return s.empty}invert(t){return new z(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if("string"!=typeof n.attr)throw RangeError("Invalid input for DocAttrStep.fromJSON");return new z(n.attr,n.value)}}u.jsonID("docAttr",z);let H=class extends Error{};(H=function t(n){let r=Error.call(this,n);return r.__proto__=t.prototype,r}).prototype=Object.create(Error.prototype),H.prototype.constructor=H,H.prototype.name="TransformError";class ${constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new a}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new H(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=i.Ji.empty){let o=A(this.doc,t,n,r);return o&&this.step(o),this}replaceWith(t,n,r){return this.replace(t,n,new i.Ji(i.FK.from(r),0,0))}delete(t,n){return this.replace(t,n,i.Ji.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return!function(t,n,r,o){if(!o.size)return t.deleteRange(n,r);let s=t.doc.resolve(n),a=t.doc.resolve(r);if(O(s,a,o))return t.step(new g(n,r,o));let l=P(s,t.doc.resolve(r));0==l[l.length-1]&&l.pop();let u=-(s.depth+1);l.unshift(u);for(let t=s.depth,n=s.pos-1;t>0;t--,n--){let r=s.node(t).type.spec;if(r.defining||r.definingAsContext||r.isolating)break;l.indexOf(t)>-1?u=t:s.before(t)==n&&l.splice(1,0,-t)}let c=l.indexOf(u),d=[],h=o.openStart;for(let t=o.content,n=0;;n++){let r=t.firstChild;if(d.push(r),n==o.openStart)break;t=r.content}for(let t=h-1;t>=0;t--){var p;let n=d[t],r=(p=n.type).spec.defining||p.spec.definingForContent;if(r&&!n.sameMarkup(s.node(Math.abs(u)-1)))h=t;else if(r||!n.type.isTextblock)break}for(let n=o.openStart;n>=0;n--){let u=(n+h+1)%(o.openStart+1),p=d[u];if(p)for(let n=0;n<l.length;n++){let d=l[(n+c)%l.length],h=!0;d<0&&(h=!1,d=-d);let f=s.node(d-1),m=s.index(d-1);if(f.canReplaceWith(m,m,p.type,p.marks))return t.replace(s.before(d),h?a.after(d):r,new i.Ji(function t(n,r,o,s,a){if(r<o){let i=n.firstChild;n=n.replaceChild(0,i.copy(t(i.content,r+1,o,s,i)))}if(r>s){let t=a.contentMatchAt(0),r=t.fillBefore(n).append(n);n=r.append(t.matchFragment(r).fillBefore(i.FK.empty,!0))}return n}(o.content,0,o.openStart,u),u,o.openEnd))}}let f=t.steps.length;for(let i=l.length-1;i>=0&&(t.replace(n,r,o),!(t.steps.length>f));i--){let t=l[i];t<0||(n=s.before(t),r=a.after(t))}}(this,t,n,r),this}replaceRangeWith(t,n,r){var o=t,s=n;if(!r.isInline&&o==s&&this.doc.resolve(o).parent.content.size){let t=function(t,n,r){let i=t.resolve(n);if(i.parent.canReplaceWith(i.index(),i.index(),r))return n;if(0==i.parentOffset)for(let t=i.depth-1;t>=0;t--){let n=i.index(t);if(i.node(t).canReplaceWith(n,n,r))return i.before(t+1);if(n>0)return null}if(i.parentOffset==i.parent.content.size)for(let t=i.depth-1;t>=0;t--){let n=i.indexAfter(t);if(i.node(t).canReplaceWith(n,n,r))return i.after(t+1);if(n<i.node(t).childCount)break}return null}(this.doc,o,r.type);null!=t&&(o=s=t)}return this.replaceRange(o,s,new i.Ji(i.FK.from(r),0,0)),this}deleteRange(t,n){return!function(t,n,r){let i=t.doc.resolve(n),o=t.doc.resolve(r),s=P(i,o);for(let n=0;n<s.length;n++){let r=s[n],a=n==s.length-1;if(a&&0==r||i.node(r).type.contentMatch.validEnd)return t.delete(i.start(r),o.end(r));if(r>0&&(a||i.node(r-1).canReplace(i.index(r-1),o.indexAfter(r-1))))return t.delete(i.before(r),o.after(r))}for(let s=1;s<=i.depth&&s<=o.depth;s++)if(n-i.start(s)==i.depth-s&&r>i.end(s)&&o.end(s)-r!=o.depth-s&&i.start(s-1)==o.start(s-1)&&i.node(s-1).canReplace(i.index(s-1),o.index(s-1)))return t.delete(i.before(s),r);t.delete(n,r)}(this,t,n),this}lift(t,n){return!function(t,n,r){let{$from:o,$to:s,depth:a}=n,l=o.before(a+1),u=s.after(a+1),c=l,d=u,h=i.FK.empty,p=0;for(let t=a,n=!1;t>r;t--)n||o.index(t)>0?(n=!0,h=i.FK.from(o.node(t).copy(h)),p++):c--;let f=i.FK.empty,m=0;for(let t=a,n=!1;t>r;t--)n||s.after(t+1)<s.end(t)?(n=!0,f=i.FK.from(s.node(t).copy(f)),m++):d++;t.step(new y(c,d,l,u,new i.Ji(h.append(f),p,m),h.size-p,!0))}(this,t,n),this}join(t,n=1){return!function(t,n,r){let o=null,{linebreakReplacement:s}=t.doc.type.schema,a=t.doc.resolve(n-r),l=a.node().type;if(s&&l.inlineContent){let t="pre"==l.whitespace,n=!!l.contentMatch.matchType(s);t&&!n?o=!1:!t&&n&&(o=!0)}let u=t.steps.length;if(!1===o){let i=t.doc.resolve(n+r);C(t,i.node(),i.before(),u)}l.inlineContent&&w(t,n+r-1,l,a.node().contentMatchAt(a.index()),null==o);let c=t.mapping.slice(u),d=c.map(n-r);if(t.step(new g(d,c.map(n+r,-1),i.Ji.empty,!0)),!0===o){let n=t.doc.resolve(d);S(t,n.node(),n.before(),t.steps.length)}}(this,t,n),this}wrap(t,n){return!function(t,n,r){let o=i.FK.empty;for(let t=r.length-1;t>=0;t--){if(o.size){let n=r[t].type.contentMatch.matchFragment(o);if(!n||!n.validEnd)throw RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}o=i.FK.from(r[t].type.create(r[t].attrs,o))}let s=n.start,a=n.end;t.step(new y(s,a,s,a,new i.Ji(o,0,0),r.length,!0))}(this,t,n),this}setBlockType(t,n=t,r,o=null){var s=this;if(!r.isTextblock)throw RangeError("Type given to setBlockType should be a textblock");let a=s.steps.length;return s.doc.nodesBetween(t,n,(t,n)=>{var l,u,c;let d,h,p="function"==typeof o?o(t):o;if(t.isTextblock&&!t.hasMarkup(r,p)&&(l=s.doc,u=s.mapping.slice(a).map(n),c=r,h=(d=l.resolve(u)).index(),d.parent.canReplaceWith(h,h+1,c))){let o=null;if(r.schema.linebreakReplacement){let t="pre"==r.whitespace,n=!!r.contentMatch.matchType(r.schema.linebreakReplacement);t&&!n?o=!1:!t&&n&&(o=!0)}!1===o&&C(s,t,n,a),w(s,s.mapping.slice(a).map(n,1),r,void 0,null===o);let l=s.mapping.slice(a),u=l.map(n,1),c=l.map(n+t.nodeSize,1);return s.step(new y(u,c,u+1,c-1,new i.Ji(i.FK.from(r.create(p,null,t.marks)),0,0),1,!0)),!0===o&&S(s,t,n,a),!1}}),this}setNodeMarkup(t,n,r=null,o){return!function(t,n,r,o,s){let a=t.doc.nodeAt(n);if(!a)throw RangeError("No node at given position");r||(r=a.type);let l=r.create(o,null,s||a.marks);if(a.isLeaf)return t.replaceWith(n,n+a.nodeSize,l);if(!r.validContent(a.content))throw RangeError("Invalid content for node type "+r.name);t.step(new y(n,n+a.nodeSize,n+1,n+a.nodeSize-1,new i.Ji(i.FK.from(l),0,0),1,!0))}(this,t,n,r,o),this}setNodeAttribute(t,n,r){return this.step(new L(t,n,r)),this}setDocAttribute(t,n){return this.step(new z(t,n)),this}addNodeMark(t,n){return this.step(new f(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw RangeError("No node at position "+t);if(n instanceof i.CU)n.isInSet(r.marks)&&this.step(new m(t,n));else{let i=r.marks,o,s=[];for(;o=n.isInSet(i);)s.push(new m(t,o)),i=o.removeFromSet(i);for(let t=s.length-1;t>=0;t--)this.step(s[t])}return this}split(t,n=1,r){return!function(t,n,r=1,o){let s=t.doc.resolve(n),a=i.FK.empty,l=i.FK.empty;for(let t=s.depth,n=s.depth-r,u=r-1;t>n;t--,u--){a=i.FK.from(s.node(t).copy(a));let n=o&&o[u];l=i.FK.from(n?n.type.create(n.attrs,l):s.node(t).copy(l))}t.step(new g(n,n,new i.Ji(a.append(l),r,r),!0))}(this,t,n,r),this}addMark(t,n,r){var i;let o,s,a,l;return i=this,a=[],l=[],i.doc.nodesBetween(t,n,(i,u,c)=>{if(!i.isInline)return;let d=i.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let c=Math.max(u,t),f=Math.min(u+i.nodeSize,n),m=r.addToSet(d);for(let t=0;t<d.length;t++)d[t].isInSet(m)||(o&&o.to==c&&o.mark.eq(d[t])?o.to=f:a.push(o=new p(c,f,d[t])));s&&s.to==c?s.to=f:l.push(s=new h(c,f,r))}}),a.forEach(t=>i.step(t)),l.forEach(t=>i.step(t)),this}removeMark(t,n,r){var o;let s,a;return o=this,s=[],a=0,o.doc.nodesBetween(t,n,(o,l)=>{if(!o.isInline)return;a++;let u=null;if(r instanceof i.sX){let t=o.marks,n;for(;n=r.isInSet(t);)(u||(u=[])).push(n),t=n.removeFromSet(t)}else r?r.isInSet(o.marks)&&(u=[r]):u=o.marks;if(u&&u.length){let r=Math.min(l+o.nodeSize,n);for(let n=0;n<u.length;n++){let i=u[n],o;for(let t=0;t<s.length;t++){let n=s[t];n.step==a-1&&i.eq(s[t].style)&&(o=n)}o?(o.to=r,o.step=a):s.push({style:i,from:Math.max(l,t),to:r,step:a})}}}),s.forEach(t=>o.step(new p(t.from,t.to,t.style))),this}clearIncompatible(t,n,r){return w(this,t,n,r),this}}},4589:(t,n,r)=>{r.d(n,{Q:()=>i}),r(66377);let i=r(4701).YY.create({name:"color",addOptions:()=>({types:["textStyle"]}),addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var n;return null==(n=t.style.color)?void 0:n.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands:()=>({setColor:t=>({chain:n})=>n().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()})})},6670:(t,n,r)=>{r.d(n,{jI:()=>V});var i=r(12115);function o(){return(o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function s(t,n){if(null==t)return{};var r,i,o={},s=Object.keys(t);for(i=0;i<s.length;i++)n.indexOf(r=s[i])>=0||(o[r]=t[r]);return o}function a(t){var n=(0,i.useRef)(t),r=(0,i.useRef)(function(t){n.current&&n.current(t)});return n.current=t,r.current}var l=function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=1),t>r?r:t<n?n:t},u=function(t){return"touches"in t},c=function(t){return t&&t.ownerDocument.defaultView||self},d=function(t,n,r){var i=t.getBoundingClientRect(),o=u(n)?function(t,n){for(var r=0;r<t.length;r++)if(t[r].identifier===n)return t[r];return t[0]}(n.touches,r):n;return{left:l((o.pageX-(i.left+c(t).pageXOffset))/i.width),top:l((o.pageY-(i.top+c(t).pageYOffset))/i.height)}},h=function(t){u(t)||t.preventDefault()},p=i.memo(function(t){var n=t.onMove,r=t.onKey,l=s(t,["onMove","onKey"]),p=(0,i.useRef)(null),f=a(n),m=a(r),g=(0,i.useRef)(null),y=(0,i.useRef)(!1),v=(0,i.useMemo)(function(){var t=function(t){h(t),(u(t)?t.touches.length>0:t.buttons>0)&&p.current?f(d(p.current,t,g.current)):r(!1)},n=function(){return r(!1)};function r(r){var i=y.current,o=c(p.current),s=r?o.addEventListener:o.removeEventListener;s(i?"touchmove":"mousemove",t),s(i?"touchend":"mouseup",n)}return[function(t){var n=t.nativeEvent,i=p.current;if(i&&(h(n),(!y.current||u(n))&&i)){if(u(n)){y.current=!0;var o=n.changedTouches||[];o.length&&(g.current=o[0].identifier)}i.focus(),f(d(i,n,g.current)),r(!0)}},function(t){var n=t.which||t.keyCode;n<37||n>40||(t.preventDefault(),m({left:39===n?.05:37===n?-.05:0,top:40===n?.05:38===n?-.05:0}))},r]},[m,f]),w=v[0],b=v[1],x=v[2];return(0,i.useEffect)(function(){return x},[x]),i.createElement("div",o({},l,{onTouchStart:w,onMouseDown:w,className:"react-colorful__interactive",ref:p,onKeyDown:b,tabIndex:0,role:"slider"}))}),f=function(t){return t.filter(Boolean).join(" ")},m=function(t){var n=t.color,r=t.left,o=t.top,s=f(["react-colorful__pointer",t.className]);return i.createElement("div",{className:s,style:{top:100*(void 0===o?.5:o)+"%",left:100*r+"%"}},i.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:n}}))},g=function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=Math.pow(10,n)),Math.round(r*t)/r},y={grad:.9,turn:360,rad:360/(2*Math.PI)},v=function(t){return I(w(t))},w=function(t){return"#"===t[0]&&(t=t.substring(1)),t.length<6?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:4===t.length?g(parseInt(t[3]+t[3],16)/255,2):1}:{r:parseInt(t.substring(0,2),16),g:parseInt(t.substring(2,4),16),b:parseInt(t.substring(4,6),16),a:8===t.length?g(parseInt(t.substring(6,8),16)/255,2):1}},b=function(t,n){return void 0===n&&(n="deg"),Number(t)*(y[n]||1)},x=function(t){var n=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(t);return n?k({h:b(n[1],n[2]),s:Number(n[3]),l:Number(n[4]),a:void 0===n[5]?1:Number(n[5])/(n[6]?100:1)}):{h:0,s:0,v:0,a:1}},k=function(t){var n=t.s,r=t.l;return{h:t.h,s:(n*=(r<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}},S=function(t){return O(j(t))},C=function(t){var n=t.s,r=t.v,i=t.a,o=(200-n)*r/100;return{h:g(t.h),s:g(o>0&&o<200?n*r/100/(o<=100?o:200-o)*100:0),l:g(o/2),a:g(i,2)}},M=function(t){var n=C(t);return"hsl("+n.h+", "+n.s+"%, "+n.l+"%)"},E=function(t){var n=C(t);return"hsla("+n.h+", "+n.s+"%, "+n.l+"%, "+n.a+")"},j=function(t){var n=t.h,r=t.s,i=t.v,o=t.a;n=n/360*6,r/=100,i/=100;var s=Math.floor(n),a=i*(1-r),l=i*(1-(n-s)*r),u=i*(1-(1-n+s)*r),c=s%6;return{r:g(255*[i,l,a,a,u,i][c]),g:g(255*[u,i,i,l,a,a][c]),b:g(255*[a,a,u,i,i,l][c]),a:g(o,2)}},N=function(t){var n=/hsva?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(t);return n?R({h:b(n[1],n[2]),s:Number(n[3]),v:Number(n[4]),a:void 0===n[5]?1:Number(n[5])/(n[6]?100:1)}):{h:0,s:0,v:0,a:1}},T=function(t){var n=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(t);return n?I({r:Number(n[1])/(n[2]?100/255:1),g:Number(n[3])/(n[4]?100/255:1),b:Number(n[5])/(n[6]?100/255:1),a:void 0===n[7]?1:Number(n[7])/(n[8]?100:1)}):{h:0,s:0,v:0,a:1}},A=function(t){var n=t.toString(16);return n.length<2?"0"+n:n},O=function(t){var n=t.r,r=t.g,i=t.b,o=t.a,s=o<1?A(g(255*o)):"";return"#"+A(n)+A(r)+A(i)+s},I=function(t){var n=t.r,r=t.g,i=t.b,o=t.a,s=Math.max(n,r,i),a=s-Math.min(n,r,i),l=a?s===n?(r-i)/a:s===r?2+(i-n)/a:4+(n-r)/a:0;return{h:g(60*(l<0?l+6:l)),s:g(s?a/s*100:0),v:g(s/255*100),a:o}},R=function(t){return{h:g(t.h),s:g(t.s),v:g(t.v),a:g(t.a,2)}},D=i.memo(function(t){var n=t.hue,r=t.onChange,o=f(["react-colorful__hue",t.className]);return i.createElement("div",{className:o},i.createElement(p,{onMove:function(t){r({h:360*t.left})},onKey:function(t){r({h:l(n+360*t.left,0,360)})},"aria-label":"Hue","aria-valuenow":g(n),"aria-valuemax":"360","aria-valuemin":"0"},i.createElement(m,{className:"react-colorful__hue-pointer",left:n/360,color:M({h:n,s:100,v:100,a:1})})))}),_=i.memo(function(t){var n=t.hsva,r=t.onChange,o={backgroundColor:M({h:n.h,s:100,v:100,a:1})};return i.createElement("div",{className:"react-colorful__saturation",style:o},i.createElement(p,{onMove:function(t){r({s:100*t.left,v:100-100*t.top})},onKey:function(t){r({s:l(n.s+100*t.left,0,100),v:l(n.v-100*t.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+g(n.s)+"%, Brightness "+g(n.v)+"%"},i.createElement(m,{className:"react-colorful__saturation-pointer",top:1-n.v/100,left:n.s/100,color:M(n)})))}),F=function(t,n){if(t===n)return!0;for(var r in t)if(t[r]!==n[r])return!1;return!0},P=function(t,n){return t.replace(/\s/g,"")===n.replace(/\s/g,"")},L=function(t,n){return t.toLowerCase()===n.toLowerCase()||F(w(t),w(n))};function z(t,n,r){var o=a(r),s=(0,i.useState)(function(){return t.toHsva(n)}),l=s[0],u=s[1],c=(0,i.useRef)({color:n,hsva:l});return(0,i.useEffect)(function(){if(!t.equal(n,c.current.color)){var r=t.toHsva(n);c.current={hsva:r,color:n},u(r)}},[n,t]),(0,i.useEffect)(function(){var n;F(l,c.current.hsva)||t.equal(n=t.fromHsva(l),c.current.color)||(c.current={hsva:l,color:n},o(n))},[l,t,o]),[l,(0,i.useCallback)(function(t){u(function(n){return Object.assign({},n,t)})},[])]}var H,$="undefined"!=typeof window?i.useLayoutEffect:i.useEffect,B=new Map,W=function(t){$(function(){var n=t.current?t.current.ownerDocument:document;if(void 0!==n&&!B.has(n)){var i=n.createElement("style");i.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',B.set(n,i);var o=H||r.nc;o&&i.setAttribute("nonce",o),n.head.appendChild(i)}},[])},J=function(t){var n=t.className,r=t.colorModel,a=t.color,l=void 0===a?r.defaultColor:a,u=t.onChange,c=s(t,["className","colorModel","color","onChange"]),d=(0,i.useRef)(null);W(d);var h=z(r,l,u),p=h[0],m=h[1],g=f(["react-colorful",n]);return i.createElement("div",o({},c,{ref:d,className:g}),i.createElement(_,{hsva:p,onChange:m}),i.createElement(D,{hue:p.h,onChange:m,className:"react-colorful__last-control"}))},K={defaultColor:"000",toHsva:v,fromHsva:function(t){return S({h:t.h,s:t.s,v:t.v,a:1})},equal:L},V=function(t){return i.createElement(J,o({},t,{colorModel:K}))},q=function(t){var n=t.className,r=t.hsva,i=t.onChange,o={backgroundImage:"linear-gradient(90deg, "+E(Object.assign({},r,{a:0}))+", "+E(Object.assign({},r,{a:1}))+")"},s=f(["react-colorful__alpha",n]),a=g(100*r.a);return e.createElement("div",{className:s},e.createElement("div",{className:"react-colorful__alpha-gradient",style:o}),e.createElement(p,{onMove:function(t){i({a:t.left})},onKey:function(t){i({a:l(r.a+t.left)})},"aria-label":"Alpha","aria-valuetext":a+"%","aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100"},e.createElement(m,{className:"react-colorful__alpha-pointer",left:r.a,color:E(r)})))}},9727:(t,n,r)=>{r.d(n,{A:()=>i});let i=(0,r(19946).A)("bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]])},10156:(t,n,r)=>{function i(t){this.content=t}r.d(n,{S4:()=>$,ZF:()=>U,FK:()=>o,CU:()=>u,sX:()=>L,bP:()=>C,u$:()=>k,vI:()=>c,Sj:()=>z,Ji:()=>d}),i.prototype={constructor:i,find:function(t){for(var n=0;n<this.content.length;n+=2)if(this.content[n]===t)return n;return -1},get:function(t){var n=this.find(t);return -1==n?void 0:this.content[n+1]},update:function(t,n,r){var o=r&&r!=t?this.remove(r):this,s=o.find(t),a=o.content.slice();return -1==s?a.push(r||t,n):(a[s+1]=n,r&&(a[s]=r)),new i(a)},remove:function(t){var n=this.find(t);if(-1==n)return this;var r=this.content.slice();return r.splice(n,2),new i(r)},addToStart:function(t,n){return new i([t,n].concat(this.remove(t).content))},addToEnd:function(t,n){var r=this.remove(t).content.slice();return r.push(t,n),new i(r)},addBefore:function(t,n,r){var o=this.remove(n),s=o.content.slice(),a=o.find(t);return s.splice(-1==a?s.length:a,0,n,r),new i(s)},forEach:function(t){for(var n=0;n<this.content.length;n+=2)t(this.content[n],this.content[n+1])},prepend:function(t){return(t=i.from(t)).size?new i(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=i.from(t)).size?new i(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var n=this;t=i.from(t);for(var r=0;r<t.content.length;r+=2)n=n.remove(t.content[r]);return n},toObject:function(){var t={};return this.forEach(function(n,r){t[n]=r}),t},get size(){return this.content.length>>1}},i.from=function(t){if(t instanceof i)return t;var n=[];if(t)for(var r in t)n.push(r,t[r]);return new i(n)};class o{constructor(t,n){if(this.content=t,this.size=n||0,null==n)for(let n=0;n<t.length;n++)this.size+=t[n].nodeSize}nodesBetween(t,n,r,i=0,o){for(let s=0,a=0;a<n;s++){let l=this.content[s],u=a+l.nodeSize;if(u>t&&!1!==r(l,i+a,o||null,s)&&l.content.size){let o=a+1;l.nodesBetween(Math.max(0,t-o),Math.min(l.content.size,n-o),r,i+o)}a=u}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let o="",s=!0;return this.nodesBetween(t,n,(a,l)=>{let u=a.isText?a.text.slice(Math.max(t,l)-l,n-l):a.isLeaf?i?"function"==typeof i?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&u||a.isTextblock)&&r&&(s?s=!1:o+=r),o+=u},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<t.content.length;s++)i.push(t.content[s]);return new o(i,this.size+t.size)}cut(t,n=this.size){if(0==t&&n==this.size)return this;let r=[],i=0;if(n>t)for(let o=0,s=0;s<n;o++){let a=this.content[o],l=s+a.nodeSize;l>t&&((s<t||l>n)&&(a=a.isText?a.cut(Math.max(0,t-s),Math.min(a.text.length,n-s)):a.cut(Math.max(0,t-s-1),Math.min(a.content.size,n-s-1))),r.push(a),i+=a.nodeSize),s=l}return new o(r,i)}cutByIndex(t,n){return t==n?o.empty:0==t&&n==this.content.length?this:new o(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new o(i,s)}addToStart(t){return new o([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new o(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return function t(n,r,i){for(let o=0;;o++){if(o==n.childCount||o==r.childCount)return n.childCount==r.childCount?null:i;let s=n.child(o),a=r.child(o);if(s==a){i+=s.nodeSize;continue}if(!s.sameMarkup(a))return i;if(s.isText&&s.text!=a.text){for(let t=0;s.text[t]==a.text[t];t++)i++;return i}if(s.content.size||a.content.size){let n=t(s.content,a.content,i+1);if(null!=n)return n}i+=s.nodeSize}}(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return function t(n,r,i,o){for(let s=n.childCount,a=r.childCount;;){if(0==s||0==a)return s==a?null:{a:i,b:o};let l=n.child(--s),u=r.child(--a),c=l.nodeSize;if(l==u){i-=c,o-=c;continue}if(!l.sameMarkup(u))return{a:i,b:o};if(l.isText&&l.text!=u.text){let t=0,n=Math.min(l.text.length,u.text.length);for(;t<n&&l.text[l.text.length-t-1]==u.text[u.text.length-t-1];)t++,i--,o--;return{a:i,b:o}}if(l.content.size||u.content.size){let n=t(l.content,u.content,i-1,o-1);if(n)return n}i-=c,o-=c}}(this,t,n,r)}findIndex(t,n=-1){if(0==t)return a(0,t);if(t==this.size)return a(this.content.length,t);if(t>this.size||t<0)throw RangeError(`Position ${t} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=i+this.child(r).nodeSize;if(o>=t){if(o==t||n>0)return a(r+1,o);return a(r,i)}i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return o.empty;if(!Array.isArray(n))throw RangeError("Invalid input for Fragment.fromJSON");return new o(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return o.empty;let n,r=0;for(let i=0;i<t.length;i++){let o=t[i];r+=o.nodeSize,i&&o.isText&&t[i-1].sameMarkup(o)?(n||(n=t.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new o(n||t,r)}static from(t){if(!t)return o.empty;if(t instanceof o)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new o([t],t.nodeSize);throw RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}o.empty=new o([],0);let s={index:0,offset:0};function a(t,n){return s.index=t,s.offset=n,s}function l(t,n){if(t===n)return!0;if(!(t&&"object"==typeof t)||!(n&&"object"==typeof n))return!1;let r=Array.isArray(t);if(Array.isArray(n)!=r)return!1;if(r){if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!l(t[r],n[r]))return!1}else{for(let r in t)if(!(r in n)||!l(t[r],n[r]))return!1;for(let r in n)if(!(r in t))return!1}return!0}class u{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let o=t[i];if(this.eq(o))return t;if(this.type.excludes(o.type))n||(n=t.slice(0,i));else{if(o.type.excludes(this.type))return t;!r&&o.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&l(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&0==t.length)return u.none;if(t instanceof u)return[t];let n=t.slice();return n.sort((t,n)=>t.type.rank-n.type.rank),n}}u.none=[];class c extends Error{}class d{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=function t(n,r,i,o){let{index:s,offset:a}=n.findIndex(r),l=n.maybeChild(s);if(a==r||l.isText)return o&&!o.canReplace(s,s,i)?null:n.cut(0,r).append(i).append(n.cut(r));let u=t(l.content,r-a-1,i);return u&&n.replaceChild(s,l.copy(u))}(this.content,t+this.openStart,n);return r&&new d(r,this.openStart,this.openEnd)}removeBetween(t,n){return new d(function t(n,r,i){let{index:o,offset:s}=n.findIndex(r),a=n.maybeChild(o),{index:l,offset:u}=n.findIndex(i);if(s==r||a.isText){if(u!=i&&!n.child(l).isText)throw RangeError("Removing non-flat range");return n.cut(0,r).append(n.cut(i))}if(o!=l)throw RangeError("Removing non-flat range");return n.replaceChild(o,a.copy(t(a.content,r-s-1,i-s-1)))}(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return d.empty;let r=n.openStart||0,i=n.openEnd||0;if("number"!=typeof r||"number"!=typeof i)throw RangeError("Invalid input for Slice.fromJSON");return new d(o.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let i=t.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let r=t.lastChild;r&&!r.isLeaf&&(n||!r.type.spec.isolating);r=r.lastChild)i++;return new d(t,r,i)}}function h(t,n){if(!n.type.compatibleContent(t.type))throw new c("Cannot join "+n.type.name+" onto "+t.type.name)}function p(t,n,r){let i=t.node(r);return h(i,n.node(r)),i}function f(t,n){let r=n.length-1;r>=0&&t.isText&&t.sameMarkup(n[r])?n[r]=t.withText(n[r].text+t.text):n.push(t)}function m(t,n,r,i){let o=(n||t).node(r),s=0,a=n?n.index(r):o.childCount;t&&(s=t.index(r),t.depth>r?s++:t.textOffset&&(f(t.nodeAfter,i),s++));for(let t=s;t<a;t++)f(o.child(t),i);n&&n.depth==r&&n.textOffset&&f(n.nodeBefore,i)}function g(t,n){return t.type.checkContent(n),t.copy(n)}function y(t,n,r){let i=[];return m(null,t,r,i),t.depth>r&&f(g(p(t,n,r+1),y(t,n,r+1)),i),m(n,null,r,i),new o(i)}d.empty=new d(o.empty,0,0);class v{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[3*this.resolveDepth(t)]}index(t){return this.path[3*this.resolveDepth(t)+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}start(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(!(t=this.resolveDepth(t)))throw RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]}after(t){if(!(t=this.resolveDepth(t)))throw RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):0==t?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[3*n],i=0==n?0:this.path[3*n-1]+1;for(let n=0;n<t;n++)i+=r.child(n).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(0==t.content.size)return u.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let t=r;r=i,i=t}let o=r.marks;for(var s=0;s<o.length;s++)!1!==o[s].type.spec.inclusive||i&&o[s].isInSet(i.marks)||(o=o[s--].removeFromSet(o));return o}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var o=0;o<r.length;o++)!1!==r[o].type.spec.inclusive||i&&r[o].isInSet(i.marks)||(r=r[o--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new k(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let n=t;;){let{index:t,offset:s}=n.content.findIndex(o),a=o-s;if(r.push(n,t,i+s),!a||(n=n.child(t)).isText)break;o=a-1,i+=s+1}return new v(n,r,o)}static resolveCached(t,n){let r=x.get(t);if(r)for(let t=0;t<r.elts.length;t++){let i=r.elts[t];if(i.pos==n)return i}else x.set(t,r=new w);let i=r.elts[r.i]=v.resolve(t,n);return r.i=(r.i+1)%b,i}}class w{constructor(){this.elts=[],this.i=0}}let b=12,x=new WeakMap;class k{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}let S=Object.create(null);class C{constructor(t,n,r,i=u.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||o.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&l(this.attrs,n||t.defaultAttrs||S)&&u.sameSet(this.marks,r||u.none)}copy(t=null){return t==this.content?this:new C(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new C(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return 0==t&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return d.empty;let i=this.resolve(t),o=this.resolve(n),s=r?0:i.sharedDepth(n),a=i.start(s);return new d(i.node(s).content.cut(i.pos-a,o.pos-a),i.depth-s,o.depth-s)}replace(t,n,r){var i=this.resolve(t),s=this.resolve(n);if(r.openStart>i.depth)throw new c("Inserted content deeper than insertion position");if(i.depth-r.openStart!=s.depth-r.openEnd)throw new c("Inconsistent open depths");return function t(n,r,i,s){let a=n.index(s),l=n.node(s);if(a==r.index(s)&&s<n.depth-i.openStart){let o=t(n,r,i,s+1);return l.copy(l.content.replaceChild(a,o))}if(!i.content.size)return g(l,y(n,r,s));if(i.openStart||i.openEnd||n.depth!=s||r.depth!=s){let{start:t,end:a}=function(t,n){let r=n.depth-t.openStart,i=n.node(r).copy(t.content);for(let t=r-1;t>=0;t--)i=n.node(t).copy(o.from(i));return{start:i.resolveNoCache(t.openStart+r),end:i.resolveNoCache(i.content.size-t.openEnd-r)}}(i,n);return g(l,function t(n,r,i,s,a){let l=n.depth>a&&p(n,r,a+1),u=s.depth>a&&p(i,s,a+1),c=[];return m(null,n,a,c),l&&u&&r.index(a)==i.index(a)?(h(l,u),f(g(l,t(n,r,i,s,a+1)),c)):(l&&f(g(l,y(n,r,a+1)),c),m(r,i,a,c),u&&f(g(u,y(i,s,a+1)),c)),m(s,null,a,c),new o(c)}(n,t,a,r,s))}{let t=n.parent,o=t.content;return g(t,o.cut(0,n.parentOffset).append(i.content).append(o.cut(r.parentOffset)))}}(i,s,r,0)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(!(n=n.maybeChild(r)))return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(0==t)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return v.resolveCached(this,t)}resolveNoCache(t){return v.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,t=>(r.isInSet(t.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),E(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=o.empty,i=0,s=r.childCount){let a=this.contentMatchAt(t).matchFragment(r,i,s),l=a&&a.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let t=i;t<s;t++)if(!this.type.allowsMarks(r.child(t).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(t).matchType(r),s=o&&o.matchFragment(this.content,n);return!!s&&s.validEnd}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=u.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!u.sameSet(t,this.marks))throw RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(t=>t.toJSON())),t}static fromJSON(t,n){let r;if(!n)throw RangeError("Invalid input for Node.fromJSON");if(n.marks){if(!Array.isArray(n.marks))throw RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if("text"==n.type){if("string"!=typeof n.text)throw RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=o.fromJSON(t,n.content),s=t.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}}C.prototype.text=void 0;class M extends C{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):E(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new M(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new M(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return 0==t&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function E(t,n){for(let r=t.length-1;r>=0;r--)n=t[r].type.name+"("+n+")";return n}class j{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){var r;let i,o=new N(t,n);if(null==o.next)return j.empty;let s=function t(n){let r=[];do r.push(function(n){let r=[];do r.push(function(n){let r=function(n){if(n.eat("(")){let r=t(n);return n.eat(")")||n.err("Missing closing paren"),r}if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let t=(function(t,n){let r=t.nodeTypes,i=r[n];if(i)return[i];let o=[];for(let t in r){let i=r[t];i.isInGroup(n)&&o.push(i)}return 0==o.length&&t.err("No node type or group '"+n+"' found"),o})(n,n.next).map(t=>(null==n.inline?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}}(n);for(;;)if(n.eat("+"))r={type:"plus",expr:r};else if(n.eat("*"))r={type:"star",expr:r};else if(n.eat("?"))r={type:"opt",expr:r};else if(n.eat("{"))r=function(t,n){let r=T(t),i=r;return t.eat(",")&&(i="}"!=t.next?T(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:i,expr:n}}(n,r);else break;return r}(n));while(n.next&&")"!=n.next&&"|"!=n.next);return 1==r.length?r[0]:{type:"seq",exprs:r}}(n));while(n.eat("|"));return 1==r.length?r[0]:{type:"choice",exprs:r}}(o);o.next&&o.err("Unexpected trailing text");let a=(r=function(t){let n=[[]];return o(function t(n,s){if("choice"==n.type)return n.exprs.reduce((n,r)=>n.concat(t(r,s)),[]);if("seq"==n.type)for(let i=0;;i++){let a=t(n.exprs[i],s);if(i==n.exprs.length-1)return a;o(a,s=r())}else if("star"==n.type){let a=r();return i(s,a),o(t(n.expr,a),a),[i(a)]}else if("plus"==n.type){let a=r();return o(t(n.expr,s),a),o(t(n.expr,a),a),[i(a)]}else if("opt"==n.type)return[i(s)].concat(t(n.expr,s));else if("range"==n.type){let a=s;for(let i=0;i<n.min;i++){let i=r();o(t(n.expr,a),i),a=i}if(-1==n.max)o(t(n.expr,a),a);else for(let s=n.min;s<n.max;s++){let s=r();i(a,s),o(t(n.expr,a),s),a=s}return[i(a)]}else if("name"==n.type)return[i(s,void 0,n.value)];else throw Error("Unknown expr type")}(t,0),r()),n;function r(){return n.push([])-1}function i(t,r,i){let o={term:i,to:r};return n[t].push(o),o}function o(t,n){t.forEach(t=>t.to=n)}}(s),i=Object.create(null),function t(n){let o=[];n.forEach(t=>{r[t].forEach(({term:t,to:n})=>{let i;if(t){for(let n=0;n<o.length;n++)o[n][0]==t&&(i=o[n][1]);O(r,n).forEach(n=>{i||o.push([t,i=[]]),-1==i.indexOf(n)&&i.push(n)})}})});let s=i[n.join(",")]=new j(n.indexOf(r.length-1)>-1);for(let n=0;n<o.length;n++){let r=o[n][1].sort(A);s.next.push({type:o[n][0],next:i[r.join(",")]||t(r)})}return s}(O(r,0)));return function(t,n){for(let r=0,i=[t];r<i.length;r++){let t=i[r],o=!t.validEnd,s=[];for(let n=0;n<t.next.length;n++){let{type:r,next:a}=t.next[n];s.push(r.name),o&&!(r.isText||r.hasRequiredAttrs())&&(o=!1),-1==i.indexOf(a)&&i.push(a)}o&&n.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(a,o),a}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(t.child(o).type);return i}get inlineContent(){return 0!=this.next.length&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];return function s(a,l){let u=a.matchFragment(t,r);if(u&&(!n||u.validEnd))return o.from(l.map(t=>t.createAndFill()));for(let t=0;t<a.next.length;t++){let{type:n,next:r}=a.next[t];if(!(n.isText||n.hasRequiredAttrs())&&-1==i.indexOf(r)){i.push(r);let t=s(r,l.concat(n));if(t)return t}}return null}(this,[])}findWrapping(t){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==t)return this.wrapCache[n+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(t)){let t=[];for(let n=i;n.type;n=n.via)t.push(n.type);return t.reverse()}for(let t=0;t<o.next.length;t++){let{type:s,next:a}=o.next[t];s.isLeaf||s.hasRequiredAttrs()||s.name in n||i.type&&!a.validEnd||(r.push({match:s.contentMatch,type:s,via:i}),n[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];return!function n(r){t.push(r);for(let i=0;i<r.next.length;i++)-1==t.indexOf(r.next[i].next)&&n(r.next[i].next)}(this),t.map((n,r)=>{let i=r+(n.validEnd?"*":" ")+" ";for(let r=0;r<n.next.length;r++)i+=(r?", ":"")+n.next[r].type.name+"->"+t.indexOf(n.next[r].next);return i}).join("\n")}}j.empty=new j(!0);class N{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw SyntaxError(t+" (in content expression '"+this.string+"')")}}function T(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let n=Number(t.next);return t.pos++,n}function A(t,n){return n-t}function O(t,n){let r=[];return function n(i){let o=t[i];if(1==o.length&&!o[0].term)return n(o[0].to);r.push(i);for(let t=0;t<o.length;t++){let{term:i,to:s}=o[t];i||-1!=r.indexOf(s)||n(s)}}(n),r.sort(A)}function I(t){let n=Object.create(null);for(let r in t){let i=t[r];if(!i.hasDefault)return null;n[r]=i.default}return n}function R(t,n){let r=Object.create(null);for(let i in t){let o=n&&n[i];if(void 0===o){let n=t[i];if(n.hasDefault)o=n.default;else throw RangeError("No value supplied for attribute "+i)}r[i]=o}return r}function D(t,n,r,i){for(let i in n)if(!(i in t))throw RangeError(`Unsupported attribute ${i} for ${r} of type ${i}`);for(let r in t){let i=t[r];i.validate&&i.validate(n[r])}}function _(t,n){let r=Object.create(null);if(n)for(let i in n)r[i]=new P(t,i,n[i]);return r}class F{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=_(t,r.attrs),this.defaultAttrs=I(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||"text"==t),this.isText="text"==t}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==j.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:R(this.attrs,t)}create(t=null,n,r){if(this.isText)throw Error("NodeType.create can't construct text nodes");return new C(this,this.computeAttrs(t),o.from(n),u.setFrom(r))}createChecked(t=null,n,r){return n=o.from(n),this.checkContent(n),new C(this,this.computeAttrs(t),n,u.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),(n=o.from(n)).size){let t=this.contentMatch.fillBefore(n);if(!t)return null;n=t.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(o.empty,!0);return s?new C(this,t,n.append(s),u.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){D(this.attrs,t,"node",this.name)}allowsMarkType(t){return null==this.markSet||this.markSet.indexOf(t)>-1}allowsMarks(t){if(null==this.markSet)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){let n;if(null==this.markSet)return t;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:u.none:t}static compile(t,n){let r=Object.create(null);t.forEach((t,i)=>r[t]=new F(t,n,i));let i=n.spec.topNode||"doc";if(!r[i])throw RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw RangeError("Every schema needs a 'text' type");for(let t in r.text.attrs)throw RangeError("The text node type should not have attributes");return r}}class P{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate="string"==typeof r.validate?function(t,n,r){let i=r.split("|");return r=>{let o=null===r?"null":typeof r;if(0>i.indexOf(o))throw RangeError(`Expected value of type ${i} for attribute ${n} on type ${t}, got ${o}`)}}(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class L{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=_(t,i.attrs),this.excluded=null;let o=I(this.attrs);this.instance=o?new u(this,o):null}create(t=null){return!t&&this.instance?this.instance:new u(this,R(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((t,o)=>r[t]=new L(t,i++,n,o)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){D(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class z{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let r in t)n[r]=t[r];n.nodes=i.from(t.nodes),n.marks=i.from(t.marks||{}),this.nodes=F.compile(this.spec.nodes,this),this.marks=L.compile(this.spec.marks,this);let r=Object.create(null);for(let t in this.nodes){if(t in this.marks)throw RangeError(t+" can not be both a node and a mark");let n=this.nodes[t],i=n.spec.content||"",o=n.spec.marks;if(n.contentMatch=r[i]||(r[i]=j.parse(i,this.nodes)),n.inlineContent=n.contentMatch.inlineContent,n.spec.linebreakReplacement){if(this.linebreakReplacement)throw RangeError("Multiple linebreak nodes defined");if(!n.isInline||!n.isLeaf)throw RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=n}n.markSet="_"==o?null:o?H(this,o.split(" ")):""!=o&&n.inlineContent?null:[]}for(let t in this.marks){let n=this.marks[t],r=n.spec.excludes;n.excluded=null==r?[n]:""==r?[]:H(this,r.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if("string"==typeof t)t=this.nodeType(t);else if(t instanceof F){if(t.schema!=this)throw RangeError("Node type from different schema used ("+t.name+")")}else throw RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new M(r,r.defaultAttrs,t,u.setFrom(n))}mark(t,n){return"string"==typeof t&&(t=this.marks[t]),t.create(n)}nodeFromJSON(t){return C.fromJSON(this,t)}markFromJSON(t){return u.fromJSON(this,t)}nodeType(t){let n=this.nodes[t];if(!n)throw RangeError("Unknown node type: "+t);return n}}function H(t,n){let r=[];for(let i=0;i<n.length;i++){let o=n[i],s=t.marks[o],a=s;if(s)r.push(s);else for(let n in t.marks){let i=t.marks[n];("_"==o||i.spec.group&&i.spec.group.split(" ").indexOf(o)>-1)&&r.push(a=i)}if(!a)throw SyntaxError("Unknown mark type: '"+n[i]+"'")}return r}class ${constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(t=>{if(null!=t.tag)this.tags.push(t);else if(null!=t.style){let n=/[^=]*/.exec(t.style)[0];0>r.indexOf(n)&&r.push(n),this.styles.push(t)}}),this.normalizeLists=!this.tags.some(n=>{if(!/^(ul|ol)\b/.test(n.tag)||!n.node)return!1;let r=t.nodes[n.node];return r.contentMatch.matchType(r)})}parse(t,n={}){let r=new q(this,n,!1);return r.addAll(t,u.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new q(this,n,!0);return r.addAll(t,u.none,n.from,n.to),d.maxOpen(r.finish())}matchTag(t,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){var i,o;let r=this.tags[s];if(i=t,o=r.tag,(i.matches||i.msMatchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector).call(i,o)&&(void 0===r.namespace||t.namespaceURI==r.namespace)&&(!r.context||n.matchesContext(r.context))){if(r.getAttrs){let n=r.getAttrs(t);if(!1===n)continue;r.attrs=n||void 0}return r}}}matchStyle(t,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let i=this.styles[o],s=i.style;if(0==s.indexOf(t)&&(!i.context||r.matchesContext(i.context))&&(!(s.length>t.length)||61==s.charCodeAt(t.length)&&s.slice(t.length+1)==n)){if(i.getAttrs){let t=i.getAttrs(n);if(!1===t)continue;i.attrs=t||void 0}return i}}}static schemaRules(t){let n=[];function r(t){let r=null==t.priority?50:t.priority,i=0;for(;i<n.length;i++){let t=n[i];if((null==t.priority?50:t.priority)<r)break}n.splice(i,0,t)}for(let n in t.marks){let i=t.marks[n].spec.parseDOM;i&&i.forEach(t=>{r(t=Y(t)),t.mark||t.ignore||t.clearMark||(t.mark=n)})}for(let n in t.nodes){let i=t.nodes[n].spec.parseDOM;i&&i.forEach(t=>{r(t=Y(t)),t.node||t.ignore||t.mark||(t.node=n)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new $(t,$.schemaRules(t)))}}let B={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},W={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},J={ol:!0,ul:!0};function K(t,n,r){return null!=n?!!n|2*("full"===n):t&&"pre"==t.whitespace?3:-5&r}class V{constructor(t,n,r,i,o,s){this.type=t,this.attrs=n,this.marks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=u.none,this.match=o||(4&s?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(o.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let n=this.type.contentMatch,r;return(r=n.findWrapping(t.type))?(this.match=n,r):null}}return this.match.findWrapping(t.type)}finish(t){if(!(1&this.options)){let t=this.content[this.content.length-1],n;t&&t.isText&&(n=/[ \t\r\n\u000c]+$/.exec(t.text))&&(t.text.length==n[0].length?this.content.pop():this.content[this.content.length-1]=t.withText(t.text.slice(0,t.text.length-n[0].length)))}let n=o.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(o.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!B.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class q{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,o,s=K(null,n.preserveWhitespace,0)|4*!!r;o=i?new V(i.type,i.attrs,u.none,!0,n.topMatch||i.type.contentMatch,s):r?new V(null,null,u.none,!0,null,s):new V(t.schema.topNodeType,null,u.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){3==t.nodeType?this.addTextNode(t,n):1==t.nodeType&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,i=this.top,o=2&i.options?"full":this.localPreserveWS||(1&i.options)>0;if("full"===o||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(o)r="full"!==o?r.replace(/\r?\n|\r/g," "):r.replace(/\r\n?/g,"\n");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let n=i.content[i.content.length-1],o=t.previousSibling;(!n||o&&"BR"==o.nodeName||n.isText&&/[ \t\r\n\u000c]$/.test(n.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let i=this.localPreserveWS,o=this.top;("PRE"==t.tagName||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let s=t.nodeName.toLowerCase(),a;J.hasOwnProperty(s)&&this.parser.normalizeLists&&function(t){for(let n=t.firstChild,r=null;n;n=n.nextSibling){let t=1==n.nodeType?n.nodeName.toLowerCase():null;t&&J.hasOwnProperty(t)&&r?(r.appendChild(n),n=r):"li"==t?r=n:t&&(r=null)}}(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(a=this.parser.matchTag(t,this,r));t:if(l?l.ignore:W.hasOwnProperty(s))this.findInside(t),this.ignoreFallback(t,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let r,i=this.needsBlock;if(B.hasOwnProperty(s))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),r=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break t}let a=l&&l.skip?n:this.readStyles(t,n);a&&this.addAll(t,a),r&&this.sync(o),this.needsBlock=i}else{let r=this.readStyles(t,n);r&&this.addElementByRule(t,l,r,!1===l.consuming?a:void 0)}this.localPreserveWS=i}leafFallback(t,n){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"),n)}ignoreFallback(t,n){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let t=0;t<this.parser.matchedStyles.length;t++){let i=this.parser.matchedStyles[t],o=r.getPropertyValue(i);if(o)for(let t;;){let r=this.parser.matchStyle(i,o,this,t);if(!r)break;if(r.ignore)return null;if(n=r.clearMark?n.filter(t=>!r.clearMark(t)):n.concat(this.parser.schema.marks[r.mark].create(r.attrs)),!1===r.consuming)t=r;else break}}return n}addElementByRule(t,n,r,i){let o,s;if(n.node)if((s=this.parser.schema.nodes[n.node]).isLeaf)this.insertNode(s.create(n.attrs),r,"BR"==t.nodeName)||this.leafFallback(t,r);else{let t=this.enter(s,n.attrs||null,r,n.preserveWhitespace);t&&(o=!0,r=t)}else{let t=this.parser.schema.marks[n.mark];r=r.concat(t.create(n.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(t);else if(i)this.addElement(t,r,i);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(t=>this.insertNode(t,r,!1));else{let i=t;"string"==typeof n.contentElement?i=t.querySelector(n.contentElement):"function"==typeof n.contentElement?i=n.contentElement(t):n.contentElement&&(i=n.contentElement),this.findAround(t,i,!0),this.addAll(i,r),this.findAround(t,i,!1)}o&&this.sync(a)&&this.open--}addAll(t,n,r,i){let o=r||0;for(let s=r?t.childNodes[r]:t.firstChild,a=null==i?null:t.childNodes[i];s!=a;s=s.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(s,n);this.findAtPoint(t,o)}findPlace(t,n,r){let i,o;for(let n=this.open,s=0;n>=0;n--){let a=this.nodes[n],l=a.findWrapping(t);if(l&&(!i||i.length>l.length+s)&&(i=l,o=a,!l.length))break;if(a.solid){if(r)break;s+=2}}if(!i)return null;this.sync(o);for(let t=0;t<i.length;t++)n=this.enterInner(i[t],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext();t&&(n=this.enterInner(t,null,n))}let i=this.findPlace(t,n,r);if(i){this.closeExtra();let n=this.top;n.match&&(n.match=n.match.matchType(t.type));let r=u.none;for(let o of i.concat(t.marks))(n.type?n.type.allowsMarkType(o.type):G(o.type,t.type))&&(r=o.addToSet(r));return n.content.push(t.mark(r)),!0}return!1}enter(t,n,r,i){let o=this.findPlace(t.create(n),r,!1);return o&&(o=this.enterInner(t,n,r,!0,i)),o}enterInner(t,n,r,i=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(t);let a=K(t,o,s.options);4&s.options&&0==s.content.length&&(a|=4);let l=u.none;return r=r.filter(n=>(s.type?!s.type.allowsMarkType(n.type):!G(n.type,t))||(l=n.addToSet(l),!1)),this.nodes.push(new V(t,n,l,i,null,a)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--)if(this.nodes[n]==t)return this.open=n,!0;else this.localPreserveWS&&(this.nodes[n].options|=1);return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let n=r.length-1;n>=0;n--)t+=r[n].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)null==this.find[n].pos&&1==t.nodeType&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)null==this.find[i].pos&&1==t.nodeType&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+ +!i,s=(t,a)=>{for(;t>=0;t--){let l=n[t];if(""==l){if(t==n.length-1||0==t)continue;for(;a>=o;a--)if(s(t-1,a))return!0;return!1}{let t=a>0||0==a&&i?this.nodes[a].type:r&&a>=o?r.node(a-o).type:null;if(!t||t.name!=l&&!t.isInGroup(l))return!1;a--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let n=this.parser.schema.nodes[t];if(n.isTextblock&&n.defaultAttrs)return n}}}function Y(t){let n={};for(let r in t)n[r]=t[r];return n}function G(t,n){let r=n.schema.nodes;for(let i in r){let o=r[i];if(!o.allowsMarkType(t))continue;let s=[],a=t=>{s.push(t);for(let r=0;r<t.edgeCount;r++){let{type:i,next:o}=t.edge(r);if(i==n||0>s.indexOf(o)&&a(o))return!0}};if(a(o.contentMatch))return!0}}class U{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=Q(n).createDocumentFragment());let i=r,o=[];return t.forEach(t=>{if(o.length||t.marks.length){let r=0,s=0;for(;r<o.length&&s<t.marks.length;){let n=t.marks[s];if(!this.marks[n.type.name]){s++;continue}if(!n.eq(o[r][0])||!1===n.type.spec.spanning)break;r++,s++}for(;r<o.length;)i=o.pop()[1];for(;s<t.marks.length;){let r=t.marks[s++],a=this.serializeMark(r,t.isInline,n);a&&(o.push([r,i]),i.appendChild(a.dom),i=a.contentDOM||a.dom)}}i.appendChild(this.serializeNodeInner(t,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=ee(Q(n),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let o=this.serializeMark(t.marks[i],t.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&ee(Q(r),i(t,n),null,t.attrs)}static renderSpec(t,n,r=null,i){return ee(t,n,r,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new U(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=X(t.nodes);return n.text||(n.text=t=>t.text),n}static marksFromSchema(t){return X(t.marks)}}function X(t){let n={};for(let r in t){let i=t[r].spec.toDOM;i&&(n[r]=i)}return n}function Q(t){return t.document||window.document}let Z=new WeakMap;function ee(t,n,r,i){let o,s,a;if("string"==typeof n)return{dom:t.createTextNode(n)};if(null!=n.nodeType)return{dom:n};if(n.dom&&null!=n.dom.nodeType)return n;let l=n[0],u;if("string"!=typeof l)throw RangeError("Invalid array passed to renderSpec");if(i&&(void 0===(s=Z.get(i))&&Z.set(i,(a=null,!function t(n){if(n&&"object"==typeof n)if(Array.isArray(n))if("string"==typeof n[0])a||(a=[]),a.push(n);else for(let r=0;r<n.length;r++)t(n[r]);else for(let r in n)t(n[r])}(i),s=a)),u=s)&&u.indexOf(n)>-1)throw RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=l.indexOf(" ");c>0&&(r=l.slice(0,c),l=l.slice(c+1));let d=r?t.createElementNS(r,l):t.createElement(l),h=n[1],p=1;if(h&&"object"==typeof h&&null==h.nodeType&&!Array.isArray(h)){for(let t in p=2,h)if(null!=h[t]){let n=t.indexOf(" ");n>0?d.setAttributeNS(t.slice(0,n),t.slice(n+1),h[t]):d.setAttribute(t,h[t])}}for(let s=p;s<n.length;s++){let a=n[s];if(0===a){if(s<n.length-1||s>p)throw RangeError("Content hole must be the only child of its parent node");return{dom:d,contentDOM:d}}{let{dom:n,contentDOM:s}=ee(t,a,r,i);if(d.appendChild(n),s){if(o)throw RangeError("Multiple content holes");o=s}}}return{dom:d,contentDOM:o}}},14555:(t,n,r)=>{r.d(n,{A:()=>i});let i=(0,r(19946).A)("circle-arrow-right",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}],["path",{d:"M8 12h8",key:"1wcyev"}]])},15452:(t,n,r)=>{r.d(n,{G$:()=>G,Hs:()=>k,L3:()=>B,UC:()=>er,VY:()=>eo,ZL:()=>et,bL:()=>Z,bm:()=>es,hE:()=>ei,hJ:()=>en,l9:()=>ee});var i=r(12115),o=r(85185),s=r(6101),a=r(46081),l=r(61285),u=r(5845),c=r(19178),d=r(25519),h=r(34378),p=r(28905),f=r(63655),m=r(92293),g=r(31114),y=r(38168),v=r(99708),w=r(95155),b="Dialog",[x,k]=(0,a.A)(b),[S,C]=x(b),M=t=>{let{__scopeDialog:n,children:r,open:o,defaultOpen:s,onOpenChange:a,modal:c=!0}=t,d=i.useRef(null),h=i.useRef(null),[p,f]=(0,u.i)({prop:o,defaultProp:null!=s&&s,onChange:a,caller:b});return(0,w.jsx)(S,{scope:n,triggerRef:d,contentRef:h,contentId:(0,l.B)(),titleId:(0,l.B)(),descriptionId:(0,l.B)(),open:p,onOpenChange:f,onOpenToggle:i.useCallback(()=>f(t=>!t),[f]),modal:c,children:r})};M.displayName=b;var E="DialogTrigger",j=i.forwardRef((t,n)=>{let{__scopeDialog:r,...i}=t,a=C(E,r),l=(0,s.s)(n,a.triggerRef);return(0,w.jsx)(f.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":q(a.open),...i,ref:l,onClick:(0,o.m)(t.onClick,a.onOpenToggle)})});j.displayName=E;var N="DialogPortal",[T,A]=x(N,{forceMount:void 0}),O=t=>{let{__scopeDialog:n,forceMount:r,children:o,container:s}=t,a=C(N,n);return(0,w.jsx)(T,{scope:n,forceMount:r,children:i.Children.map(o,t=>(0,w.jsx)(p.C,{present:r||a.open,children:(0,w.jsx)(h.Z,{asChild:!0,container:s,children:t})}))})};O.displayName=N;var I="DialogOverlay",R=i.forwardRef((t,n)=>{let r=A(I,t.__scopeDialog),{forceMount:i=r.forceMount,...o}=t,s=C(I,t.__scopeDialog);return s.modal?(0,w.jsx)(p.C,{present:i||s.open,children:(0,w.jsx)(_,{...o,ref:n})}):null});R.displayName=I;var D=(0,v.TL)("DialogOverlay.RemoveScroll"),_=i.forwardRef((t,n)=>{let{__scopeDialog:r,...i}=t,o=C(I,r);return(0,w.jsx)(g.A,{as:D,allowPinchZoom:!0,shards:[o.contentRef],children:(0,w.jsx)(f.sG.div,{"data-state":q(o.open),...i,ref:n,style:{pointerEvents:"auto",...i.style}})})}),F="DialogContent",P=i.forwardRef((t,n)=>{let r=A(F,t.__scopeDialog),{forceMount:i=r.forceMount,...o}=t,s=C(F,t.__scopeDialog);return(0,w.jsx)(p.C,{present:i||s.open,children:s.modal?(0,w.jsx)(L,{...o,ref:n}):(0,w.jsx)(z,{...o,ref:n})})});P.displayName=F;var L=i.forwardRef((t,n)=>{let r=C(F,t.__scopeDialog),a=i.useRef(null),l=(0,s.s)(n,r.contentRef,a);return i.useEffect(()=>{let t=a.current;if(t)return(0,y.Eq)(t)},[]),(0,w.jsx)(H,{...t,ref:l,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,o.m)(t.onCloseAutoFocus,t=>{var n;t.preventDefault(),null==(n=r.triggerRef.current)||n.focus()}),onPointerDownOutside:(0,o.m)(t.onPointerDownOutside,t=>{let n=t.detail.originalEvent,r=0===n.button&&!0===n.ctrlKey;(2===n.button||r)&&t.preventDefault()}),onFocusOutside:(0,o.m)(t.onFocusOutside,t=>t.preventDefault())})}),z=i.forwardRef((t,n)=>{let r=C(F,t.__scopeDialog),o=i.useRef(!1),s=i.useRef(!1);return(0,w.jsx)(H,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{var i,a;null==(i=t.onCloseAutoFocus)||i.call(t,n),n.defaultPrevented||(o.current||null==(a=r.triggerRef.current)||a.focus(),n.preventDefault()),o.current=!1,s.current=!1},onInteractOutside:n=>{var i,a;null==(i=t.onInteractOutside)||i.call(t,n),n.defaultPrevented||(o.current=!0,"pointerdown"===n.detail.originalEvent.type&&(s.current=!0));let l=n.target;(null==(a=r.triggerRef.current)?void 0:a.contains(l))&&n.preventDefault(),"focusin"===n.detail.originalEvent.type&&s.current&&n.preventDefault()}})}),H=i.forwardRef((t,n)=>{let{__scopeDialog:r,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:l,...u}=t,h=C(F,r),p=i.useRef(null),f=(0,s.s)(n,p);return(0,m.Oh)(),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(d.n,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:l,children:(0,w.jsx)(c.qW,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":q(h.open),...u,ref:f,onDismiss:()=>h.onOpenChange(!1)})}),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(X,{titleId:h.titleId}),(0,w.jsx)(Q,{contentRef:p,descriptionId:h.descriptionId})]})]})}),$="DialogTitle",B=i.forwardRef((t,n)=>{let{__scopeDialog:r,...i}=t,o=C($,r);return(0,w.jsx)(f.sG.h2,{id:o.titleId,...i,ref:n})});B.displayName=$;var W="DialogDescription",J=i.forwardRef((t,n)=>{let{__scopeDialog:r,...i}=t,o=C(W,r);return(0,w.jsx)(f.sG.p,{id:o.descriptionId,...i,ref:n})});J.displayName=W;var K="DialogClose",V=i.forwardRef((t,n)=>{let{__scopeDialog:r,...i}=t,s=C(K,r);return(0,w.jsx)(f.sG.button,{type:"button",...i,ref:n,onClick:(0,o.m)(t.onClick,()=>s.onOpenChange(!1))})});function q(t){return t?"open":"closed"}V.displayName=K;var Y="DialogTitleWarning",[G,U]=(0,a.q)(Y,{contentName:F,titleName:$,docsSlug:"dialog"}),X=t=>{let{titleId:n}=t,r=U(Y),o="`".concat(r.contentName,"` requires a `").concat(r.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(r.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(r.docsSlug);return i.useEffect(()=>{n&&(document.getElementById(n)||console.error(o))},[o,n]),null},Q=t=>{let{contentRef:n,descriptionId:r}=t,o=U("DialogDescriptionWarning"),s="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(o.contentName,"}.");return i.useEffect(()=>{var t;let i=null==(t=n.current)?void 0:t.getAttribute("aria-describedby");r&&i&&(document.getElementById(r)||console.warn(s))},[s,n,r]),null},Z=M,ee=j,et=O,en=R,er=P,ei=B,eo=J,es=V},19144:(t,n,r)=>{r.d(n,{A:()=>i});let i=(0,r(19946).A)("italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]])},27213:(t,n,r)=>{r.d(n,{A:()=>i});let i=(0,r(19946).A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},33127:(t,n,r)=>{r.d(n,{A:()=>i});let i=(0,r(19946).A)("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]])},42493:(t,n,r)=>{r.d(n,{q7:()=>A,bL:()=>T});var i=r(12115),o=r(46081),s=r(63655),a=r(89196),l=r(85185),u=r(5845),c=r(95155),d="Toggle",h=i.forwardRef((t,n)=>{let{pressed:r,defaultPressed:i,onPressedChange:o,...a}=t,[h,p]=(0,u.i)({prop:r,onChange:o,defaultProp:null!=i&&i,caller:d});return(0,c.jsx)(s.sG.button,{type:"button","aria-pressed":h,"data-state":h?"on":"off","data-disabled":t.disabled?"":void 0,...a,ref:n,onClick:(0,l.m)(t.onClick,()=>{t.disabled||p(!h)})})});h.displayName=d;var p=r(94315),f="ToggleGroup",[m,g]=(0,o.A)(f,[a.RG]),y=(0,a.RG)(),v=i.forwardRef((t,n)=>{let{type:r,...i}=t;if("single"===r)return(0,c.jsx)(x,{...i,ref:n});if("multiple"===r)return(0,c.jsx)(k,{...i,ref:n});throw Error("Missing prop `type` expected on `".concat(f,"`"))});v.displayName=f;var[w,b]=m(f),x=i.forwardRef((t,n)=>{let{value:r,defaultValue:o,onValueChange:s=()=>{},...a}=t,[l,d]=(0,u.i)({prop:r,defaultProp:null!=o?o:"",onChange:s,caller:f});return(0,c.jsx)(w,{scope:t.__scopeToggleGroup,type:"single",value:i.useMemo(()=>l?[l]:[],[l]),onItemActivate:d,onItemDeactivate:i.useCallback(()=>d(""),[d]),children:(0,c.jsx)(M,{...a,ref:n})})}),k=i.forwardRef((t,n)=>{let{value:r,defaultValue:o,onValueChange:s=()=>{},...a}=t,[l,d]=(0,u.i)({prop:r,defaultProp:null!=o?o:[],onChange:s,caller:f}),h=i.useCallback(t=>d(function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[...n,t]}),[d]),p=i.useCallback(t=>d(function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n.filter(n=>n!==t)}),[d]);return(0,c.jsx)(w,{scope:t.__scopeToggleGroup,type:"multiple",value:l,onItemActivate:h,onItemDeactivate:p,children:(0,c.jsx)(M,{...a,ref:n})})});v.displayName=f;var[S,C]=m(f),M=i.forwardRef((t,n)=>{let{__scopeToggleGroup:r,disabled:i=!1,rovingFocus:o=!0,orientation:l,dir:u,loop:d=!0,...h}=t,f=y(r),m=(0,p.jH)(u),g={role:"group",dir:m,...h};return(0,c.jsx)(S,{scope:r,rovingFocus:o,disabled:i,children:o?(0,c.jsx)(a.bL,{asChild:!0,...f,orientation:l,dir:m,loop:d,children:(0,c.jsx)(s.sG.div,{...g,ref:n})}):(0,c.jsx)(s.sG.div,{...g,ref:n})})}),E="ToggleGroupItem",j=i.forwardRef((t,n)=>{let r=b(E,t.__scopeToggleGroup),o=C(E,t.__scopeToggleGroup),s=y(t.__scopeToggleGroup),l=r.value.includes(t.value),u=o.disabled||t.disabled,d={...t,pressed:l,disabled:u},h=i.useRef(null);return o.rovingFocus?(0,c.jsx)(a.q7,{asChild:!0,...s,focusable:!u,active:l,ref:h,children:(0,c.jsx)(N,{...d,ref:n})}):(0,c.jsx)(N,{...d,ref:n})});j.displayName=E;var N=i.forwardRef((t,n)=>{let{__scopeToggleGroup:r,value:i,...o}=t,s=b(E,r),a={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},l="single"===s.type?a:void 0;return(0,c.jsx)(h,{...l,...o,ref:n,onPressedChange:t=>{t?s.onItemActivate(i):s.onItemDeactivate(i)}})}),T=v,A=j},51154:(t,n,r)=>{r.d(n,{A:()=>i});let i=(0,r(19946).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},52571:(t,n,r)=>{r.d(n,{$t:()=>C,LN:()=>a,U3:()=>d,hs:()=>N,i5:()=>m,k_:()=>M,nh:()=>p});var i=r(10156),o=r(808);let s=Object.create(null);class a{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new l(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=i.Ji.empty){let r=n.content.lastChild,o=null;for(let t=0;t<n.openEnd;t++)o=r,r=r.lastChild;let s=t.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:u,$to:c}=a[l],d=t.mapping.slice(s);t.replaceRange(d.map(u.pos),d.map(c.pos),l?i.Ji.empty:n),0==l&&v(t,s,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=t.mapping.slice(r),u=l.map(s.pos),c=l.map(a.pos);o?t.deleteRange(u,c):(t.replaceRangeWith(u,c,n),v(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new d(t):y(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let i=t.depth-1;i>=0;i--){let o=n<0?y(t.node(0),t.node(i),t.before(i+1),t.index(i),n,r):y(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,n,r);if(o)return o}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new m(t.node(0))}static atStart(t){return y(t,t,0,0,1)||new m(t)}static atEnd(t){return y(t,t,t.content.size,t.childCount,-1)||new m(t)}static fromJSON(t,n){if(!n||!n.type)throw RangeError("Invalid input for Selection.fromJSON");let r=s[n.type];if(!r)throw RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in s)throw RangeError("Duplicate use of selection JSON ID "+t);return s[t]=n,n.prototype.jsonID=t,n}getBookmark(){return d.between(this.$anchor,this.$head).getBookmark()}}a.prototype.visible=!0;class l{constructor(t,n){this.$from=t,this.$to=n}}let u=!1;function c(t){u||t.parent.inlineContent||(u=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class d extends a{constructor(t,n=t){c(t),c(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return a.near(r);let i=t.resolve(n.map(this.anchor));return new d(i.parent.inlineContent?i:r,r)}replace(t,n=i.Ji.empty){if(super.replace(t,n),n==i.Ji.empty){let n=this.$from.marksAcross(this.$to);n&&t.ensureMarks(n)}}eq(t){return t instanceof d&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new h(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw RangeError("Invalid input for TextSelection.fromJSON");return new d(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let t=a.findFrom(n,r,!0)||a.findFrom(n,-r,!0);if(!t)return a.near(n,r);n=t.$head}return t.parent.inlineContent||(0==i?t=n:(t=(a.findFrom(t,-r,!0)||a.findFrom(t,r,!0)).$anchor).pos<n.pos!=i<0&&(t=n)),new d(t,n)}}a.jsonID("text",d);class h{constructor(t,n){this.anchor=t,this.head=n}map(t){return new h(t.map(this.anchor),t.map(this.head))}resolve(t){return d.between(t.resolve(this.anchor),t.resolve(this.head))}}class p extends a{constructor(t){let n=t.nodeAfter;super(t,t.node(0).resolve(t.pos+n.nodeSize)),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=t.resolve(i);return r?a.near(o):new p(o)}content(){return new i.Ji(i.FK.from(this.node),0,0)}eq(t){return t instanceof p&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new f(this.anchor)}static fromJSON(t,n){if("number"!=typeof n.anchor)throw RangeError("Invalid input for NodeSelection.fromJSON");return new p(t.resolve(n.anchor))}static create(t,n){return new p(t.resolve(n))}static isSelectable(t){return!t.isText&&!1!==t.type.spec.selectable}}p.prototype.visible=!1,a.jsonID("node",p);class f{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new h(r,r):new f(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&p.isSelectable(r)?new p(n):a.near(n)}}class m extends a{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=i.Ji.empty){if(n==i.Ji.empty){t.delete(0,t.doc.content.size);let n=a.atStart(t.doc);n.eq(t.selection)||t.setSelection(n)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new m(t)}map(t){return new m(t)}eq(t){return t instanceof m}getBookmark(){return g}}a.jsonID("all",m);let g={map(){return this},resolve:t=>new m(t)};function y(t,n,r,i,o,s=!1){if(n.inlineContent)return d.create(t,r);for(let a=i-(o>0?0:1);o>0?a<n.childCount:a>=0;a+=o){let i=n.child(a);if(i.isAtom){if(!s&&p.isSelectable(i))return p.create(t,r-(o<0?i.nodeSize:0))}else{let n=y(t,i,r+o,o<0?i.childCount:0,o,s);if(n)return n}r+=i.nodeSize*o}return null}function v(t,n,r){let i,s=t.steps.length-1;if(s<n)return;let l=t.steps[s];(l instanceof o.Ln||l instanceof o.Wg)&&(t.mapping.maps[s].forEach((t,n,r,o)=>{null==i&&(i=o)}),t.setSelection(a.near(t.doc.resolve(i),r)))}class w extends o.dL{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(1|this.updated)&-3,this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=2,this}ensureMarks(t){return i.CU.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(t,n){super.addStep(t,n),this.updated=-3&this.updated,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||i.CU.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(null==n)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(null==r&&(r=n),r=null==r?n:r,!t)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let t=this.doc.resolve(n);o=r==n?t.marks():t.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,o)),this.selection.empty||this.setSelection(a.near(this.selection.$to)),this}}setMeta(t,n){return this.meta["string"==typeof t?t:t.key]=n,this}getMeta(t){return this.meta["string"==typeof t?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function b(t,n){return n&&t?t.bind(n):t}class x{constructor(t,n,r){this.name=t,this.init=b(n.init,r),this.apply=b(n.apply,r)}}let k=[new x("doc",{init:t=>t.doc||t.schema.topNodeType.createAndFill(),apply:t=>t.doc}),new x("selection",{init:(t,n)=>t.selection||a.atStart(n.doc),apply:t=>t.selection}),new x("storedMarks",{init:t=>t.storedMarks||null,apply:(t,n,r,i)=>i.selection.$cursor?t.storedMarks:null}),new x("scrollToSelection",{init:()=>0,apply:(t,n)=>t.scrolledIntoView?n+1:n})];class S{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=k.slice(),n&&n.forEach(t=>{if(this.pluginsByKey[t.key])throw RangeError("Adding different instances of a keyed plugin ("+t.key+")");this.plugins.push(t),this.pluginsByKey[t.key]=t,t.spec.state&&this.fields.push(new x(t.key,t.spec.state,t))})}}class C{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let n=this.config.plugins[r];if(n.spec.filterTransaction&&!n.spec.filterTransaction.call(n,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=i?i[s].n:0,u=i?i[s].state:this,c=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,u,r);if(c&&r.filterTransaction(c,s)){if(c.setMeta("appendedTransaction",t),!i){i=[];for(let t=0;t<this.config.plugins.length;t++)i.push(t<s?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw RangeError("Applying a mismatched transaction");let n=new C(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(t,this[o.name],this,n)}return n}get tr(){return new w(this)}static create(t){let n=new S(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new C(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new S(this.schema,t.plugins),r=n.fields,i=new C(n);for(let n=0;n<r.length;n++){let o=r[n].name;i[o]=this.hasOwnProperty(o)?this[o]:r[n].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(t=>t.toJSON())),t&&"object"==typeof t)for(let r in t){if("doc"==r||"selection"==r)throw RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw RangeError("Required config field 'schema' missing");let o=new S(t.schema,t.plugins),s=new C(o);return o.fields.forEach(o=>{if("doc"==o.name)s.doc=i.bP.fromJSON(t.schema,n.doc);else if("selection"==o.name)s.selection=a.fromJSON(s.doc,n.selection);else if("storedMarks"==o.name)n.storedMarks&&(s.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let i in r){let a=r[i],l=a.spec.state;if(a.key==o.name&&l&&l.fromJSON&&Object.prototype.hasOwnProperty.call(n,i)){s[o.name]=l.fromJSON.call(a,t,n[i],s);return}}s[o.name]=o.init(t,s)}}),s}}class M{constructor(t){this.spec=t,this.props={},t.props&&function t(n,r,i){for(let o in n){let s=n[o];s instanceof Function?s=s.bind(r):"handleDOMEvents"==o&&(s=t(s,r,{})),i[o]=s}return i}(t.props,this,this.props),this.key=t.key?t.key.key:j("plugin")}getState(t){return t[this.key]}}let E=Object.create(null);function j(t){return t in E?t+"$"+ ++E[t]:(E[t]=0,t+"$")}class N{constructor(t="key"){this.key=j(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}},54416:(t,n,r)=>{r.d(n,{A:()=>i});let i=(0,r(19946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},58292:(t,n,r)=>{r.d(n,{A:()=>ev});var i=r(4701);let o=/^\s*>\s$/,s=i.bP.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:t}){return["blockquote",(0,i.KV)(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[(0,i.tG)({find:o,type:this.type})]}}),a=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,l=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,u=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,c=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,d=i.CU.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!==t.style.fontWeight&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",(0,i.KV)(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[(0,i.OX)({find:a,type:this.type}),(0,i.OX)({find:u,type:this.type})]},addPasteRules(){return[(0,i.Zc)({find:l,type:this.type}),(0,i.Zc)({find:c,type:this.type})]}}),h="textStyle",p=/^\s*([-+*])\s$/,f=i.bP.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:t}){return["ul",(0,i.KV)(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:n})=>this.options.keepAttributes?n().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(h)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=(0,i.tG)({find:p,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=(0,i.tG)({find:p,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(h),editor:this.editor})),[t]}}),m=/(^|[^`])`([^`]+)`(?!`)/,g=/(^|[^`])`([^`]+)`(?!`)/g,y=i.CU.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:t}){return["code",(0,i.KV)(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[(0,i.OX)({find:m,type:this.type})]},addPasteRules(){return[(0,i.Zc)({find:g,type:this.type})]}});var v=r(52571);let w=/^```([a-z]+)?[\s\n]$/,b=/^~~~([a-z]+)?[\s\n]$/,x=i.bP.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var n;let{languageClassPrefix:r}=this.options,i=[...(null==(n=t.firstElementChild)?void 0:n.classList)||[]].filter(t=>t.startsWith(r)).map(t=>t.replace(r,""))[0];return i||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:t,HTMLAttributes:n}){return["pre",(0,i.KV)(this.options.HTMLAttributes,n),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:n})=>n.setNode(this.name,t),toggleCodeBlock:t=>({commands:n})=>n.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{let{empty:t,$anchor:n}=this.editor.state.selection,r=1===n.pos;return!!t&&n.parent.type.name===this.name&&(!!r||!n.parent.textContent.length)&&this.editor.commands.clearNodes()},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;let{state:n}=t,{selection:r}=n,{$from:i,empty:o}=r;if(!o||i.parent.type!==this.type)return!1;let s=i.parentOffset===i.parent.nodeSize-2,a=i.parent.textContent.endsWith("\n\n");return!!s&&!!a&&t.chain().command(({tr:t})=>(t.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;let{state:n}=t,{selection:r,doc:i}=n,{$from:o,empty:s}=r;if(!s||o.parent.type!==this.type||o.parentOffset!==o.parent.nodeSize-2)return!1;let a=o.after();return void 0!==a&&(i.nodeAt(a)?t.commands.command(({tr:t})=>(t.setSelection(v.LN.near(i.resolve(a))),!0)):t.commands.exitCode())}}},addInputRules(){return[(0,i.JJ)({find:w,type:this.type,getAttributes:t=>({language:t[1]})}),(0,i.JJ)({find:b,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new v.k_({key:new v.hs("codeBlockVSCodeHandler"),props:{handlePaste:(t,n)=>{if(!n.clipboardData||this.editor.isActive(this.type.name))return!1;let r=n.clipboardData.getData("text/plain"),i=n.clipboardData.getData("vscode-editor-data"),o=i?JSON.parse(i):void 0,s=null==o?void 0:o.mode;if(!r||!s)return!1;let{tr:a,schema:l}=t.state,u=l.text(r.replace(/\r\n?/g,"\n"));return a.replaceSelectionWith(this.type.create({language:s},u)),a.selection.$from.parent.type!==this.type&&a.setSelection(v.U3.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),t.dispatch(a),!0}}})]}}),k=i.bP.create({name:"doc",topNode:!0,content:"block+"});var S=r(808);class C{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=null!=(r=n.width)?r:1,this.color=!1===n.color?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(n=>{let r=t=>{this[n](t)};return t.dom.addEventListener(n,r),{name:n,handler:r}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){null!=this.cursorPos&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,null==t?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t,n,r=this.editorView.state.doc.resolve(this.cursorPos),i=!r.parent.inlineContent,o,s=this.editorView.dom,a=s.getBoundingClientRect(),l=a.width/s.offsetWidth,u=a.height/s.offsetHeight;if(i){let t=r.nodeBefore,n=r.nodeAfter;if(t||n){let r=this.editorView.nodeDOM(this.cursorPos-(t?t.nodeSize:0));if(r){let i=r.getBoundingClientRect(),s=t?i.bottom:i.top;t&&n&&(s=(s+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let a=this.width/2*u;o={left:i.left,right:i.right,top:s-a,bottom:s+a}}}}if(!o){let t=this.editorView.coordsAtPos(this.cursorPos),n=this.width/2*l;o={left:t.left-n,right:t.left+n,top:t.top,bottom:t.bottom}}let c=this.editorView.dom.offsetParent;if(!this.element&&(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",i),this.element.classList.toggle("prosemirror-dropcursor-inline",!i),c&&(c!=document.body||"static"!=getComputedStyle(c).position)){let r=c.getBoundingClientRect(),i=r.width/c.offsetWidth,o=r.height/c.offsetHeight;t=r.left-c.scrollLeft*i,n=r.top-c.scrollTop*o}else t=-pageXOffset,n=-pageYOffset;this.element.style.left=(o.left-t)/l+"px",this.element.style.top=(o.top-n)/u+"px",this.element.style.width=(o.right-o.left)/l+"px",this.element.style.height=(o.bottom-o.top)/u+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o="function"==typeof i?i(this.editorView,n,t):i;if(n&&!o){let t=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let n=(0,S.Um)(this.editorView.state.doc,t,this.editorView.dragging.slice);null!=n&&(t=n)}this.setCursor(t),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}let M=i.YY.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[function(t={}){return new v.k_({view:n=>new C(n,t)})}(this.options)]}});var E=r(96770),j=r(10156),N=r(42695);class T extends v.LN{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return T.valid(r)?new T(r):v.LN.near(r)}content(){return j.Ji.empty}eq(t){return t instanceof T&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if("number"!=typeof n.pos)throw RangeError("Invalid input for GapCursor.fromJSON");return new T(t.resolve(n.pos))}getBookmark(){return new A(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!function(t){for(let n=t.depth;n>=0;n--){let r=t.index(n),i=t.node(n);if(0==r){if(i.type.spec.isolating)return!0;continue}for(let t=i.child(r-1);;t=t.lastChild){if(0==t.childCount&&!t.inlineContent||t.isAtom||t.type.spec.isolating)return!0;if(t.inlineContent)return!1}}return!0}(t)||!function(t){for(let n=t.depth;n>=0;n--){let r=t.indexAfter(n),i=t.node(n);if(r==i.childCount){if(i.type.spec.isolating)return!0;continue}for(let t=i.child(r);;t=t.firstChild){if(0==t.childCount&&!t.inlineContent||t.isAtom||t.type.spec.isolating)return!0;if(t.inlineContent)return!1}}return!0}(t))return!1;let r=n.type.spec.allowGapCursor;if(null!=r)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){n:for(;;){if(!r&&T.valid(t))return t;let i=t.pos,o=null;for(let r=t.depth;;r--){let s=t.node(r);if(n>0?t.indexAfter(r)<s.childCount:t.index(r)>0){o=s.child(n>0?t.indexAfter(r):t.index(r)-1);break}if(0==r)return null;i+=n;let a=t.doc.resolve(i);if(T.valid(a))return a}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!v.nh.isSelectable(o)){t=t.doc.resolve(i+o.nodeSize*n),r=!1;continue n}break}o=s,i+=n;let a=t.doc.resolve(i);if(T.valid(a))return a}return null}}}T.prototype.visible=!1,T.findFrom=T.findGapCursorFrom,v.LN.jsonID("gapcursor",T);class A{constructor(t){this.pos=t}map(t){return new A(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return T.valid(n)?new T(n):v.LN.near(n)}}let O=(0,E.K)({ArrowLeft:I("horiz",-1),ArrowRight:I("horiz",1),ArrowUp:I("vert",-1),ArrowDown:I("vert",1)});function I(t,n){let r="vert"==t?n>0?"down":"up":n>0?"right":"left";return function(t,i,o){let s=t.selection,a=n>0?s.$to:s.$from,l=s.empty;if(s instanceof v.U3){if(!o.endOfTextblock(r)||0==a.depth)return!1;l=!1,a=t.doc.resolve(n>0?a.after():a.before())}let u=T.findGapCursorFrom(a,n,l);return!!u&&(i&&i(t.tr.setSelection(new T(u))),!0)}}function R(t,n,r){if(!t||!t.editable)return!1;let i=t.state.doc.resolve(n);if(!T.valid(i))return!1;let o=t.posAtCoords({left:r.clientX,top:r.clientY});return!(o&&o.inside>-1&&v.nh.isSelectable(t.state.doc.nodeAt(o.inside)))&&(t.dispatch(t.state.tr.setSelection(new T(i))),!0)}function D(t,n){if("insertCompositionText"!=n.inputType||!(t.state.selection instanceof T))return!1;let{$from:r}=t.state.selection,i=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!i)return!1;let o=j.FK.empty;for(let t=i.length-1;t>=0;t--)o=j.FK.from(i[t].createAndFill(null,o));let s=t.state.tr.replace(r.pos,r.pos,new j.Ji(o,0,0));return s.setSelection(v.U3.near(s.doc.resolve(r.pos+1))),t.dispatch(s),!1}function _(t){if(!(t.selection instanceof T))return null;let n=document.createElement("div");return n.className="ProseMirror-gapcursor",N.zF.create(t.doc,[N.NZ.widget(t.selection.head,n,{key:"gapcursor"})])}let F=i.YY.create({name:"gapCursor",addProseMirrorPlugins:()=>[new v.k_({props:{decorations:_,createSelectionBetween:(t,n,r)=>n.pos==r.pos&&T.valid(r)?new T(r):null,handleClick:R,handleKeyDown:O,handleDOMEvents:{beforeinput:D}}})],extendNodeSchema(t){var n;let r={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:null!=(n=(0,i.gk)((0,i.iI)(t,"allowGapCursor",r)))?n:null}}}),P=i.bP.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:t}){return["br",(0,i.KV)(this.options.HTMLAttributes,t)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:t,chain:n,state:r,editor:i})=>t.first([()=>t.exitCode(),()=>t.command(()=>{let{selection:t,storedMarks:o}=r;if(t.$from.parent.type.spec.isolating)return!1;let{keepMarks:s}=this.options,{splittableMarks:a}=i.extensionManager,l=o||t.$to.parentOffset&&t.$from.marks();return n().insertContent({type:this.name}).command(({tr:t,dispatch:n})=>{if(n&&l&&s){let n=l.filter(t=>a.includes(t.type.name));t.ensureMarks(n)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),L=i.bP.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:n}){let r=this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0];return[`h${r}`,(0,i.KV)(this.options.HTMLAttributes,n),0]},addCommands(){return{setHeading:t=>({commands:n})=>!!this.options.levels.includes(t.level)&&n.setNode(this.name,t),toggleHeading:t=>({commands:n})=>!!this.options.levels.includes(t.level)&&n.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return this.options.levels.reduce((t,n)=>({...t,...{[`Mod-Alt-${n}`]:()=>this.editor.commands.toggleHeading({level:n})}}),{})},addInputRules(){return this.options.levels.map(t=>(0,i.JJ)({find:RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var z=function(){};z.prototype.append=function(t){return t.length?(t=z.from(t),!this.length&&t||t.length<200&&this.leafAppend(t)||this.length<200&&t.leafPrepend(this)||this.appendInner(t)):this},z.prototype.prepend=function(t){return t.length?z.from(t).append(this):this},z.prototype.appendInner=function(t){return new $(this,t)},z.prototype.slice=function(t,n){return(void 0===t&&(t=0),void 0===n&&(n=this.length),t>=n)?z.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))},z.prototype.get=function(t){if(!(t<0)&&!(t>=this.length))return this.getInner(t)},z.prototype.forEach=function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)},z.prototype.map=function(t,n,r){void 0===n&&(n=0),void 0===r&&(r=this.length);var i=[];return this.forEach(function(n,r){return i.push(t(n,r))},n,r),i},z.from=function(t){return t instanceof z?t:t&&t.length?new H(t):z.empty};var H=function(t){function n(n){t.call(this),this.values=n}t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n;var r={length:{configurable:!0},depth:{configurable:!0}};return n.prototype.flatten=function(){return this.values},n.prototype.sliceInner=function(t,r){return 0==t&&r==this.length?this:new n(this.values.slice(t,r))},n.prototype.getInner=function(t){return this.values[t]},n.prototype.forEachInner=function(t,n,r,i){for(var o=n;o<r;o++)if(!1===t(this.values[o],i+o))return!1},n.prototype.forEachInvertedInner=function(t,n,r,i){for(var o=n-1;o>=r;o--)if(!1===t(this.values[o],i+o))return!1},n.prototype.leafAppend=function(t){if(this.length+t.length<=200)return new n(this.values.concat(t.flatten()))},n.prototype.leafPrepend=function(t){if(this.length+t.length<=200)return new n(t.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(n.prototype,r),n}(z);z.empty=new H([]);var $=function(t){function n(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},n.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},n.prototype.forEachInner=function(t,n,r,i){var o=this.left.length;if(n<o&&!1===this.left.forEachInner(t,n,Math.min(r,o),i)||r>o&&!1===this.right.forEachInner(t,Math.max(n-o,0),Math.min(this.length,r)-o,i+o))return!1},n.prototype.forEachInvertedInner=function(t,n,r,i){var o=this.left.length;if(n>o&&!1===this.right.forEachInvertedInner(t,n-o,Math.max(r,o)-o,i+o)||r<o&&!1===this.left.forEachInvertedInner(t,Math.min(n,o),r,i))return!1},n.prototype.sliceInner=function(t,n){if(0==t&&n==this.length)return this;var r=this.left.length;return n<=r?this.left.slice(t,n):t>=r?this.right.slice(t-r,n-r):this.left.slice(t,r).append(this.right.slice(0,n-r))},n.prototype.leafAppend=function(t){var r=this.right.leafAppend(t);if(r)return new n(this.left,r)},n.prototype.leafPrepend=function(t){var r=this.left.leafPrepend(t);if(r)return new n(r,this.right)},n.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new n(this.left,new n(this.right,t)):new n(this,t)},n}(z);class B{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){let r,i,o,s;if(0==this.eventCount)return null;let a=this.items.length;for(;;a--)if(this.items.get(a-1).selection){--a;break}n&&(i=(r=this.remapping(a,this.items.length)).maps.length);let l=t.tr,u=[],c=[];return this.items.forEach((t,n)=>{if(!t.step){r||(i=(r=this.remapping(a,n+1)).maps.length),i--,c.push(t);return}if(r){c.push(new W(t.map));let n=t.step.map(r.slice(i)),o;n&&l.maybeStep(n).doc&&(o=l.mapping.maps[l.mapping.maps.length-1],u.push(new W(o,void 0,void 0,u.length+c.length))),i--,o&&r.appendMap(o,i)}else l.maybeStep(t.step);if(t.selection)return o=r?t.selection.map(r.slice(i)):t.selection,s=new B(this.items.slice(0,a).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:s,transform:l,selection:o}}addTransform(t,n,r,i){var o,s;let a,l=[],u=this.eventCount,c=this.items,d=!i&&c.length?c.get(c.length-1):null;for(let r=0;r<t.steps.length;r++){let o=t.steps[r].invert(t.docs[r]),s=new W(t.mapping.maps[r],o,n),a;(a=d&&d.merge(s))&&(s=a,r?l.pop():c=c.slice(0,c.length-1)),l.push(s),n&&(u++,n=void 0),i||(d=s)}let h=u-r.depth;return h>K&&(o=c,s=h,o.forEach((t,n)=>{if(t.selection&&0==s--)return a=n,!1}),c=o.slice(a),u-=h),new B(c.append(l),u)}remapping(t,n){let r=new S.X9;return this.items.forEach((n,i)=>{let o=null!=n.mirrorOffset&&i-n.mirrorOffset>=t?r.maps.length-n.mirrorOffset:void 0;r.appendMap(n.map,o)},t,n),r}addMaps(t){return 0==this.eventCount?this:new B(this.items.append(t.map(t=>new W(t))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=t.mapping,s=t.steps.length,a=this.eventCount;this.items.forEach(t=>{t.selection&&a--},i);let l=n;this.items.forEach(n=>{let i=o.getMirror(--l);if(null==i)return;s=Math.min(s,i);let u=o.maps[i];if(n.step){let s=t.steps[i].invert(t.docs[i]),c=n.selection&&n.selection.map(o.slice(l+1,i));c&&a++,r.push(new W(u,s,c))}else r.push(new W(u))},i);let u=[];for(let t=n;t<s;t++)u.push(new W(o.maps[t]));let c=new B(this.items.slice(0,i).append(u).append(r),a);return c.emptyItemCount()>500&&(c=c.compress(this.items.length-r.length)),c}emptyItemCount(){let t=0;return this.items.forEach(n=>{!n.step&&t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=t)i.push(s),s.selection&&o++;else if(s.step){let t=s.step.map(n.slice(r)),a=t&&t.getMap();if(r--,a&&n.appendMap(a,r),t){let l=s.selection&&s.selection.map(n.slice(r));l&&o++;let u=new W(a.invert(),t,l),c,d=i.length-1;(c=i.length&&i[d].merge(u))?i[d]=c:i.push(u)}}else s.map&&r--},this.items.length,0),new B(z.from(i.reverse()),o)}}B.empty=new B(z.empty,0);class W{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new W(n.getMap().invert(),n,this.selection)}}}class J{constructor(t,n,r,i,o){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}let K=20;function V(t){let n=[];for(let r=t.length-1;r>=0&&0==n.length;r--)t[r].forEach((t,r,i,o)=>n.push(i,o));return n}function q(t,n){if(!t)return null;let r=[];for(let i=0;i<t.length;i+=2){let o=n.map(t[i],1),s=n.map(t[i+1],-1);o<=s&&r.push(o,s)}return r}let Y=!1,G=null;function U(t){let n=t.plugins;if(G!=n){Y=!1,G=n;for(let t=0;t<n.length;t++)if(n[t].spec.historyPreserveItems){Y=!0;break}}return Y}let X=new v.hs("history"),Q=new v.hs("closeHistory");function Z(t,n){return(r,i)=>{let o=X.getState(r);if(!o||0==(t?o.undone:o.done).eventCount)return!1;if(i){let s=function(t,n,r){let i=U(n),o=X.get(n).spec.config,s=(r?t.undone:t.done).popEvent(n,i);if(!s)return null;let a=s.selection.resolve(s.transform.doc),l=(r?t.done:t.undone).addTransform(s.transform,n.selection.getBookmark(),o,i),u=new J(r?l:s.remaining,r?s.remaining:l,null,0,-1);return s.transform.setSelection(a).setMeta(X,{redo:r,historyState:u})}(o,r,t);s&&i(n?s.scrollIntoView():s)}return!0}}let ee=Z(!1,!0),et=Z(!0,!0);Z(!1,!1),Z(!0,!1);let en=i.YY.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:t,dispatch:n})=>ee(t,n),redo:()=>({state:t,dispatch:n})=>et(t,n)}),addProseMirrorPlugins(){return[function(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new v.k_({key:X,state:{init:()=>new J(B.empty,B.empty,null,0,-1),apply:(n,r,i)=>(function(t,n,r,i){let o=r.getMeta(X),s;if(o)return o.historyState;r.getMeta(Q)&&(t=new J(t.done,t.undone,null,0,-1));let a=r.getMeta("appendedTransaction");if(0==r.steps.length)return t;if(a&&a.getMeta(X))if(a.getMeta(X).redo)return new J(t.done.addTransform(r,void 0,i,U(n)),t.undone,V(r.mapping.maps),t.prevTime,t.prevComposition);else return new J(t.done,t.undone.addTransform(r,void 0,i,U(n)),null,t.prevTime,t.prevComposition);if(!1===r.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))if(s=r.getMeta("rebased"))return new J(t.done.rebased(r,s),t.undone.rebased(r,s),q(t.prevRanges,r.mapping),t.prevTime,t.prevComposition);else return new J(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),q(t.prevRanges,r.mapping),t.prevTime,t.prevComposition);{let o=r.getMeta("composition"),s=0==t.prevTime||!a&&t.prevComposition!=o&&(t.prevTime<(r.time||0)-i.newGroupDelay||!function(t,n){if(!n)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((t,i)=>{for(let o=0;o<n.length;o+=2)t<=n[o+1]&&i>=n[o]&&(r=!0)}),r}(r,t.prevRanges)),l=a?q(t.prevRanges,r.mapping):V(r.mapping.maps);return new J(t.done.addTransform(r,s?n.selection.getBookmark():void 0,i,U(n)),B.empty,l,r.time,null==o?t.prevComposition:o)}})(r,i,n,t)},config:t,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i="historyUndo"==r?ee:"historyRedo"==r?et:null;return!!i&&(n.preventDefault(),i(t.state,t.dispatch))}}}})}(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),er=i.bP.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{}}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:t}){return["hr",(0,i.KV)(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:n})=>{if(!(0,i.AB)(n,n.schema.nodes[this.name]))return!1;let{selection:r}=n,{$from:o,$to:s}=r,a=t();return 0===o.parentOffset?a.insertContentAt({from:Math.max(o.pos-1,0),to:s.pos},{type:this.name}):(0,i.BQ)(r)?a.insertContentAt(s.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(({tr:t,dispatch:n})=>{var r;if(n){let{$to:n}=t.selection,i=n.end();if(n.nodeAfter)n.nodeAfter.isTextblock?t.setSelection(v.U3.create(t.doc,n.pos+1)):n.nodeAfter.isBlock?t.setSelection(v.nh.create(t.doc,n.pos)):t.setSelection(v.U3.create(t.doc,n.pos));else{let o=null==(r=n.parent.type.contentMatch.defaultType)?void 0:r.create();o&&(t.insert(i,o),t.setSelection(v.U3.create(t.doc,i+1)))}t.scrollIntoView()}return!0}).run()}}},addInputRules(){return[(0,i.jT)({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),ei=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,eo=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,es=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,ea=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,el=i.CU.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>"normal"!==t.style.fontStyle&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",(0,i.KV)(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[(0,i.OX)({find:ei,type:this.type}),(0,i.OX)({find:es,type:this.type})]},addPasteRules(){return[(0,i.Zc)({find:eo,type:this.type}),(0,i.Zc)({find:ea,type:this.type})]}}),eu=i.bP.create({name:"listItem",addOptions:()=>({HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",(0,i.KV)(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),ec="textStyle",ed=/^(\d+)\.\s$/,eh=i.bP.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:t}){let{start:n,...r}=t;return 1===n?["ol",(0,i.KV)(this.options.HTMLAttributes,r),0]:["ol",(0,i.KV)(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:n})=>this.options.keepAttributes?n().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes("listItem",this.editor.getAttributes(ec)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=(0,i.tG)({find:ed,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=(0,i.tG)({find:ed,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(ec)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[t]}}),ep=i.bP.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:t}){return["p",(0,i.KV)(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),ef=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,em=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,eg=i.CU.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>!!t.includes("line-through")&&{}}],renderHTML({HTMLAttributes:t}){return["s",(0,i.KV)(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[(0,i.OX)({find:ef,type:this.type})]},addPasteRules(){return[(0,i.Zc)({find:em,type:this.type})]}}),ey=i.bP.create({name:"text",group:"inline"}),ev=i.YY.create({name:"starterKit",addExtensions(){let t=[];return!1!==this.options.bold&&t.push(d.configure(this.options.bold)),!1!==this.options.blockquote&&t.push(s.configure(this.options.blockquote)),!1!==this.options.bulletList&&t.push(f.configure(this.options.bulletList)),!1!==this.options.code&&t.push(y.configure(this.options.code)),!1!==this.options.codeBlock&&t.push(x.configure(this.options.codeBlock)),!1!==this.options.document&&t.push(k.configure(this.options.document)),!1!==this.options.dropcursor&&t.push(M.configure(this.options.dropcursor)),!1!==this.options.gapcursor&&t.push(F.configure(this.options.gapcursor)),!1!==this.options.hardBreak&&t.push(P.configure(this.options.hardBreak)),!1!==this.options.heading&&t.push(L.configure(this.options.heading)),!1!==this.options.history&&t.push(en.configure(this.options.history)),!1!==this.options.horizontalRule&&t.push(er.configure(this.options.horizontalRule)),!1!==this.options.italic&&t.push(el.configure(this.options.italic)),!1!==this.options.listItem&&t.push(eu.configure(this.options.listItem)),!1!==this.options.orderedList&&t.push(eh.configure(this.options.orderedList)),!1!==this.options.paragraph&&t.push(ep.configure(this.options.paragraph)),!1!==this.options.strike&&t.push(eg.configure(this.options.strike)),!1!==this.options.text&&t.push(ey.configure(this.options.text)),t}})},60704:(t,n,r)=>{r.d(n,{B8:()=>A,UC:()=>I,bL:()=>T,l9:()=>O});var i=r(12115),o=r(85185),s=r(46081),a=r(89196),l=r(28905),u=r(63655),c=r(94315),d=r(5845),h=r(61285),p=r(95155),f="Tabs",[m,g]=(0,s.A)(f,[a.RG]),y=(0,a.RG)(),[v,w]=m(f),b=i.forwardRef((t,n)=>{let{__scopeTabs:r,value:i,onValueChange:o,defaultValue:s,orientation:a="horizontal",dir:l,activationMode:m="automatic",...g}=t,y=(0,c.jH)(l),[w,b]=(0,d.i)({prop:i,onChange:o,defaultProp:null!=s?s:"",caller:f});return(0,p.jsx)(v,{scope:r,baseId:(0,h.B)(),value:w,onValueChange:b,orientation:a,dir:y,activationMode:m,children:(0,p.jsx)(u.sG.div,{dir:y,"data-orientation":a,...g,ref:n})})});b.displayName=f;var x="TabsList",k=i.forwardRef((t,n)=>{let{__scopeTabs:r,loop:i=!0,...o}=t,s=w(x,r),l=y(r);return(0,p.jsx)(a.bL,{asChild:!0,...l,orientation:s.orientation,dir:s.dir,loop:i,children:(0,p.jsx)(u.sG.div,{role:"tablist","aria-orientation":s.orientation,...o,ref:n})})});k.displayName=x;var S="TabsTrigger",C=i.forwardRef((t,n)=>{let{__scopeTabs:r,value:i,disabled:s=!1,...l}=t,c=w(S,r),d=y(r),h=j(c.baseId,i),f=N(c.baseId,i),m=i===c.value;return(0,p.jsx)(a.q7,{asChild:!0,...d,focusable:!s,active:m,children:(0,p.jsx)(u.sG.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:h,...l,ref:n,onMouseDown:(0,o.m)(t.onMouseDown,t=>{s||0!==t.button||!1!==t.ctrlKey?t.preventDefault():c.onValueChange(i)}),onKeyDown:(0,o.m)(t.onKeyDown,t=>{[" ","Enter"].includes(t.key)&&c.onValueChange(i)}),onFocus:(0,o.m)(t.onFocus,()=>{let t="manual"!==c.activationMode;m||s||!t||c.onValueChange(i)})})})});C.displayName=S;var M="TabsContent",E=i.forwardRef((t,n)=>{let{__scopeTabs:r,value:o,forceMount:s,children:a,...c}=t,d=w(M,r),h=j(d.baseId,o),f=N(d.baseId,o),m=o===d.value,g=i.useRef(m);return i.useEffect(()=>{let t=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(t)},[]),(0,p.jsx)(l.C,{present:s||m,children:r=>{let{present:i}=r;return(0,p.jsx)(u.sG.div,{"data-state":m?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":h,hidden:!i,id:f,tabIndex:0,...c,ref:n,style:{...t.style,animationDuration:g.current?"0s":void 0},children:i&&a})}})});function j(t,n){return"".concat(t,"-trigger-").concat(n)}function N(t,n){return"".concat(t,"-content-").concat(n)}E.displayName=M;var T=b,A=k,O=C,I=E},61514:(t,n,r)=>{r.d(n,{$B:()=>d,Sd:()=>u,T2:()=>c});var i=r(808),o=r(10156);let s=["ol",0],a=["ul",0],l=["li",0];function u(t,n=null){return function(r,s){let{$from:a,$to:l}=r.selection,u=a.blockRange(l);if(!u)return!1;let c=s?r.tr:null;return!!function(t,n,r,s=null){let a=!1,l=n,u=n.$from.doc;if(n.depth>=2&&n.$from.node(n.depth-1).type.compatibleContent(r)&&0==n.startIndex){if(0==n.$from.index(n.depth-1))return!1;let t=u.resolve(n.start-2);l=new o.u$(t,t,n.depth),n.endIndex<n.parent.childCount&&(n=new o.u$(n.$from,u.resolve(n.$to.end(n.depth)),n.depth)),a=!0}let c=(0,i.oM)(l,r,s,n);return!!c&&(t&&function(t,n,r,s,a){let l=o.FK.empty;for(let t=r.length-1;t>=0;t--)l=o.FK.from(r[t].type.create(r[t].attrs,l));t.step(new i.Wg(n.start-2*!!s,n.end,n.start,n.end,new o.Ji(l,0,0),r.length,!0));let u=0;for(let t=0;t<r.length;t++)r[t].type==a&&(u=t+1);let c=r.length-u,d=n.start+r.length-2*!!s,h=n.parent;for(let r=n.startIndex,o=n.endIndex,s=!0;r<o;r++,s=!1)!s&&(0,i.zy)(t.doc,d,c)&&(t.split(d,c),d+=2*c),d+=h.child(r).nodeSize}(t,n,c,a,r),!0)}(c,u,t,n)&&(s&&s(c.scrollIntoView()),!0)}}function c(t){return function(n,r){let{$from:s,$to:a}=n.selection,l=s.blockRange(a,n=>n.childCount>0&&n.firstChild.type==t);return!!l&&(!r||(s.node(l.depth-1).type==t?function(t,n,r,s){let a=t.tr,l=s.end,u=s.$to.end(s.depth);l<u&&(a.step(new i.Wg(l-1,u,l,u,new o.Ji(o.FK.from(r.create(null,s.parent.copy())),1,0),1,!0)),s=new o.u$(a.doc.resolve(s.$from.pos),a.doc.resolve(u),s.depth));let c=(0,i.jP)(s);if(null==c)return!1;a.lift(s,c);let d=a.doc.resolve(a.mapping.map(l,-1)-1);return(0,i.n9)(a.doc,d.pos)&&d.nodeBefore.type==d.nodeAfter.type&&a.join(d.pos),n(a.scrollIntoView()),!0}(n,r,t,l):function(t,n,r){let s=t.tr,a=r.parent;for(let t=r.end,n=r.endIndex-1,i=r.startIndex;n>i;n--)t-=a.child(n).nodeSize,s.delete(t-1,t+1);let l=s.doc.resolve(r.start),u=l.nodeAfter;if(s.mapping.map(r.end)!=r.start+l.nodeAfter.nodeSize)return!1;let c=0==r.startIndex,d=r.endIndex==a.childCount,h=l.node(-1),p=l.index(-1);if(!h.canReplace(p+ +!c,p+1,u.content.append(d?o.FK.empty:o.FK.from(a))))return!1;let f=l.pos,m=f+u.nodeSize;return s.step(new i.Wg(f-!!c,m+ +!!d,f+1,m-1,new o.Ji((c?o.FK.empty:o.FK.from(a.copy(o.FK.empty))).append(d?o.FK.empty:o.FK.from(a.copy(o.FK.empty))),+!c,+!d),+!c)),n(s.scrollIntoView()),!0}(n,r,l)))}}function d(t){return function(n,r){let{$from:s,$to:a}=n.selection,l=s.blockRange(a,n=>n.childCount>0&&n.firstChild.type==t);if(!l)return!1;let u=l.startIndex;if(0==u)return!1;let c=l.parent,d=c.child(u-1);if(d.type!=t)return!1;if(r){let s=d.lastChild&&d.lastChild.type==c.type,a=o.FK.from(s?t.create():null),u=new o.Ji(o.FK.from(t.create(null,o.FK.from(c.type.create(null,a)))),s?3:1,0),h=l.start,p=l.end;r(n.tr.step(new i.Wg(h-(s?3:1),p,h,p,u,1,!0)).scrollIntoView())}return!0}}},66377:(t,n,r)=>{r.d(n,{A:()=>s});var i=r(4701);let o=t=>{if(!t.children.length)return;let n=t.querySelectorAll("span");n&&n.forEach(t=>{var n,r;let i=t.getAttribute("style"),o=null==(r=null==(n=t.parentElement)?void 0:n.closest("span"))?void 0:r.getAttribute("style");t.setAttribute("style",`${o};${i}`)})},s=i.CU.create({name:"textStyle",priority:101,addOptions:()=>({HTMLAttributes:{},mergeNestedSpanStyles:!1}),parseHTML(){return[{tag:"span",getAttrs:t=>!!t.hasAttribute("style")&&(this.options.mergeNestedSpanStyles&&o(t),{})}]},renderHTML({HTMLAttributes:t}){return["span",(0,i.KV)(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({tr:t})=>{let{selection:n}=t;return t.doc.nodesBetween(n.from,n.to,(n,r)=>{if(n.isTextblock)return!0;n.marks.filter(t=>t.type===this.type).some(t=>Object.values(t.attrs).some(t=>!!t))||t.removeMark(r,r+n.nodeSize,this.type)}),!0}}}})},69895:(t,n,r)=>{r.d(n,{hv:()=>tg});var i,o=r(95155),s=r(12115);let a={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function l(t){return function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.width?String(n.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}let u={date:l({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:l({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:l({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},c={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function d(t){return(n,r)=>{let i;if("formatting"===((null==r?void 0:r.context)?String(r.context):"standalone")&&t.formattingValues){let n=t.defaultFormattingWidth||t.defaultWidth,o=(null==r?void 0:r.width)?String(r.width):n;i=t.formattingValues[o]||t.formattingValues[n]}else{let n=t.defaultWidth,o=(null==r?void 0:r.width)?String(r.width):t.defaultWidth;i=t.values[o]||t.values[n]}return i[t.argumentCallback?t.argumentCallback(n):n]}}function h(t){return function(n){let r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.width,s=o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth],a=n.match(s);if(!a)return null;let l=a[0],u=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?function(t,n){for(let r=0;r<t.length;r++)if(n(t[r]))return r}(u,t=>t.test(l)):function(t,n){for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n(t[r]))return r}(u,t=>t.test(l));return r=t.valueCallback?t.valueCallback(c):c,{value:r=i.valueCallback?i.valueCallback(r):r,rest:n.slice(l.length)}}}let p={code:"en-US",formatDistance:(t,n,r)=>{let i,o=a[t];if(i="string"==typeof o?o:1===n?o.one:o.other.replace("{{count}}",n.toString()),null==r?void 0:r.addSuffix)if(r.comparison&&r.comparison>0)return"in "+i;else return i+" ago";return i},formatLong:u,formatRelative:(t,n,r,i)=>c[t],localize:{ordinalNumber:(t,n)=>{let r=Number(t),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:d({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:d({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:t=>t-1}),month:d({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:d({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:d({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function(t){return function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.match(t.matchPattern);if(!i)return null;let o=i[0],s=n.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];return{value:a=r.valueCallback?r.valueCallback(a):a,rest:n.slice(o.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:t=>parseInt(t,10)}),era:h({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:h({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:t=>t+1}),month:h({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:h({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:h({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},f={},m=Symbol.for("constructDateFrom");function g(t,n){return"function"==typeof t?t(n):t&&"object"==typeof t&&m in t?t[m](n):t instanceof Date?new t.constructor(n):new Date(n)}function y(t,n){return g(n||t,t)}function v(t){let n=y(t),r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),t-r}function w(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];let o=g.bind(null,t||r.find(t=>"object"==typeof t));return r.map(o)}function b(t,n){let r=y(t,null==n?void 0:n.in);return r.setHours(0,0,0,0),r}function x(t,n,r){let[i,o]=w(null==r?void 0:r.in,t,n),s=b(i),a=b(o);return Math.round((s-v(s)-(a-v(a)))/864e5)}function k(t,n){let r=y(t,null==n?void 0:n.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function S(t,n){var r,i,o,s,a,l,u,c;let d=null!=(c=null!=(u=null!=(l=null!=(a=null==n?void 0:n.weekStartsOn)?a:null==n||null==(i=n.locale)||null==(r=i.options)?void 0:r.weekStartsOn)?l:f.weekStartsOn)?u:null==(s=f.locale)||null==(o=s.options)?void 0:o.weekStartsOn)?c:0,h=y(t,null==n?void 0:n.in),p=h.getDay();return h.setDate(h.getDate()-(7*(p<d)+p-d)),h.setHours(0,0,0,0),h}function C(t,n){return S(t,{...n,weekStartsOn:1})}function M(t,n){let r=y(t,null==n?void 0:n.in),i=r.getFullYear(),o=g(r,0);o.setFullYear(i+1,0,4),o.setHours(0,0,0,0);let s=C(o),a=g(r,0);a.setFullYear(i,0,4),a.setHours(0,0,0,0);let l=C(a);return r.getTime()>=s.getTime()?i+1:r.getTime()>=l.getTime()?i:i-1}function E(t,n){let r=y(t,null==n?void 0:n.in);return Math.round((C(r)-function(t,n){let r=M(t,void 0),i=g(t,0);return i.setFullYear(r,0,4),i.setHours(0,0,0,0),C(i)}(r))/6048e5)+1}function j(t,n){var r,i,o,s,a,l,u,c;let d=y(t,null==n?void 0:n.in),h=d.getFullYear(),p=null!=(c=null!=(u=null!=(l=null!=(a=null==n?void 0:n.firstWeekContainsDate)?a:null==n||null==(i=n.locale)||null==(r=i.options)?void 0:r.firstWeekContainsDate)?l:f.firstWeekContainsDate)?u:null==(s=f.locale)||null==(o=s.options)?void 0:o.firstWeekContainsDate)?c:1,m=g((null==n?void 0:n.in)||t,0);m.setFullYear(h+1,0,p),m.setHours(0,0,0,0);let v=S(m,n),w=g((null==n?void 0:n.in)||t,0);w.setFullYear(h,0,p),w.setHours(0,0,0,0);let b=S(w,n);return+d>=+v?h+1:+d>=+b?h:h-1}function N(t,n){let r=y(t,null==n?void 0:n.in);return Math.round((S(r,n)-function(t,n){var r,i,o,s,a,l,u,c;let d=null!=(c=null!=(u=null!=(l=null!=(a=null==n?void 0:n.firstWeekContainsDate)?a:null==n||null==(i=n.locale)||null==(r=i.options)?void 0:r.firstWeekContainsDate)?l:f.firstWeekContainsDate)?u:null==(s=f.locale)||null==(o=s.options)?void 0:o.firstWeekContainsDate)?c:1,h=j(t,n),p=g((null==n?void 0:n.in)||t,0);return p.setFullYear(h,0,d),p.setHours(0,0,0,0),S(p,n)}(r,n))/6048e5)+1}function T(t,n){let r=Math.abs(t).toString().padStart(n,"0");return(t<0?"-":"")+r}let A={y(t,n){let r=t.getFullYear(),i=r>0?r:1-r;return T("yy"===n?i%100:i,n.length)},M(t,n){let r=t.getMonth();return"M"===n?String(r+1):T(r+1,2)},d:(t,n)=>T(t.getDate(),n.length),a(t,n){let r=t.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(t,n)=>T(t.getHours()%12||12,n.length),H:(t,n)=>T(t.getHours(),n.length),m:(t,n)=>T(t.getMinutes(),n.length),s:(t,n)=>T(t.getSeconds(),n.length),S(t,n){let r=n.length;return T(Math.trunc(t.getMilliseconds()*Math.pow(10,r-3)),n.length)}},O={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},I={G:function(t,n,r){let i=+(t.getFullYear()>0);switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});default:return r.era(i,{width:"wide"})}},y:function(t,n,r){if("yo"===n){let n=t.getFullYear();return r.ordinalNumber(n>0?n:1-n,{unit:"year"})}return A.y(t,n)},Y:function(t,n,r,i){let o=j(t,i),s=o>0?o:1-o;return"YY"===n?T(s%100,2):"Yo"===n?r.ordinalNumber(s,{unit:"year"}):T(s,n.length)},R:function(t,n){return T(M(t),n.length)},u:function(t,n){return T(t.getFullYear(),n.length)},Q:function(t,n,r){let i=Math.ceil((t.getMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return T(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,n,r){let i=Math.ceil((t.getMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return T(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,n,r){let i=t.getMonth();switch(n){case"M":case"MM":return A.M(t,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(t,n,r){let i=t.getMonth();switch(n){case"L":return String(i+1);case"LL":return T(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(t,n,r,i){let o=N(t,i);return"wo"===n?r.ordinalNumber(o,{unit:"week"}):T(o,n.length)},I:function(t,n,r){let i=E(t);return"Io"===n?r.ordinalNumber(i,{unit:"week"}):T(i,n.length)},d:function(t,n,r){return"do"===n?r.ordinalNumber(t.getDate(),{unit:"date"}):A.d(t,n)},D:function(t,n,r){let i=function(t,n){let r=y(t,void 0);return x(r,k(r))+1}(t);return"Do"===n?r.ordinalNumber(i,{unit:"dayOfYear"}):T(i,n.length)},E:function(t,n,r){let i=t.getDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(t,n,r,i){let o=t.getDay(),s=(o-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return T(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,n,r,i){let o=t.getDay(),s=(o-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return T(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,n,r){let i=t.getDay(),o=0===i?7:i;switch(n){case"i":return String(o);case"ii":return T(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(t,n,r){let i=t.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){let i,o=t.getHours();switch(i=12===o?O.noon:0===o?O.midnight:o/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){let i,o=t.getHours();switch(i=o>=17?O.evening:o>=12?O.afternoon:o>=4?O.morning:O.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if("ho"===n){let n=t.getHours()%12;return 0===n&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return A.h(t,n)},H:function(t,n,r){return"Ho"===n?r.ordinalNumber(t.getHours(),{unit:"hour"}):A.H(t,n)},K:function(t,n,r){let i=t.getHours()%12;return"Ko"===n?r.ordinalNumber(i,{unit:"hour"}):T(i,n.length)},k:function(t,n,r){let i=t.getHours();return(0===i&&(i=24),"ko"===n)?r.ordinalNumber(i,{unit:"hour"}):T(i,n.length)},m:function(t,n,r){return"mo"===n?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):A.m(t,n)},s:function(t,n,r){return"so"===n?r.ordinalNumber(t.getSeconds(),{unit:"second"}):A.s(t,n)},S:function(t,n){return A.S(t,n)},X:function(t,n,r){let i=t.getTimezoneOffset();if(0===i)return"Z";switch(n){case"X":return D(i);case"XXXX":case"XX":return _(i);default:return _(i,":")}},x:function(t,n,r){let i=t.getTimezoneOffset();switch(n){case"x":return D(i);case"xxxx":case"xx":return _(i);default:return _(i,":")}},O:function(t,n,r){let i=t.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+R(i,":");default:return"GMT"+_(i,":")}},z:function(t,n,r){let i=t.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+R(i,":");default:return"GMT"+_(i,":")}},t:function(t,n,r){return T(Math.trunc(t/1e3),n.length)},T:function(t,n,r){return T(+t,n.length)}};function R(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t>0?"-":"+",i=Math.abs(t),o=Math.trunc(i/60),s=i%60;return 0===s?r+String(o):r+String(o)+n+T(s,2)}function D(t,n){return t%60==0?(t>0?"-":"+")+T(Math.abs(t)/60,2):_(t,n)}function _(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=Math.abs(t);return(t>0?"-":"+")+T(Math.trunc(r/60),2)+n+T(r%60,2)}let F=(t,n)=>{switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});default:return n.date({width:"full"})}},P=(t,n)=>{switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});default:return n.time({width:"full"})}},L={p:P,P:(t,n)=>{let r,i=t.match(/(P+)(p+)?/)||[],o=i[1],s=i[2];if(!s)return F(t,n);switch(o){case"P":r=n.dateTime({width:"short"});break;case"PP":r=n.dateTime({width:"medium"});break;case"PPP":r=n.dateTime({width:"long"});break;default:r=n.dateTime({width:"full"})}return r.replace("{{date}}",F(o,n)).replace("{{time}}",P(s,n))}},z=/^D+$/,H=/^Y+$/,$=["D","DD","YY","YYYY"];function B(t){return t instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t)}let W=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,J=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,K=/^'([^]*?)'?$/,V=/''/g,q=/[a-zA-Z]/;function Y(t,n,r){var i,o,s,a,l,u,c,d,h,m,g,v,w,b,x,k,S,C;let M=null!=(m=null!=(h=null==r?void 0:r.locale)?h:f.locale)?m:p,E=null!=(b=null!=(w=null!=(v=null!=(g=null==r?void 0:r.firstWeekContainsDate)?g:null==r||null==(o=r.locale)||null==(i=o.options)?void 0:i.firstWeekContainsDate)?v:f.firstWeekContainsDate)?w:null==(a=f.locale)||null==(s=a.options)?void 0:s.firstWeekContainsDate)?b:1,j=null!=(C=null!=(S=null!=(k=null!=(x=null==r?void 0:r.weekStartsOn)?x:null==r||null==(u=r.locale)||null==(l=u.options)?void 0:l.weekStartsOn)?k:f.weekStartsOn)?S:null==(d=f.locale)||null==(c=d.options)?void 0:c.weekStartsOn)?C:0,N=y(t,null==r?void 0:r.in);if(!B(N)&&"number"!=typeof N||isNaN(+y(N)))throw RangeError("Invalid time value");let T=n.match(J).map(t=>{let n=t[0];return"p"===n||"P"===n?(0,L[n])(t,M.formatLong):t}).join("").match(W).map(t=>{if("''"===t)return{isToken:!1,value:"'"};let n=t[0];if("'"===n)return{isToken:!1,value:function(t){let n=t.match(K);return n?n[1].replace(V,"'"):t}(t)};if(I[n])return{isToken:!0,value:t};if(n.match(q))throw RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");return{isToken:!1,value:t}});M.localize.preprocessor&&(T=M.localize.preprocessor(N,T));let A={firstWeekContainsDate:E,weekStartsOn:j,locale:M};return T.map(i=>{if(!i.isToken)return i.value;let o=i.value;return(!(null==r?void 0:r.useAdditionalWeekYearTokens)&&H.test(o)||!(null==r?void 0:r.useAdditionalDayOfYearTokens)&&z.test(o))&&function(t,n,r){let i=function(t,n,r){let i="Y"===t[0]?"years":"days of the month";return"Use `".concat(t.toLowerCase(),"` instead of `").concat(t,"` (in `").concat(n,"`) for formatting ").concat(i," to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(t,n,r);if(console.warn(i),$.includes(t))throw RangeError(i)}(o,n,String(t)),(0,I[o[0]])(N,o,M.localize,A)}).join("")}function G(t,n){let r=y(t,null==n?void 0:n.in);return r.setDate(1),r.setHours(0,0,0,0),r}function U(t,n){let r=y(t,null==n?void 0:n.in),i=r.getMonth();return r.setFullYear(r.getFullYear(),i+1,0),r.setHours(23,59,59,999),r}function X(t,n,r){let i=y(t,null==r?void 0:r.in),o=i.getFullYear(),s=i.getDate(),a=g((null==r?void 0:r.in)||t,0);a.setFullYear(o,n,15),a.setHours(0,0,0,0);let l=function(t,n){let r=y(t,void 0),i=r.getFullYear(),o=r.getMonth(),s=g(r,0);return s.setFullYear(i,o+1,0),s.setHours(0,0,0,0),s.getDate()}(a);return i.setMonth(n,Math.min(s,l)),i}function Q(t,n,r){let i=y(t,null==r?void 0:r.in);return isNaN(+i)?g((null==r?void 0:r.in)||t,NaN):(i.setFullYear(n),i)}function Z(t,n,r){let[i,o]=w(null==r?void 0:r.in,t,n);return 12*(i.getFullYear()-o.getFullYear())+(i.getMonth()-o.getMonth())}function ee(t,n,r){let i=y(t,null==r?void 0:r.in);if(isNaN(n))return g((null==r?void 0:r.in)||t,NaN);if(!n)return i;let o=i.getDate(),s=g((null==r?void 0:r.in)||t,i.getTime());return(s.setMonth(i.getMonth()+n+1,0),o>=s.getDate())?s:(i.setFullYear(s.getFullYear(),s.getMonth(),o),i)}function et(t,n,r){let[i,o]=w(null==r?void 0:r.in,t,n);return i.getFullYear()===o.getFullYear()&&i.getMonth()===o.getMonth()}function en(t,n,r){let i=y(t,null==r?void 0:r.in);return isNaN(n)?g((null==r?void 0:r.in)||t,NaN):(n&&i.setDate(i.getDate()+n),i)}function er(t,n,r){let[i,o]=w(null==r?void 0:r.in,t,n);return+b(i)==+b(o)}function ei(t,n){return+y(t)>+y(n)}function eo(t,n,r){return en(t,7*n,r)}function es(t,n,r){return ee(t,12*n,r)}function ea(t,n){var r,i,o,s,a,l,u,c;let d=null!=(c=null!=(u=null!=(l=null!=(a=null==n?void 0:n.weekStartsOn)?a:null==n||null==(i=n.locale)||null==(r=i.options)?void 0:r.weekStartsOn)?l:f.weekStartsOn)?u:null==(s=f.locale)||null==(o=s.options)?void 0:o.weekStartsOn)?c:0,h=y(t,null==n?void 0:n.in),p=h.getDay();return h.setDate(h.getDate()+((p<d?-7:0)+6-(p-d))),h.setHours(23,59,59,999),h}function el(t,n){return ea(t,{...n,weekStartsOn:1})}var eu=function(){return(eu=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};function ec(t,n,r){if(r||2==arguments.length)for(var i,o=0,s=n.length;o<s;o++)!i&&o in n||(i||(i=Array.prototype.slice.call(n,0,o)),i[o]=n[o]);return t.concat(i||Array.prototype.slice.call(n))}function ed(t){return"multiple"===t.mode}function eh(t){return"range"===t.mode}function ep(t){return"single"===t.mode}"function"==typeof SuppressedError&&SuppressedError;var ef={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"},em=Object.freeze({__proto__:null,formatCaption:function(t,n){return Y(t,"LLLL y",n)},formatDay:function(t,n){return Y(t,"d",n)},formatMonthCaption:function(t,n){return Y(t,"LLLL",n)},formatWeekNumber:function(t){return"".concat(t)},formatWeekdayName:function(t,n){return Y(t,"cccccc",n)},formatYearCaption:function(t,n){return Y(t,"yyyy",n)}}),eg=Object.freeze({__proto__:null,labelDay:function(t,n,r){return Y(t,"do MMMM (EEEE)",r)},labelMonthDropdown:function(){return"Month: "},labelNext:function(){return"Go to next month"},labelPrevious:function(){return"Go to previous month"},labelWeekNumber:function(t){return"Week n. ".concat(t)},labelWeekday:function(t,n){return Y(t,"cccc",n)},labelYearDropdown:function(){return"Year: "}}),ey=(0,s.createContext)(void 0);function ev(t){var n,r,i,s,a,l,u,c,d,h=t.initialProps,f={captionLayout:"buttons",classNames:ef,formatters:em,labels:eg,locale:p,modifiersClassNames:{},modifiers:{},numberOfMonths:1,styles:{},today:new Date,mode:"default"},m=(r=(n=h).fromYear,i=n.toYear,s=n.fromMonth,a=n.toMonth,l=n.fromDate,u=n.toDate,s?l=G(s):r&&(l=new Date(r,0,1)),a?u=U(a):i&&(u=new Date(i,11,31)),{fromDate:l?b(l):void 0,toDate:u?b(u):void 0}),g=m.fromDate,y=m.toDate,v=null!=(c=h.captionLayout)?c:f.captionLayout;"buttons"===v||g&&y||(v="buttons"),(ep(h)||ed(h)||eh(h))&&(d=h.onSelect);var w=eu(eu(eu({},f),h),{captionLayout:v,classNames:eu(eu({},f.classNames),h.classNames),components:eu({},h.components),formatters:eu(eu({},f.formatters),h.formatters),fromDate:g,labels:eu(eu({},f.labels),h.labels),mode:h.mode||f.mode,modifiers:eu(eu({},f.modifiers),h.modifiers),modifiersClassNames:eu(eu({},f.modifiersClassNames),h.modifiersClassNames),onSelect:d,styles:eu(eu({},f.styles),h.styles),toDate:y});return(0,o.jsx)(ey.Provider,{value:w,children:t.children})}function ew(){var t=(0,s.useContext)(ey);if(!t)throw Error("useDayPicker must be used within a DayPickerProvider.");return t}function eb(t){var n=ew(),r=n.locale,i=n.classNames,s=n.styles,a=n.formatters.formatCaption;return(0,o.jsx)("div",{className:i.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:a(t.displayMonth,{locale:r})})}function ex(t){return(0,o.jsx)("svg",eu({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:(0,o.jsx)("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ek(t){var n,r,i=t.onChange,s=t.value,a=t.children,l=t.caption,u=t.className,c=t.style,d=ew(),h=null!=(r=null==(n=d.components)?void 0:n.IconDropdown)?r:ex;return(0,o.jsxs)("div",{className:u,style:c,children:[(0,o.jsx)("span",{className:d.classNames.vhidden,children:t["aria-label"]}),(0,o.jsx)("select",{name:t.name,"aria-label":t["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:s,onChange:i,children:a}),(0,o.jsxs)("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[l,(0,o.jsx)(h,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function eS(t){var n,r=ew(),i=r.fromDate,s=r.toDate,a=r.styles,l=r.locale,u=r.formatters.formatMonthCaption,c=r.classNames,d=r.components,h=r.labels.labelMonthDropdown;if(!i||!s)return(0,o.jsx)(o.Fragment,{});var p=[];if(function(t,n,r){let[i,o]=w(void 0,t,n);return i.getFullYear()===o.getFullYear()}(i,s))for(var f=G(i),m=i.getMonth();m<=s.getMonth();m++)p.push(X(f,m));else for(var f=G(new Date),m=0;m<=11;m++)p.push(X(f,m));var g=null!=(n=null==d?void 0:d.Dropdown)?n:ek;return(0,o.jsx)(g,{name:"months","aria-label":h(),className:c.dropdown_month,style:a.dropdown_month,onChange:function(n){var r=Number(n.target.value),i=X(G(t.displayMonth),r);t.onChange(i)},value:t.displayMonth.getMonth(),caption:u(t.displayMonth,{locale:l}),children:p.map(function(t){return(0,o.jsx)("option",{value:t.getMonth(),children:u(t,{locale:l})},t.getMonth())})})}function eC(t){var n,r=t.displayMonth,i=ew(),s=i.fromDate,a=i.toDate,l=i.locale,u=i.styles,c=i.classNames,d=i.components,h=i.formatters.formatYearCaption,p=i.labels.labelYearDropdown,f=[];if(!s||!a)return(0,o.jsx)(o.Fragment,{});for(var m=s.getFullYear(),g=a.getFullYear(),y=m;y<=g;y++)f.push(Q(k(new Date),y));var v=null!=(n=null==d?void 0:d.Dropdown)?n:ek;return(0,o.jsx)(v,{name:"years","aria-label":p(),className:c.dropdown_year,style:u.dropdown_year,onChange:function(n){var i=Q(G(r),Number(n.target.value));t.onChange(i)},value:r.getFullYear(),caption:h(r,{locale:l}),children:f.map(function(t){return(0,o.jsx)("option",{value:t.getFullYear(),children:h(t,{locale:l})},t.getFullYear())})})}var eM=(0,s.createContext)(void 0);function eE(t){var n,r,i,a,l,u,c,d,h,p,f,m,g,v,w,b,x=ew(),k=(w=(i=(r=n=ew()).month,a=r.defaultMonth,l=r.today,u=i||a||l||new Date,c=r.toDate,d=r.fromDate,h=r.numberOfMonths,c&&0>Z(c,u)&&(u=ee(c,-1*((void 0===h?1:h)-1))),d&&0>Z(u,d)&&(u=d),p=G(u),f=n.month,g=(m=(0,s.useState)(p))[0],v=[void 0===f?g:f,m[1]])[0],b=v[1],[w,function(t){if(!n.disableNavigation){var r,i=G(t);b(i),null==(r=n.onMonthChange)||r.call(n,i)}}]),S=k[0],C=k[1],M=function(t,n){for(var r=n.reverseMonths,i=n.numberOfMonths,o=G(t),s=Z(G(ee(o,i)),o),a=[],l=0;l<s;l++){var u=ee(o,l);a.push(u)}return r&&(a=a.reverse()),a}(S,x),E=function(t,n){if(!n.disableNavigation){var r=n.toDate,i=n.pagedNavigation,o=n.numberOfMonths,s=void 0===o?1:o,a=G(t);if(!r||!(Z(r,t)<s))return ee(a,i?s:1)}}(S,x),j=function(t,n){if(!n.disableNavigation){var r=n.fromDate,i=n.pagedNavigation,o=n.numberOfMonths,s=G(t);if(!r||!(0>=Z(s,r)))return ee(s,-(i?void 0===o?1:o:1))}}(S,x),N=function(t){return M.some(function(n){return et(t,n)})};return(0,o.jsx)(eM.Provider,{value:{currentMonth:S,displayMonths:M,goToMonth:C,goToDate:function(t,n){!N(t)&&(n&&+y(t)<+y(n)?C(ee(t,1+-1*x.numberOfMonths)):C(t))},previousMonth:j,nextMonth:E,isDateDisplayed:N},children:t.children})}function ej(){var t=(0,s.useContext)(eM);if(!t)throw Error("useNavigation must be used within a NavigationProvider");return t}function eN(t){var n,r=ew(),i=r.classNames,s=r.styles,a=r.components,l=ej().goToMonth,u=function(n){l(ee(n,t.displayIndex?-t.displayIndex:0))},c=null!=(n=null==a?void 0:a.CaptionLabel)?n:eb,d=(0,o.jsx)(c,{id:t.id,displayMonth:t.displayMonth});return(0,o.jsxs)("div",{className:i.caption_dropdowns,style:s.caption_dropdowns,children:[(0,o.jsx)("div",{className:i.vhidden,children:d}),(0,o.jsx)(eS,{onChange:u,displayMonth:t.displayMonth}),(0,o.jsx)(eC,{onChange:u,displayMonth:t.displayMonth})]})}function eT(t){return(0,o.jsx)("svg",eu({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:(0,o.jsx)("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function eA(t){return(0,o.jsx)("svg",eu({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:(0,o.jsx)("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var eO=(0,s.forwardRef)(function(t,n){var r=ew(),i=r.classNames,s=r.styles,a=[i.button_reset,i.button];t.className&&a.push(t.className);var l=a.join(" "),u=eu(eu({},s.button_reset),s.button);return t.style&&Object.assign(u,t.style),(0,o.jsx)("button",eu({},t,{ref:n,type:"button",className:l,style:u}))});function eI(t){var n,r,i=ew(),s=i.dir,a=i.locale,l=i.classNames,u=i.styles,c=i.labels,d=c.labelPrevious,h=c.labelNext,p=i.components;if(!t.nextMonth&&!t.previousMonth)return(0,o.jsx)(o.Fragment,{});var f=d(t.previousMonth,{locale:a}),m=[l.nav_button,l.nav_button_previous].join(" "),g=h(t.nextMonth,{locale:a}),y=[l.nav_button,l.nav_button_next].join(" "),v=null!=(n=null==p?void 0:p.IconRight)?n:eA,w=null!=(r=null==p?void 0:p.IconLeft)?r:eT;return(0,o.jsxs)("div",{className:l.nav,style:u.nav,children:[!t.hidePrevious&&(0,o.jsx)(eO,{name:"previous-month","aria-label":f,className:m,style:u.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:"rtl"===s?(0,o.jsx)(v,{className:l.nav_icon,style:u.nav_icon}):(0,o.jsx)(w,{className:l.nav_icon,style:u.nav_icon})}),!t.hideNext&&(0,o.jsx)(eO,{name:"next-month","aria-label":g,className:y,style:u.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:"rtl"===s?(0,o.jsx)(w,{className:l.nav_icon,style:u.nav_icon}):(0,o.jsx)(v,{className:l.nav_icon,style:u.nav_icon})})]})}function eR(t){var n=ew().numberOfMonths,r=ej(),i=r.previousMonth,s=r.nextMonth,a=r.goToMonth,l=r.displayMonths,u=l.findIndex(function(n){return et(t.displayMonth,n)}),c=0===u,d=u===l.length-1;return(0,o.jsx)(eI,{displayMonth:t.displayMonth,hideNext:n>1&&(c||!d),hidePrevious:n>1&&(d||!c),nextMonth:s,previousMonth:i,onPreviousClick:function(){i&&a(i)},onNextClick:function(){s&&a(s)}})}function eD(t){var n,r,i=ew(),s=i.classNames,a=i.disableNavigation,l=i.styles,u=i.captionLayout,c=i.components,d=null!=(n=null==c?void 0:c.CaptionLabel)?n:eb;return r=a?(0,o.jsx)(d,{id:t.id,displayMonth:t.displayMonth}):"dropdown"===u?(0,o.jsx)(eN,{displayMonth:t.displayMonth,id:t.id}):"dropdown-buttons"===u?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eN,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),(0,o.jsx)(eR,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),(0,o.jsx)(eR,{displayMonth:t.displayMonth,id:t.id})]}),(0,o.jsx)("div",{className:s.caption,style:l.caption,children:r})}function e_(t){var n=ew(),r=n.footer,i=n.styles,s=n.classNames.tfoot;return r?(0,o.jsx)("tfoot",{className:s,style:i.tfoot,children:(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:8,children:r})})}):(0,o.jsx)(o.Fragment,{})}function eF(){var t=ew(),n=t.classNames,r=t.styles,i=t.showWeekNumber,s=t.locale,a=t.weekStartsOn,l=t.ISOWeek,u=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,d=function(t,n,r){for(var i=r?C(new Date):S(new Date,{locale:t,weekStartsOn:n}),o=[],s=0;s<7;s++){var a=en(i,s);o.push(a)}return o}(s,a,l);return(0,o.jsxs)("tr",{style:r.head_row,className:n.head_row,children:[i&&(0,o.jsx)("td",{style:r.head_cell,className:n.head_cell}),d.map(function(t,i){return(0,o.jsx)("th",{scope:"col",className:n.head_cell,style:r.head_cell,"aria-label":c(t,{locale:s}),children:u(t,{locale:s})},i)})]})}function eP(){var t,n=ew(),r=n.classNames,i=n.styles,s=n.components,a=null!=(t=null==s?void 0:s.HeadRow)?t:eF;return(0,o.jsx)("thead",{style:i.head,className:r.head,children:(0,o.jsx)(a,{})})}function eL(t){var n=ew(),r=n.locale,i=n.formatters.formatDay;return(0,o.jsx)(o.Fragment,{children:i(t.date,{locale:r})})}var ez=(0,s.createContext)(void 0);function eH(t){return ed(t.initialProps)?(0,o.jsx)(e$,{initialProps:t.initialProps,children:t.children}):(0,o.jsx)(ez.Provider,{value:{selected:void 0,modifiers:{disabled:[]}},children:t.children})}function e$(t){var n=t.initialProps,r=t.children,i=n.selected,s=n.min,a=n.max,l={disabled:[]};return i&&l.disabled.push(function(t){var n=a&&i.length>a-1,r=i.some(function(n){return er(n,t)});return!!(n&&!r)}),(0,o.jsx)(ez.Provider,{value:{selected:i,onDayClick:function(t,r,o){var l,u;if((null==(l=n.onDayClick)||l.call(n,t,r,o),!r.selected||!s||(null==i?void 0:i.length)!==s)&&!(!r.selected&&a&&(null==i?void 0:i.length)===a)){var c=i?ec([],i,!0):[];if(r.selected){var d=c.findIndex(function(n){return er(t,n)});c.splice(d,1)}else c.push(t);null==(u=n.onSelect)||u.call(n,c,t,r,o)}},modifiers:l},children:r})}function eB(){var t=(0,s.useContext)(ez);if(!t)throw Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}var eW=(0,s.createContext)(void 0);function eJ(t){return eh(t.initialProps)?(0,o.jsx)(eK,{initialProps:t.initialProps,children:t.children}):(0,o.jsx)(eW.Provider,{value:{selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}},children:t.children})}function eK(t){var n=t.initialProps,r=t.children,i=n.selected,s=i||{},a=s.from,l=s.to,u=n.min,c=n.max,d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],l?(d.range_end=[l],er(a,l)||(d.range_middle=[{after:a,before:l}])):d.range_end=[a]):l&&(d.range_start=[l],d.range_end=[l]),u&&(a&&!l&&d.disabled.push({after:en(a,-(u-1),void 0),before:en(a,u-1)}),a&&l&&d.disabled.push({after:a,before:en(a,u-1)}),!a&&l&&d.disabled.push({after:en(l,-(u-1),void 0),before:en(l,u-1)})),c){if(a&&!l&&(d.disabled.push({before:en(a,-c+1)}),d.disabled.push({after:en(a,c-1)})),a&&l){var h=c-(x(l,a)+1);d.disabled.push({before:en(a,-h,void 0)}),d.disabled.push({after:en(l,h)})}!a&&l&&(d.disabled.push({before:en(l,-c+1)}),d.disabled.push({after:en(l,c-1)}))}return(0,o.jsx)(eW.Provider,{value:{selected:i,onDayClick:function(t,r,o){null==(s=n.onDayClick)||s.call(n,t,r,o);var s,a,l=function(t,n){var r=n||{},i=r.from,o=r.to;return i&&o?er(o,t)&&er(i,t)?void 0:er(o,t)?{from:o,to:void 0}:er(i,t)?void 0:ei(i,t)?{from:t,to:o}:{from:i,to:t}:o?ei(t,o)?{from:o,to:t}:{from:t,to:o}:i?+y(t)<+y(i)?{from:t,to:i}:{from:i,to:t}:{from:t,to:void 0}}(t,i);null==(a=n.onSelect)||a.call(n,l,t,r,o)},modifiers:d},children:r})}function eV(){var t=(0,s.useContext)(eW);if(!t)throw Error("useSelectRange must be used within a SelectRangeProvider");return t}function eq(t){return Array.isArray(t)?ec([],t,!0):void 0!==t?[t]:[]}!function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"}(i||(i={}));var eY=i.Selected,eG=i.Disabled,eU=i.Hidden,eX=i.Today,eQ=i.RangeEnd,eZ=i.RangeMiddle,e0=i.RangeStart,e1=i.Outside,e2=(0,s.createContext)(void 0);function e5(t){var n,r,i,s,a=ew(),l=eB(),u=eV(),c=((n={})[eY]=eq(a.selected),n[eG]=eq(a.disabled),n[eU]=eq(a.hidden),n[eX]=[a.today],n[eQ]=[],n[eZ]=[],n[e0]=[],n[e1]=[],r=n,a.fromDate&&r[eG].push({before:a.fromDate}),a.toDate&&r[eG].push({after:a.toDate}),ed(a)?r[eG]=r[eG].concat(l.modifiers[eG]):eh(a)&&(r[eG]=r[eG].concat(u.modifiers[eG]),r[e0]=u.modifiers[e0],r[eZ]=u.modifiers[eZ],r[eQ]=u.modifiers[eQ]),r),d=(i=a.modifiers,s={},Object.entries(i).forEach(function(t){var n=t[0],r=t[1];s[n]=eq(r)}),s),h=eu(eu({},c),d);return(0,o.jsx)(e2.Provider,{value:h,children:t.children})}function e4(){var t=(0,s.useContext)(e2);if(!t)throw Error("useModifiers must be used within a ModifiersProvider");return t}function e6(t,n,r){var i=Object.keys(n).reduce(function(r,i){return n[i].some(function(n){if("boolean"==typeof n)return n;if(B(n))return er(t,n);if(Array.isArray(n)&&n.every(B))return n.includes(t);if(n&&"object"==typeof n&&"from"in n)return i=n.from,o=n.to,i&&o?(0>x(o,i)&&(i=(r=[o,i])[0],o=r[1]),x(t,i)>=0&&x(o,t)>=0):o?er(o,t):!!i&&er(i,t);if(n&&"object"==typeof n&&"dayOfWeek"in n)return n.dayOfWeek.includes(t.getDay());if(n&&"object"==typeof n&&"before"in n&&"after"in n){var r,i,o,s=x(n.before,t),a=x(n.after,t),l=s>0,u=a<0;return ei(n.before,n.after)?u&&l:l||u}return n&&"object"==typeof n&&"after"in n?x(t,n.after)>0:n&&"object"==typeof n&&"before"in n?x(n.before,t)>0:"function"==typeof n&&n(t)})&&r.push(i),r},[]),o={};return i.forEach(function(t){return o[t]=!0}),r&&!et(t,r)&&(o.outside=!0),o}var e3=(0,s.createContext)(void 0);function e8(t){var n=ej(),r=e4(),i=(0,s.useState)(),a=i[0],l=i[1],u=(0,s.useState)(),c=u[0],d=u[1],h=function(t,n){for(var r,i,o=G(t[0]),s=U(t[t.length-1]),a=o;a<=s;){var l=e6(a,n);if(!(!l.disabled&&!l.hidden)){a=en(a,1);continue}if(l.selected)return a;l.today&&!i&&(i=a),r||(r=a),a=en(a,1)}return i||r}(n.displayMonths,r),p=(null!=a?a:c&&n.isDateDisplayed(c))?c:h,f=function(t){l(t)},m=ew(),v=function(t,i){if(a){var o=function t(n,r){var i=r.moveBy,o=r.direction,s=r.context,a=r.modifiers,l=r.retry,u=void 0===l?{count:0,lastFocused:n}:l,c=s.weekStartsOn,d=s.fromDate,h=s.toDate,p=s.locale,f=({day:en,week:eo,month:ee,year:es,startOfWeek:function(t){return s.ISOWeek?C(t):S(t,{locale:p,weekStartsOn:c})},endOfWeek:function(t){return s.ISOWeek?el(t):ea(t,{locale:p,weekStartsOn:c})}})[i](n,"after"===o?1:-1);if("before"===o&&d){let t,n;n=void 0,[d,f].forEach(r=>{n||"object"!=typeof r||(n=g.bind(null,r));let i=y(r,n);(!t||t<i||isNaN(+i))&&(t=i)}),f=g(n,t||NaN)}else{let t,n;"after"===o&&h&&(n=void 0,[h,f].forEach(r=>{n||"object"!=typeof r||(n=g.bind(null,r));let i=y(r,n);(!t||t>i||isNaN(+i))&&(t=i)}),f=g(n,t||NaN))}var m=!0;if(a){var v=e6(f,a);m=!v.disabled&&!v.hidden}return m?f:u.count>365?u.lastFocused:t(f,{moveBy:i,direction:o,context:s,modifiers:a,retry:eu(eu({},u),{count:u.count+1})})}(a,{moveBy:t,direction:i,context:m,modifiers:r});er(a,o)||(n.goToDate(o,a),f(o))}};return(0,o.jsx)(e3.Provider,{value:{focusedDay:a,focusTarget:p,blur:function(){d(a),l(void 0)},focus:f,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}},children:t.children})}function e9(){var t=(0,s.useContext)(e3);if(!t)throw Error("useFocusContext must be used within a FocusProvider");return t}var e7=(0,s.createContext)(void 0);function te(t){return ep(t.initialProps)?(0,o.jsx)(tt,{initialProps:t.initialProps,children:t.children}):(0,o.jsx)(e7.Provider,{value:{selected:void 0},children:t.children})}function tt(t){var n=t.initialProps,r=t.children,i={selected:n.selected,onDayClick:function(t,r,i){var o,s,a;if(null==(o=n.onDayClick)||o.call(n,t,r,i),r.selected&&!n.required){null==(s=n.onSelect)||s.call(n,void 0,t,r,i);return}null==(a=n.onSelect)||a.call(n,t,t,r,i)}};return(0,o.jsx)(e7.Provider,{value:i,children:r})}function tn(){var t=(0,s.useContext)(e7);if(!t)throw Error("useSelectSingle must be used within a SelectSingleProvider");return t}function tr(t){var n,r,a,l,u,c,d,h,p,f,m,g,y,v,w,b,x,k,S,C,M,E,j,N,T,A,O,I,R,D,_,F,P,L,z,H,$,B,W,J,K,V,q=(0,s.useRef)(null),Y=(n=t.date,r=t.displayMonth,c=ew(),d=e9(),h=e6(n,e4(),r),p=ew(),f=tn(),m=eB(),g=eV(),v=(y=e9()).focusDayAfter,w=y.focusDayBefore,b=y.focusWeekAfter,x=y.focusWeekBefore,k=y.blur,S=y.focus,C=y.focusMonthBefore,M=y.focusMonthAfter,E=y.focusYearBefore,j=y.focusYearAfter,N=y.focusStartOfWeek,T=y.focusEndOfWeek,A={onClick:function(t){var r,i,o,s;ep(p)?null==(r=f.onDayClick)||r.call(f,n,h,t):ed(p)?null==(i=m.onDayClick)||i.call(m,n,h,t):eh(p)?null==(o=g.onDayClick)||o.call(g,n,h,t):null==(s=p.onDayClick)||s.call(p,n,h,t)},onFocus:function(t){var r;S(n),null==(r=p.onDayFocus)||r.call(p,n,h,t)},onBlur:function(t){var r;k(),null==(r=p.onDayBlur)||r.call(p,n,h,t)},onKeyDown:function(t){var r;switch(t.key){case"ArrowLeft":t.preventDefault(),t.stopPropagation(),"rtl"===p.dir?v():w();break;case"ArrowRight":t.preventDefault(),t.stopPropagation(),"rtl"===p.dir?w():v();break;case"ArrowDown":t.preventDefault(),t.stopPropagation(),b();break;case"ArrowUp":t.preventDefault(),t.stopPropagation(),x();break;case"PageUp":t.preventDefault(),t.stopPropagation(),t.shiftKey?E():C();break;case"PageDown":t.preventDefault(),t.stopPropagation(),t.shiftKey?j():M();break;case"Home":t.preventDefault(),t.stopPropagation(),N();break;case"End":t.preventDefault(),t.stopPropagation(),T()}null==(r=p.onDayKeyDown)||r.call(p,n,h,t)},onKeyUp:function(t){var r;null==(r=p.onDayKeyUp)||r.call(p,n,h,t)},onMouseEnter:function(t){var r;null==(r=p.onDayMouseEnter)||r.call(p,n,h,t)},onMouseLeave:function(t){var r;null==(r=p.onDayMouseLeave)||r.call(p,n,h,t)},onPointerEnter:function(t){var r;null==(r=p.onDayPointerEnter)||r.call(p,n,h,t)},onPointerLeave:function(t){var r;null==(r=p.onDayPointerLeave)||r.call(p,n,h,t)},onTouchCancel:function(t){var r;null==(r=p.onDayTouchCancel)||r.call(p,n,h,t)},onTouchEnd:function(t){var r;null==(r=p.onDayTouchEnd)||r.call(p,n,h,t)},onTouchMove:function(t){var r;null==(r=p.onDayTouchMove)||r.call(p,n,h,t)},onTouchStart:function(t){var r;null==(r=p.onDayTouchStart)||r.call(p,n,h,t)}},O=ew(),I=tn(),R=eB(),D=eV(),_=ep(O)?I.selected:ed(O)?R.selected:eh(O)?D.selected:void 0,F=!!(c.onDayClick||"default"!==c.mode),(0,s.useEffect)(function(){var t;!h.outside&&d.focusedDay&&F&&er(d.focusedDay,n)&&(null==(t=q.current)||t.focus())},[d.focusedDay,n,q,F,h.outside]),L=(P=[c.classNames.day],Object.keys(h).forEach(function(t){var n=c.modifiersClassNames[t];if(n)P.push(n);else if(Object.values(i).includes(t)){var r=c.classNames["day_".concat(t)];r&&P.push(r)}}),P).join(" "),z=eu({},c.styles.day),Object.keys(h).forEach(function(t){var n;z=eu(eu({},z),null==(n=c.modifiersStyles)?void 0:n[t])}),H=z,$=!!(h.outside&&!c.showOutsideDays||h.hidden),B=null!=(u=null==(l=c.components)?void 0:l.DayContent)?u:eL,W={style:H,className:L,children:(0,o.jsx)(B,{date:n,displayMonth:r,activeModifiers:h}),role:"gridcell"},J=d.focusTarget&&er(d.focusTarget,n)&&!h.outside,K=d.focusedDay&&er(d.focusedDay,n),V=eu(eu(eu({},W),((a={disabled:h.disabled,role:"gridcell"})["aria-selected"]=h.selected,a.tabIndex=K||J?0:-1,a)),A),{isButton:F,isHidden:$,activeModifiers:h,selectedDays:_,buttonProps:V,divProps:W});return Y.isHidden?(0,o.jsx)("div",{role:"gridcell"}):Y.isButton?(0,o.jsx)(eO,eu({name:"day",ref:q},Y.buttonProps)):(0,o.jsx)("div",eu({},Y.divProps))}function ti(t){var n=t.number,r=t.dates,i=ew(),s=i.onWeekNumberClick,a=i.styles,l=i.classNames,u=i.locale,c=i.labels.labelWeekNumber,d=(0,i.formatters.formatWeekNumber)(Number(n),{locale:u});if(!s)return(0,o.jsx)("span",{className:l.weeknumber,style:a.weeknumber,children:d});var h=c(Number(n),{locale:u});return(0,o.jsx)(eO,{name:"week-number","aria-label":h,className:l.weeknumber,style:a.weeknumber,onClick:function(t){s(n,r,t)},children:d})}function to(t){var n,r,i,s=ew(),a=s.styles,l=s.classNames,u=s.showWeekNumber,c=s.components,d=null!=(n=null==c?void 0:c.Day)?n:tr,h=null!=(r=null==c?void 0:c.WeekNumber)?r:ti;return u&&(i=(0,o.jsx)("td",{className:l.cell,style:a.cell,children:(0,o.jsx)(h,{number:t.weekNumber,dates:t.dates})})),(0,o.jsxs)("tr",{className:l.row,style:a.row,children:[i,t.dates.map(function(n){return(0,o.jsx)("td",{className:l.cell,style:a.cell,role:"presentation",children:(0,o.jsx)(d,{displayMonth:t.displayMonth,date:n})},Math.trunc(y(n)/1e3))})]})}function ts(t,n,r){for(var i=(null==r?void 0:r.ISOWeek)?el(n):ea(n,r),o=(null==r?void 0:r.ISOWeek)?C(t):S(t,r),s=x(i,o),a=[],l=0;l<=s;l++)a.push(en(o,l));return a.reduce(function(t,n){var i=(null==r?void 0:r.ISOWeek)?E(n):N(n,r),o=t.find(function(t){return t.weekNumber===i});return o?o.dates.push(n):t.push({weekNumber:i,dates:[n]}),t},[])}function ta(t){var n,r,i,s=ew(),a=s.locale,l=s.classNames,u=s.styles,c=s.hideHead,d=s.fixedWeeks,h=s.components,p=s.weekStartsOn,f=s.firstWeekContainsDate,m=s.ISOWeek,g=function(t,n){var r=ts(G(t),U(t),n);if(null==n?void 0:n.useFixedWeeks){var i=function(t,n){let r=y(t,null==n?void 0:n.in);return function(t,n,r){let[i,o]=w(null==r?void 0:r.in,t,n),s=S(i,r),a=S(o,r);return Math.round((s-v(s)-(a-v(a)))/6048e5)}(function(t,n){let r=y(t,null==n?void 0:n.in),i=r.getMonth();return r.setFullYear(r.getFullYear(),i+1,0),r.setHours(0,0,0,0),y(r,null==n?void 0:n.in)}(r,n),G(r,n),n)+1}(t,n);if(i<6){var o=r[r.length-1],s=o.dates[o.dates.length-1],a=eo(s,6-i),l=ts(eo(s,1),a,n);r.push.apply(r,l)}}return r}(t.displayMonth,{useFixedWeeks:!!d,ISOWeek:m,locale:a,weekStartsOn:p,firstWeekContainsDate:f}),b=null!=(n=null==h?void 0:h.Head)?n:eP,x=null!=(r=null==h?void 0:h.Row)?r:to,k=null!=(i=null==h?void 0:h.Footer)?i:e_;return(0,o.jsxs)("table",{id:t.id,className:l.table,style:u.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&(0,o.jsx)(b,{}),(0,o.jsx)("tbody",{className:l.tbody,style:u.tbody,children:g.map(function(n){return(0,o.jsx)(x,{displayMonth:t.displayMonth,dates:n.dates,weekNumber:n.weekNumber},n.weekNumber)})}),(0,o.jsx)(k,{displayMonth:t.displayMonth})]})}var tl="undefined"!=typeof window&&window.document&&window.document.createElement?s.useLayoutEffect:s.useEffect,tu=!1,tc=0;function td(){return"react-day-picker-".concat(++tc)}function th(t){var n,r,i,a,l,u,c,d,h=ew(),p=h.dir,f=h.classNames,m=h.styles,g=h.components,y=ej().displayMonths,v=(i=null!=(n=h.id?"".concat(h.id,"-").concat(t.displayIndex):void 0)?n:tu?td():null,l=(a=(0,s.useState)(i))[0],u=a[1],tl(function(){null===l&&u(td())},[]),(0,s.useEffect)(function(){!1===tu&&(tu=!0)},[]),null!=(r=null!=n?n:l)?r:void 0),w=h.id?"".concat(h.id,"-grid-").concat(t.displayIndex):void 0,b=[f.month],x=m.month,k=0===t.displayIndex,S=t.displayIndex===y.length-1,C=!k&&!S;"rtl"===p&&(S=(c=[k,S])[0],k=c[1]),k&&(b.push(f.caption_start),x=eu(eu({},x),m.caption_start)),S&&(b.push(f.caption_end),x=eu(eu({},x),m.caption_end)),C&&(b.push(f.caption_between),x=eu(eu({},x),m.caption_between));var M=null!=(d=null==g?void 0:g.Caption)?d:eD;return(0,o.jsxs)("div",{className:b.join(" "),style:x,children:[(0,o.jsx)(M,{id:v,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),(0,o.jsx)(ta,{id:w,"aria-labelledby":v,displayMonth:t.displayMonth})]},t.displayIndex)}function tp(t){var n=ew(),r=n.classNames,i=n.styles;return(0,o.jsx)("div",{className:r.months,style:i.months,children:t.children})}function tf(t){var n,r,i=t.initialProps,a=ew(),l=e9(),u=ej(),c=(0,s.useState)(!1),d=c[0],h=c[1];(0,s.useEffect)(function(){a.initialFocus&&l.focusTarget&&(d||(l.focus(l.focusTarget),h(!0)))},[a.initialFocus,d,l.focus,l.focusTarget,l]);var p=[a.classNames.root,a.className];a.numberOfMonths>1&&p.push(a.classNames.multiple_months),a.showWeekNumber&&p.push(a.classNames.with_weeknumber);var f=eu(eu({},a.styles.root),a.style),m=Object.keys(i).filter(function(t){return t.startsWith("data-")}).reduce(function(t,n){var r;return eu(eu({},t),((r={})[n]=i[n],r))},{}),g=null!=(r=null==(n=i.components)?void 0:n.Months)?r:tp;return(0,o.jsx)("div",eu({className:p.join(" "),style:f,dir:a.dir,id:a.id,nonce:i.nonce,title:i.title,lang:i.lang},m,{children:(0,o.jsx)(g,{children:u.displayMonths.map(function(t,n){return(0,o.jsx)(th,{displayIndex:n,displayMonth:t},n)})})}))}function tm(t){var n=t.children,r=function(t,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&0>n.indexOf(i)&&(r[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)0>n.indexOf(i[o])&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(r[i[o]]=t[i[o]]);return r}(t,["children"]);return(0,o.jsx)(ev,{initialProps:r,children:(0,o.jsx)(eE,{children:(0,o.jsx)(te,{initialProps:r,children:(0,o.jsx)(eH,{initialProps:r,children:(0,o.jsx)(eJ,{initialProps:r,children:(0,o.jsx)(e5,{children:(0,o.jsx)(e8,{children:n})})})})})})})}function tg(t){return(0,o.jsx)(tm,eu({},t,{children:(0,o.jsx)(tf,{initialProps:t})}))}},74979:(t,n,r)=>{r.d(n,{A:()=>a});var i=r(4701),o=r(52571),s=r(42695);let a=i.YY.create({name:"placeholder",addOptions:()=>({emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}),addProseMirrorPlugins(){return[new o.k_({key:new o.hs("placeholder"),props:{decorations:({doc:t,selection:n})=>{let r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:o}=n,a=[];if(!r)return null;let l=this.editor.isEmpty;return t.descendants((t,n)=>{let r=o>=n&&o<=n+t.nodeSize,u=!t.isLeaf&&(0,i.Op)(t);if((r||!this.options.showOnlyCurrent)&&u){let i=[this.options.emptyNodeClass];l&&i.push(this.options.emptyEditorClass);let o=s.NZ.node(n,n+t.nodeSize,{class:i.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:t,pos:n,hasAnchor:r}):this.options.placeholder});a.push(o)}return this.options.includeChildren}),s.zF.create(t,a)}}})]}})},75109:(t,n,r)=>{r.d(n,{$Z:()=>g,hG:()=>E});var i,o,s=r(12115),a=r(47650),l=r(4701),u={exports:{}},c={};u.exports=function(){if(i)return c;i=1;var t="function"==typeof Object.is?Object.is:function(t,n){return t===n&&(0!==t||1/t==1/n)||t!=t&&n!=n},n=s.useState,r=s.useEffect,o=s.useLayoutEffect,a=s.useDebugValue;function l(n){var r=n.getSnapshot;n=n.value;try{var i=r();return!t(n,i)}catch(t){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,n){return n()}:function(t,i){var s=i(),u=n({inst:{value:s,getSnapshot:i}}),c=u[0].inst,d=u[1];return o(function(){c.value=s,c.getSnapshot=i,l(c)&&d({inst:c})},[t,s,i]),r(function(){return l(c)&&d({inst:c}),t(function(){l(c)&&d({inst:c})})},[t]),a(s),s};return c.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:u,c}();var d=u.exports;let h=(...t)=>n=>{t.forEach(t=>{"function"==typeof t?t(n):t&&(t.current=n)})},p=({contentComponent:t})=>{let n=d.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return s.createElement(s.Fragment,null,Object.values(n))};class f extends s.Component{constructor(t){var n;super(t),this.editorContentRef=s.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(null==(n=t.editor)?void 0:n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){let t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;let n=this.editorContentRef.current;n.append(...t.options.element.childNodes),t.setOptions({element:n}),t.contentComponent=function(){let t=new Set,n={};return{subscribe:n=>(t.add(n),()=>{t.delete(n)}),getSnapshot:()=>n,getServerSnapshot:()=>n,setRenderer(r,i){n={...n,[r]:a.createPortal(i.reactElement,i.element,r)},t.forEach(t=>t())},removeRenderer(r){let i={...n};delete i[r],n=i,t.forEach(t=>t())}}}(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(t=>t.hasContentComponentInitialized?t:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){let t=this.props.editor;if(!t||(this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null,!t.options.element.firstChild))return;let n=document.createElement("div");n.append(...t.options.element.childNodes),t.setOptions({element:n})}render(){let{editor:t,innerRef:n,...r}=this.props;return s.createElement(s.Fragment,null,s.createElement("div",{ref:h(n,this.editorContentRef),...r}),(null==t?void 0:t.contentComponent)&&s.createElement(p,{contentComponent:t.contentComponent}))}}let m=(0,s.forwardRef)((t,n)=>{let r=s.useMemo(()=>Math.floor(0xffffffff*Math.random()).toString(),[t.editor]);return s.createElement(f,{key:r,innerRef:n,...t})}),g=s.memo(m);var y=function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}(function t(n,r){if(n===r)return!0;if(n&&r&&"object"==typeof n&&"object"==typeof r){if(n.constructor!==r.constructor)return!1;if(Array.isArray(n)){if((i=n.length)!=r.length)return!1;for(o=i;0!=o--;)if(!t(n[o],r[o]))return!1;return!0}if(n instanceof Map&&r instanceof Map){if(n.size!==r.size)return!1;for(o of n.entries())if(!r.has(o[0]))return!1;for(o of n.entries())if(!t(o[1],r.get(o[0])))return!1;return!0}if(n instanceof Set&&r instanceof Set){if(n.size!==r.size)return!1;for(o of n.entries())if(!r.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(n)&&ArrayBuffer.isView(r)){if((i=n.length)!=r.length)return!1;for(o=i;0!=o--;)if(n[o]!==r[o])return!1;return!0}if(n.constructor===RegExp)return n.source===r.source&&n.flags===r.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===r.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===r.toString();if((i=(s=Object.keys(n)).length)!==Object.keys(r).length)return!1;for(o=i;0!=o--;)if(!Object.prototype.hasOwnProperty.call(r,s[o]))return!1;for(o=i;0!=o--;){var i,o,s,a=s[o];if(("_owner"!==a||!n.$$typeof)&&!t(n[a],r[a]))return!1}return!0}return n!=n&&r!=r}),v={exports:{}},w={};v.exports=function(){if(o)return w;o=1;var t="function"==typeof Object.is?Object.is:function(t,n){return t===n&&(0!==t||1/t==1/n)||t!=t&&n!=n},n=d.useSyncExternalStore,r=s.useRef,i=s.useEffect,a=s.useMemo,l=s.useDebugValue;return w.useSyncExternalStoreWithSelector=function(o,s,u,c,d){var h=r(null);if(null===h.current){var p={hasValue:!1,value:null};h.current=p}else p=h.current;var f=n(o,(h=a(function(){function n(n){if(!o){if(o=!0,r=n,n=c(n),void 0!==d&&p.hasValue){var s=p.value;if(d(s,n))return i=s}return i=n}if(s=i,t(r,n))return s;var a=c(n);return void 0!==d&&d(s,a)?s:(r=n,i=a)}var r,i,o=!1,a=void 0===u?null:u;return[function(){return n(s())},null===a?void 0:function(){return n(a())}]},[s,u,c,d]))[0],h[1]);return i(function(){p.hasValue=!0,p.value=f},[f]),l(f),f},w}();var b=v.exports;let x="undefined"!=typeof window?s.useLayoutEffect:s.useEffect;class k{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber||(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber}),this.lastSnapshot}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){let t=()=>{this.transactionNumber+=1,this.subscribers.forEach(t=>t())},n=this.editor;return n.on("transaction",t),()=>{n.off("transaction",t)}}}}let S="undefined"==typeof window,C=S||!!("undefined"!=typeof window&&window.next);class M{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return void 0===this.options.current.immediatelyRender?S||C?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){let t={...this.options.current,onBeforeCreate:(...t)=>{var n,r;return null==(r=(n=this.options.current).onBeforeCreate)?void 0:r.call(n,...t)},onBlur:(...t)=>{var n,r;return null==(r=(n=this.options.current).onBlur)?void 0:r.call(n,...t)},onCreate:(...t)=>{var n,r;return null==(r=(n=this.options.current).onCreate)?void 0:r.call(n,...t)},onDestroy:(...t)=>{var n,r;return null==(r=(n=this.options.current).onDestroy)?void 0:r.call(n,...t)},onFocus:(...t)=>{var n,r;return null==(r=(n=this.options.current).onFocus)?void 0:r.call(n,...t)},onSelectionUpdate:(...t)=>{var n,r;return null==(r=(n=this.options.current).onSelectionUpdate)?void 0:r.call(n,...t)},onTransaction:(...t)=>{var n,r;return null==(r=(n=this.options.current).onTransaction)?void 0:r.call(n,...t)},onUpdate:(...t)=>{var n,r;return null==(r=(n=this.options.current).onUpdate)?void 0:r.call(n,...t)},onContentError:(...t)=>{var n,r;return null==(r=(n=this.options.current).onContentError)?void 0:r.call(n,...t)},onDrop:(...t)=>{var n,r;return null==(r=(n=this.options.current).onDrop)?void 0:r.call(n,...t)},onPaste:(...t)=>{var n,r;return null==(r=(n=this.options.current).onPaste)?void 0:r.call(n,...t)}};return new l.KE(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,n){return Object.keys(t).every(r=>!!["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)||("extensions"===r&&t.extensions&&n.extensions?t.extensions.length===n.extensions.length&&t.extensions.every((t,r)=>{var i;return t===(null==(i=n.extensions)?void 0:i[r])}):t[r]===n[r]))}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&0===t.length?M.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(null===this.previousDeps){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((n,r)=>n===t[r]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){let t=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===t&&this.setEditor(null))},1)}}function E(t={},n=[]){let r=(0,s.useRef)(t);r.current=t;let[i]=(0,s.useState)(()=>new M(r)),o=d.useSyncExternalStore(i.subscribe,i.getEditor,i.getServerSnapshot);return(0,s.useDebugValue)(o),(0,s.useEffect)(i.onRender(n)),!function(t){var n;let[r]=(0,s.useState)(()=>new k(t.editor)),i=b.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,t.selector,null!=(n=t.equalityFn)?n:y);x(()=>r.watch(t.editor),[t.editor,r]),(0,s.useDebugValue)(i)}({editor:o,selector:({transactionNumber:n})=>!1===t.shouldRerenderOnTransaction?null:t.immediatelyRender&&0===n?0:n+1}),o}let j=((0,s.createContext)({editor:null}).Consumer,(0,s.createContext)({onDragStart:void 0})),N=()=>(0,s.useContext)(j);function T(t){return!!("function"==typeof t&&t.prototype&&t.prototype.isReactComponent)}function A(t){return!!("object"==typeof t&&t.$$typeof&&("Symbol(react.forward_ref)"===t.$$typeof.toString()||"react.forward_ref"===t.$$typeof.description))}s.forwardRef((t,n)=>{let{onDragStart:r}=N(),i=t.as||"div";return s.createElement(i,{...t,ref:n,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...t.style}})});class O{constructor(t,{editor:n,props:r={},as:i="div",className:o=""}){this.ref=null,this.id=Math.floor(0xffffffff*Math.random()).toString(),this.component=t,this.editor=n,this.props=r,this.element=document.createElement(i),this.element.classList.add("react-renderer"),o&&this.element.classList.add(...o.split(" ")),this.editor.isInitialized?flushSync(()=>{this.render()}):this.render()}render(){var t;let n=this.component,r=this.props,i=this.editor,o=function(){try{if(version)return parseInt(version.split(".")[0],10)>=19}catch{}return!1}(),s=function(t){if(T(t)||A(t))return!0;if("object"==typeof t&&t.$$typeof&&("Symbol(react.memo)"===t.$$typeof.toString()||"react.memo"===t.$$typeof.description)){let n=t.type;if(n)return T(n)||A(n)}return!1}(n),a={...r};a.ref&&!(o||s)&&delete a.ref,!a.ref&&(o||s)&&(a.ref=t=>{this.ref=t}),this.reactElement=React.createElement(n,{...a}),null==(t=null==i?void 0:i.contentComponent)||t.setRenderer(this.id,this)}updateProps(t={}){this.props={...this.props,...t},this.render()}destroy(){var t;let n=this.editor;null==(t=null==n?void 0:n.contentComponent)||t.removeRenderer(this.id)}updateAttributes(t){Object.keys(t).forEach(n=>{this.element.setAttribute(n,t[n])})}}},79171:(t,n,r)=>{r.d(n,{A:()=>i});let i=(0,r(19946).A)("message-circle-warning",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]])},89196:(t,n,r)=>{r.d(n,{RG:()=>k,bL:()=>O,q7:()=>I});var i=r(12115),o=r(85185),s=r(37328),a=r(6101),l=r(46081),u=r(61285),c=r(63655),d=r(39033),h=r(5845),p=r(94315),f=r(95155),m="rovingFocusGroup.onEntryFocus",g={bubbles:!1,cancelable:!0},y="RovingFocusGroup",[v,w,b]=(0,s.N)(y),[x,k]=(0,l.A)(y,[b]),[S,C]=x(y),M=i.forwardRef((t,n)=>(0,f.jsx)(v.Provider,{scope:t.__scopeRovingFocusGroup,children:(0,f.jsx)(v.Slot,{scope:t.__scopeRovingFocusGroup,children:(0,f.jsx)(E,{...t,ref:n})})}));M.displayName=y;var E=i.forwardRef((t,n)=>{let{__scopeRovingFocusGroup:r,orientation:s,loop:l=!1,dir:u,currentTabStopId:v,defaultCurrentTabStopId:b,onCurrentTabStopIdChange:x,onEntryFocus:k,preventScrollOnEntryFocus:C=!1,...M}=t,E=i.useRef(null),j=(0,a.s)(n,E),N=(0,p.jH)(u),[T,O]=(0,h.i)({prop:v,defaultProp:null!=b?b:null,onChange:x,caller:y}),[I,R]=i.useState(!1),D=(0,d.c)(k),_=w(r),F=i.useRef(!1),[P,L]=i.useState(0);return i.useEffect(()=>{let t=E.current;if(t)return t.addEventListener(m,D),()=>t.removeEventListener(m,D)},[D]),(0,f.jsx)(S,{scope:r,orientation:s,dir:N,loop:l,currentTabStopId:T,onItemFocus:i.useCallback(t=>O(t),[O]),onItemShiftTab:i.useCallback(()=>R(!0),[]),onFocusableItemAdd:i.useCallback(()=>L(t=>t+1),[]),onFocusableItemRemove:i.useCallback(()=>L(t=>t-1),[]),children:(0,f.jsx)(c.sG.div,{tabIndex:I||0===P?-1:0,"data-orientation":s,...M,ref:j,style:{outline:"none",...t.style},onMouseDown:(0,o.m)(t.onMouseDown,()=>{F.current=!0}),onFocus:(0,o.m)(t.onFocus,t=>{let n=!F.current;if(t.target===t.currentTarget&&n&&!I){let n=new CustomEvent(m,g);if(t.currentTarget.dispatchEvent(n),!n.defaultPrevented){let t=_().filter(t=>t.focusable);A([t.find(t=>t.active),t.find(t=>t.id===T),...t].filter(Boolean).map(t=>t.ref.current),C)}}F.current=!1}),onBlur:(0,o.m)(t.onBlur,()=>R(!1))})})}),j="RovingFocusGroupItem",N=i.forwardRef((t,n)=>{let{__scopeRovingFocusGroup:r,focusable:s=!0,active:a=!1,tabStopId:l,children:d,...h}=t,p=(0,u.B)(),m=l||p,g=C(j,r),y=g.currentTabStopId===m,b=w(r),{onFocusableItemAdd:x,onFocusableItemRemove:k,currentTabStopId:S}=g;return i.useEffect(()=>{if(s)return x(),()=>k()},[s,x,k]),(0,f.jsx)(v.ItemSlot,{scope:r,id:m,focusable:s,active:a,children:(0,f.jsx)(c.sG.span,{tabIndex:y?0:-1,"data-orientation":g.orientation,...h,ref:n,onMouseDown:(0,o.m)(t.onMouseDown,t=>{s?g.onItemFocus(m):t.preventDefault()}),onFocus:(0,o.m)(t.onFocus,()=>g.onItemFocus(m)),onKeyDown:(0,o.m)(t.onKeyDown,t=>{if("Tab"===t.key&&t.shiftKey)return void g.onItemShiftTab();if(t.target!==t.currentTarget)return;let n=function(t,n,r){var i;let o=(i=t.key,"rtl"!==r?i:"ArrowLeft"===i?"ArrowRight":"ArrowRight"===i?"ArrowLeft":i);if(!("vertical"===n&&["ArrowLeft","ArrowRight"].includes(o))&&!("horizontal"===n&&["ArrowUp","ArrowDown"].includes(o)))return T[o]}(t,g.orientation,g.dir);if(void 0!==n){if(t.metaKey||t.ctrlKey||t.altKey||t.shiftKey)return;t.preventDefault();let r=b().filter(t=>t.focusable).map(t=>t.ref.current);if("last"===n)r.reverse();else if("prev"===n||"next"===n){"prev"===n&&r.reverse();let i=r.indexOf(t.currentTarget);r=g.loop?function(t,n){return t.map((r,i)=>t[(n+i)%t.length])}(r,i+1):r.slice(i+1)}setTimeout(()=>A(r))}}),children:"function"==typeof d?d({isCurrentTabStop:y,hasTabStop:null!=S}):d})})});N.displayName=j;var T={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function A(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=document.activeElement;for(let i of t)if(i===r||(i.focus({preventScroll:n}),document.activeElement!==r))return}var O=M,I=N},90290:(t,n,r)=>{r.d(n,{$f:()=>I,G2:()=>x,I$:()=>E,Im:()=>D,Qv:()=>c,Sd:()=>w,Z1:()=>j,_G:()=>h,_e:()=>m,bh:()=>k,eB:()=>d,eT:()=>v,ec:()=>R,hy:()=>T,ic:()=>l,iz:()=>N,pC:()=>C,yY:()=>S,y_:()=>_});var i,o=r(808),s=r(10156),a=r(52571);let l=(t,n)=>!t.selection.empty&&(n&&n(t.tr.deleteSelection().scrollIntoView()),!0);function u(t,n){let{$cursor:r}=t.selection;return r&&(n?n.endOfTextblock("backward",t):!(r.parentOffset>0))?r:null}let c=(t,n,r)=>{let i=u(t,r);if(!i)return!1;let l=g(i);if(!l){let r=i.blockRange(),s=r&&(0,o.jP)(r);return null!=s&&(n&&n(t.tr.lift(r,s).scrollIntoView()),!0)}let c=l.nodeBefore;if(A(t,l,n,-1))return!0;if(0==i.parent.content.size&&(f(c,"end")||a.nh.isSelectable(c)))for(let r=i.depth;;r--){let u=(0,o.$L)(t.doc,i.before(r),i.after(r),s.Ji.empty);if(u&&u.slice.size<u.to-u.from){if(n){let r=t.tr.step(u);r.setSelection(f(c,"end")?a.LN.findFrom(r.doc.resolve(r.mapping.map(l.pos,-1)),-1):a.nh.create(r.doc,l.pos-c.nodeSize)),n(r.scrollIntoView())}return!0}if(1==r||i.node(r-1).childCount>1)break}return!!c.isAtom&&l.depth==i.depth-1&&(n&&n(t.tr.delete(l.pos-c.nodeSize,l.pos).scrollIntoView()),!0)},d=(t,n,r)=>{let i=u(t,r);if(!i)return!1;let o=g(i);return!!o&&p(t,o,n)},h=(t,n,r)=>{let i=y(t,r);if(!i)return!1;let o=b(i);return!!o&&p(t,o,n)};function p(t,n,r){let i=n.nodeBefore,l=n.pos-1;for(;!i.isTextblock;l--){if(i.type.spec.isolating)return!1;let t=i.lastChild;if(!t)return!1;i=t}let u=n.nodeAfter,c=n.pos+1;for(;!u.isTextblock;c++){if(u.type.spec.isolating)return!1;let t=u.firstChild;if(!t)return!1;u=t}let d=(0,o.$L)(t.doc,l,c,s.Ji.empty);if(!d||d.from!=l||d instanceof o.Ln&&d.slice.size>=c-l)return!1;if(r){let n=t.tr.step(d);n.setSelection(a.U3.create(n.doc,l)),r(n.scrollIntoView())}return!0}function f(t,n,r=!1){for(let i=t;i;i="start"==n?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(r&&1!=i.childCount)break}return!1}let m=(t,n,r)=>{let{$head:i,empty:o}=t.selection,s=i;if(!o)return!1;if(i.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):i.parentOffset>0)return!1;s=g(i)}let l=s&&s.nodeBefore;return!!l&&!!a.nh.isSelectable(l)&&(n&&n(t.tr.setSelection(a.nh.create(t.doc,s.pos-l.nodeSize)).scrollIntoView()),!0)};function g(t){if(!t.parent.type.spec.isolating)for(let n=t.depth-1;n>=0;n--){if(t.index(n)>0)return t.doc.resolve(t.before(n+1));if(t.node(n).type.spec.isolating)break}return null}function y(t,n){let{$cursor:r}=t.selection;return r&&(n?n.endOfTextblock("forward",t):!(r.parentOffset<r.parent.content.size))?r:null}let v=(t,n,r)=>{let i=y(t,r);if(!i)return!1;let l=b(i);if(!l)return!1;let u=l.nodeAfter;if(A(t,l,n,1))return!0;if(0==i.parent.content.size&&(f(u,"start")||a.nh.isSelectable(u))){let r=(0,o.$L)(t.doc,i.before(),i.after(),s.Ji.empty);if(r&&r.slice.size<r.to-r.from){if(n){let i=t.tr.step(r);i.setSelection(f(u,"start")?a.LN.findFrom(i.doc.resolve(i.mapping.map(l.pos)),1):a.nh.create(i.doc,i.mapping.map(l.pos))),n(i.scrollIntoView())}return!0}}return!!u.isAtom&&l.depth==i.depth-1&&(n&&n(t.tr.delete(l.pos,l.pos+u.nodeSize).scrollIntoView()),!0)},w=(t,n,r)=>{let{$head:i,empty:o}=t.selection,s=i;if(!o)return!1;if(i.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size)return!1;s=b(i)}let l=s&&s.nodeAfter;return!!l&&!!a.nh.isSelectable(l)&&(n&&n(t.tr.setSelection(a.nh.create(t.doc,s.pos)).scrollIntoView()),!0)};function b(t){if(!t.parent.type.spec.isolating)for(let n=t.depth-1;n>=0;n--){let r=t.node(n);if(t.index(n)+1<r.childCount)return t.doc.resolve(t.after(n+1));if(r.type.spec.isolating)break}return null}let x=(t,n)=>{let r=t.selection,i=r instanceof a.nh,s;if(i){if(r.node.isTextblock||!(0,o.n9)(t.doc,r.from))return!1;s=r.from}else if(null==(s=(0,o.N0)(t.doc,r.from,-1)))return!1;if(n){let r=t.tr.join(s);i&&r.setSelection(a.nh.create(r.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),n(r.scrollIntoView())}return!0},k=(t,n)=>{let r=t.selection,i;if(r instanceof a.nh){if(r.node.isTextblock||!(0,o.n9)(t.doc,r.to))return!1;i=r.to}else if(null==(i=(0,o.N0)(t.doc,r.to,1)))return!1;return n&&n(t.tr.join(i).scrollIntoView()),!0},S=(t,n)=>{let{$from:r,$to:i}=t.selection,s=r.blockRange(i),a=s&&(0,o.jP)(s);return null!=a&&(n&&n(t.tr.lift(s,a).scrollIntoView()),!0)},C=(t,n)=>{let{$head:r,$anchor:i}=t.selection;return!!r.parent.type.spec.code&&!!r.sameParent(i)&&(n&&n(t.tr.insertText("\n").scrollIntoView()),!0)};function M(t){for(let n=0;n<t.edgeCount;n++){let{type:r}=t.edge(n);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}let E=(t,n)=>{let{$head:r,$anchor:i}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(i))return!1;let o=r.node(-1),s=r.indexAfter(-1),l=M(o.contentMatchAt(s));if(!l||!o.canReplaceWith(s,s,l))return!1;if(n){let i=r.after(),o=t.tr.replaceWith(i,i,l.createAndFill());o.setSelection(a.LN.near(o.doc.resolve(i),1)),n(o.scrollIntoView())}return!0},j=(t,n)=>{let r=t.selection,{$from:i,$to:o}=r;if(r instanceof a.i5||i.parent.inlineContent||o.parent.inlineContent)return!1;let s=M(o.parent.contentMatchAt(o.indexAfter()));if(!s||!s.isTextblock)return!1;if(n){let r=(!i.parentOffset&&o.index()<o.parent.childCount?i:o).pos,l=t.tr.insert(r,s.createAndFill());l.setSelection(a.U3.create(l.doc,r+1)),n(l.scrollIntoView())}return!0},N=(t,n)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let i=r.before();if((0,o.zy)(t.doc,i))return n&&n(t.tr.split(i).scrollIntoView()),!0}let i=r.blockRange(),s=i&&(0,o.jP)(i);return null!=s&&(n&&n(t.tr.lift(i,s).scrollIntoView()),!0)},T=(t,n)=>{let{$from:r,to:i}=t.selection,o,s=r.sharedDepth(i);return 0!=s&&(o=r.before(s),n&&n(t.tr.setSelection(a.nh.create(t.doc,o))),!0)};function A(t,n,r,i){let l,u,c,d=n.nodeBefore,h=n.nodeAfter,p,m,g=d.type.spec.isolating||h.type.spec.isolating;if(!g&&(l=n.nodeBefore,u=n.nodeAfter,c=n.index(),l&&u&&l.type.compatibleContent(u.type)&&(!l.content.size&&n.parent.canReplace(c-1,c)?(r&&r(t.tr.delete(n.pos-l.nodeSize,n.pos).scrollIntoView()),!0):!!n.parent.canReplace(c,c+1)&&!!(u.isTextblock||(0,o.n9)(t.doc,n.pos))&&(r&&r(t.tr.join(n.pos).scrollIntoView()),!0))))return!0;let y=!g&&n.parent.canReplace(n.index(),n.index()+1);if(y&&(p=(m=d.contentMatchAt(d.childCount)).findWrapping(h.type))&&m.matchType(p[0]||h.type).validEnd){if(r){let i=n.pos+h.nodeSize,a=s.FK.empty;for(let t=p.length-1;t>=0;t--)a=s.FK.from(p[t].create(null,a));a=s.FK.from(d.copy(a));let l=t.tr.step(new o.Wg(n.pos-1,i,n.pos,i,new s.Ji(a,1,0),p.length,!0)),u=l.doc.resolve(i+2*p.length);u.nodeAfter&&u.nodeAfter.type==d.type&&(0,o.n9)(l.doc,u.pos)&&l.join(u.pos),r(l.scrollIntoView())}return!0}let v=h.type.spec.isolating||i>0&&g?null:a.LN.findFrom(n,1),w=v&&v.$from.blockRange(v.$to),b=w&&(0,o.jP)(w);if(null!=b&&b>=n.depth)return r&&r(t.tr.lift(w,b).scrollIntoView()),!0;if(y&&f(h,"start",!0)&&f(d,"end")){let i=d,a=[];for(;a.push(i),!i.isTextblock;)i=i.lastChild;let l=h,u=1;for(;!l.isTextblock;l=l.firstChild)u++;if(i.canReplace(i.childCount,i.childCount,l.content)){if(r){let i=s.FK.empty;for(let t=a.length-1;t>=0;t--)i=s.FK.from(a[t].copy(i));r(t.tr.step(new o.Wg(n.pos-a.length,n.pos+h.nodeSize,n.pos+u,n.pos+h.nodeSize-u,new s.Ji(i,a.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function O(t){return function(n,r){let i=n.selection,o=t<0?i.$from:i.$to,s=o.depth;for(;o.node(s).isInline;){if(!s)return!1;s--}return!!o.node(s).isTextblock&&(r&&r(n.tr.setSelection(a.U3.create(n.doc,t<0?o.start(s):o.end(s)))),!0)}}let I=O(-1),R=O(1);function D(t,n=null){return function(r,i){let{$from:s,$to:a}=r.selection,l=s.blockRange(a),u=l&&(0,o.oM)(l,t,n);return!!u&&(i&&i(r.tr.wrap(l,u).scrollIntoView()),!0)}}function _(t,n=null){return function(r,i){let o=!1;for(let i=0;i<r.selection.ranges.length&&!o;i++){let{$from:{pos:s},$to:{pos:a}}=r.selection.ranges[i];r.doc.nodesBetween(s,a,(i,s)=>{if(o)return!1;if(!(!i.isTextblock||i.hasMarkup(t,n)))if(i.type==t)o=!0;else{let n=r.doc.resolve(s),i=n.index();o=n.parent.canReplaceWith(i,i+1,t)}})}if(!o)return!1;if(i){let o=r.tr;for(let i=0;i<r.selection.ranges.length;i++){let{$from:{pos:s},$to:{pos:a}}=r.selection.ranges[i];o.setBlockType(s,a,t,n)}i(o.scrollIntoView())}return!0}}function F(...t){return function(n,r,i){for(let o=0;o<t.length;o++)if(t[o](n,r,i))return!0;return!1}}let P=F(l,c,m),L=F(l,v,w),z={Enter:F(C,j,N,(t,n)=>{let{$from:r,$to:i}=t.selection;if(t.selection instanceof a.nh&&t.selection.node.isBlock)return!!r.parentOffset&&!!(0,o.zy)(t.doc,r.pos)&&(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],l,u,c=!1,d=!1;for(let t=r.depth;;t--){if(r.node(t).isBlock){let n;c=r.end(t)==r.pos+(r.depth-t),d=r.start(t)==r.pos-(r.depth-t),u=M(r.node(t-1).contentMatchAt(r.indexAfter(t-1)));s.unshift(n||(c&&u?{type:u}:null)),l=t;break}if(1==t)return!1;s.unshift(null)}let h=t.tr;(t.selection instanceof a.U3||t.selection instanceof a.i5)&&h.deleteSelection();let p=h.mapping.map(r.pos),f=(0,o.zy)(h.doc,p,s.length,s);if(f||(s[0]=u?{type:u}:null,f=(0,o.zy)(h.doc,p,s.length,s)),!f)return!1;if(h.split(p,s.length,s),!c&&d&&r.node(l).type!=u){let t=h.mapping.map(r.before(l)),n=h.doc.resolve(t);u&&r.node(l-1).canReplaceWith(n.index(),n.index()+1,u)&&h.setNodeMarkup(h.mapping.map(r.before(l)),u)}return n&&n(h.scrollIntoView()),!0}),"Mod-Enter":E,Backspace:P,"Mod-Backspace":P,"Shift-Backspace":P,Delete:L,"Mod-Delete":L,"Mod-a":(t,n)=>(n&&n(t.tr.setSelection(new a.i5(t.doc))),!0)},H={"Ctrl-h":z.Backspace,"Alt-Backspace":z["Mod-Backspace"],"Ctrl-d":z.Delete,"Ctrl-Alt-Backspace":z["Mod-Delete"],"Alt-Delete":z["Mod-Delete"],"Alt-d":z["Mod-Delete"],"Ctrl-a":I,"Ctrl-e":R};for(let t in z)H[t]=z[t];"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&os.platform&&os.platform()},92657:(t,n,r)=>{r.d(n,{A:()=>i});let i=(0,r(19946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},93104:(t,n,r)=>{r.d(n,{A:()=>i});let i=(0,r(19946).A)("eraser",[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]])},96594:(t,n,r)=>{r.d(n,{pP:()=>a});var i=r(12115),o=r(95155),s=Object.defineProperty,a={};((t,n)=>{for(var r in n)s(t,r,{get:n[r],enumerable:!0})})(a,{ActiveEmoji:()=>eT,Empty:()=>eN,List:()=>eC,Loading:()=>eE,Root:()=>es,Search:()=>ea,SkinTone:()=>eA,SkinToneSelector:()=>eM,Viewport:()=>eu});var l="'Apple Color Emoji', 'Noto Color Emoji', 'Twemoji Mozilla', 'Android Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', EmojiSymbols, sans-serif",u=["none","light","medium-light","medium","medium-dark","dark"];function c(t){return t.charAt(0).toUpperCase()+t.slice(1)}var d=null;function h(t){try{d??=document.createElement("canvas").getContext("2d",{willReadFrequently:!0})}catch{}if(!d||(queueMicrotask(()=>{d&&(d=null)}),d.canvas.width=2,d.canvas.height=2,d.font=`2px ${l}`,d.textBaseline="middle",d.measureText(t).width>=4))return!1;d.fillStyle="#00f",d.fillText(t,0,0);let n=d.getImageData(0,0,2,2).data;d.clearRect(0,0,2,2),d.fillStyle="#f00",d.fillText(t,0,0);let r=d.getImageData(0,0,2,2).data;for(let t=0;t<16;t+=4)if(n[t]!==r[t]||n[t+1]!==r[t+1]||n[t+2]!==r[t+2])return!1;return!0}function p(t,n,r){try{let i=t.getItem(n);if(!i)throw Error(`No value found for "${n}".`);let o=JSON.parse(i);return r(o)}catch{return null}}function f(t,n,r){t.setItem(n,JSON.stringify(r))}function m(t){return n=>void 0===n?void 0:t(n)}function g(t){return n=>null===n?null:t(n)}function y(t){if("string"!=typeof t)throw Error();return t}function v(t){if("number"!=typeof t)throw Error();return t}function w(t){if("boolean"!=typeof t)throw Error();return t}function b(t){return n=>{if("object"!=typeof n||null===n)throw Error();let r={};for(let i in t){let o=n[i];void 0===o&&t[i](void 0),r[i]=t[i](o)}return r}}function x(t){return n=>{if(!Array.isArray(n))throw Error();return n.length>0&&t(n[0]),n}}var k=(t,n)=>`${t}/${n}/data.json`,S=(t,n)=>`${t}/${n}/messages.json`,C=["bn","da","de","en-gb","en","es-mx","es","et","fi","fr","hi","hu","it","ja","ko","lt","ms","nb","nl","pl","pt","ru","sv","th","uk","vi","zh-hant","zh"],M=t=>`frimousse/data/${t}`,E="frimousse/metadata";async function j(t,n){try{return(await fetch(t,{method:"HEAD",signal:n})).headers.get("etag")}catch{return null}}async function N(t,n,r){let[{emojis:i,emojisEtag:o},{messages:s,messagesEtag:a}]=await Promise.all([fetch(k(t,n),{signal:r}).then(async t=>({emojis:await t.json(),emojisEtag:t.headers.get("etag")})),fetch(S(t,n),{signal:r}).then(async t=>({messages:await t.json(),messagesEtag:t.headers.get("etag")}))]);return{emojis:i,messages:s,emojisEtag:o,messagesEtag:a}}async function T(t,n,r){let[i,o]=await Promise.all([j(k(t,n),r),j(S(t,n),r)]);return{emojisEtag:i,messagesEtag:o}}async function A(t,n,r){let{emojis:i,emojisEtag:o,messages:s,messagesEtag:a}=await N(t,n,r),l=s.subgroups.find(t=>"country-flag"===t.key||"subdivision-flag"===t.key),d=s.groups.filter(t=>"component"!==t.key),h=i.filter(t=>"group"in t),p=d.map(t=>({index:t.order,label:c(t.message)})),m=s.skinTones.reduce((t,n)=>(t[n.key]=c(n.message),t),{}),g={locale:n,emojis:h.map(t=>({emoji:t.emoji,category:t.group,version:t.version,label:c(t.label),tags:t.tags??[],countryFlag:l&&t.subgroup===l.order||void 0,skins:t.skins?t.skins.filter(t=>"number"==typeof t.tone).reduce((t,n)=>(t[u[n.tone]]=n.emoji,t),{}):void 0})),categories:p,skinTones:m};return f(localStorage,M(n),{data:g,metadata:{emojisEtag:o,messagesEtag:a}}),g}var O=b({emojiVersion:v,countryFlags:w}),I=b({data:b({locale:y,emojis:x(b({emoji:y,category:v,label:y,version:v,tags:x(y),countryFlag:m(w),skins:m(b({light:y,"medium-light":y,medium:y,"medium-dark":y,dark:y}))})),categories:x(b({index:v,label:y})),skinTones:b({light:y,"medium-light":y,medium:y,"medium-dark":y,dark:y})}),metadata:b({emojisEtag:g(y),messagesEtag:g(y)})});async function R({locale:t,emojiVersion:n,emojibaseUrl:r,signal:i}){let o="string"==typeof r?r:`https://cdn.jsdelivr.net/npm/emojibase-data@${"number"==typeof n?Math.floor(n):"latest"}`,s=p(sessionStorage,E,O),a=p(localStorage,M(t),I),l;if(a)if(s)l=a.data;else try{let{emojisEtag:n,messagesEtag:r}=await T(o,t,i);l=n&&r&&n===a.metadata.emojisEtag&&r===a.metadata.messagesEtag?a.data:await A(o,t,i)}catch{l=a.data}else l=await A(o,t,i);return f(sessionStorage,E,s??=function(t,n){let r=new Map;for(let n of t)r.has(n.version)||r.set(n.version,n.emoji);let i=[...r.keys()].sort((t,n)=>n-t),o=i[0]??0,s=h("\uD83C\uDDEA\uD83C\uDDFA");if("number"==typeof n)return{emojiVersion:n,countryFlags:s};for(let t of i)if(h(r.get(t)))return{emojiVersion:t,countryFlags:s};return{emojiVersion:o,countryFlags:s}}(l.emojis,n)),{locale:t,emojis:l.emojis.filter(t=>{let n=t.version<=s.emojiVersion;return t.countryFlag?n&&s.countryFlags:n}),categories:l.categories,skinTones:l.skinTones}}function D(t){return C.includes(t)?t:(console.warn(`Locale "${t}" is not supported, using "en" instead.`),"en")}function _(t){return u.includes(t)?t:(console.warn(`Skin tone "${t}" is not valid, using "none" instead.`),"none")}function F(t,n,r=Object.is){let[o,s]=(0,i.useState)(()=>n(t.get()));return(0,i.useEffect)(()=>t.subscribe(()=>{let i=n(t.get());s(t=>r(t,i)?t:i)}),[t,n,r]),(0,i.useDebugValue)(o),o}function P(t,n,r){return F(t,(0,i.useCallback)(t=>t[n],[n]),r)}var{useStore:L,Provider:z}=function(t){let n=(0,i.createContext)(null);return{useStore:()=>{let r=(0,i.useContext)(n);if(!r)throw Error(t);return r},Provider:({store:t,children:r})=>(0,o.jsx)(n.Provider,{value:t,children:r})}}("EmojiPicker.Root is missing.");function H(t){return t.search}function $(t){return"none"===t.interaction?void 0:t.data?.rows[t.activeRowIndex]?.emojis[t.activeColumnIndex]}function B(t){return void 0===t.data||"number"==typeof t.data?.count&&0===t.data.count}function W(t){return null===t.data||null===t.viewportHeight||null===t.rowHeight||null===t.categoryHeaderHeight}function J(t){return t.data?.rows.length}function K(t){return t.data?.categories.length}function V(t){return t.data?.categoriesStartRowIndices}function q(t){return t.data?.skinTones}function Y(t,n){return t?.emoji===n?.emoji}function G(t,n){return t?.categoryIndex===n?.categoryIndex&&t?.emojis.length===n?.emojis.length&&!!t?.emojis.every((t,r)=>Y(t,n?.emojis[r]))}var U=/\p{Emoji_Modifier_Base}/u,X=/\uFE0F$/,Q=/\u{1F3FB}|\u{1F3FC}|\u{1F3FD}|\u{1F3FE}|\u{1F3FF}/gu,Z={light:"\uD83C\uDFFB","medium-light":"\uD83C\uDFFC",medium:"\uD83C\uDFFD","medium-dark":"\uD83C\uDFFE",dark:"\uD83C\uDFFF"};function ee(){let t=F(L(),$,Y);return(0,i.useDeferredValue)(t)}function et(t="✋"){let n=L(),r=P(n,"skinTone"),o=(0,i.useMemo)(()=>u.map(n=>({skinTone:n,emoji:function(t,n){if(!t.split("‍").some(t=>U.test(t)))return t;let r=t.split("‍").map(t=>t.replace(Q,"")).join("‍");return"none"===n?r:r.split("‍").map((t,r,i)=>{let o=i.length>1;return!U.test(t)||o&&"\uD83E\uDD1D"===t?t:t.replace(X,"")+Z[n]}).join("‍")}(t,n)})),[t]);return[r,(0,i.useCallback)(t=>{n.set({skinTone:t})},[]),o]}function en(t,n){if(Object.is(t,n))return!0;if("object"!=typeof t||"object"!=typeof n||null===t||null===n||Array.isArray(t)!==Array.isArray(n))return!1;let r=Object.keys(t),i=Object.keys(n);return r.length===i.length&&r.every(r=>r in n&&t[r]===n[r])}function er(...t){}var ei="u">typeof window?i.useLayoutEffect:i.useEffect;function eo({emojiVersion:t,emojibaseUrl:n}){let[r,o]=(0,i.useState)(void 0),s=L(),a=P(s,"locale"),l=P(s,"columns"),u=P(s,"skinTone"),c=P(s,"search");return(0,i.useEffect)(()=>{let r=new AbortController,i=r.signal;return R({locale:a,emojiVersion:t,emojibaseUrl:n,signal:i}).then(t=>{o(t)}).catch(t=>{i.aborted||console.error(t)}),()=>{r.abort()}},[t,n,a]),(0,i.useEffect)(()=>{if(r)return function(t,n){let r=null;if("function"==typeof window.requestIdleCallback)r=window.requestIdleCallback(t,n);else{let i=Date.now();r=window.setTimeout(()=>{t({didTimeout:!1,timeRemaining:()=>Math.max(0,(n?.timeout??50)-(Date.now()-i))})},10)}return()=>{"function"==typeof window.cancelIdleCallback?window.cancelIdleCallback(r):window.clearTimeout(r)}}(()=>{s.get().onDataChange(function(t,n,r,i){let o=function(t,n){if(!n)return t;let r=n.toLowerCase().trim(),i=new WeakMap;return t.filter(t=>{let n=0;for(let i of(t.label.toLowerCase().includes(r)&&(n+=10),t.tags))i.toLowerCase().includes(r)&&(n+=1);return n>0&&(i.set(t,n),!0)}).sort((t,n)=>(i.get(n)??0)-(i.get(t)??0))}(t.emojis,i),s=[],a=[],l=[],u={},c=0,d=0;for(let t of o)u[t.category]||(u[t.category]=[]),u[t.category].push({emoji:r&&"none"!==r&&t.skins?t.skins[r]:t.emoji,label:t.label});for(let r of t.categories){let t=u[r.index];if(!t||0===t.length)continue;let i=(function(t,n){let r=[];if(n<=0)return r;for(let i=0,o=t.length;i<o;i+=n)r.push(t.slice(i,i+n));return r})(Array.from(t),n).map(t=>({categoryIndex:c,emojis:t}));s.push(...i),a.push({label:r.label,rowsCount:i.length,startRowIndex:d}),l.push(d),c++,d+=i.length}return{count:o.length,categories:a,categoriesStartRowIndices:l,rows:s,skinTones:t.skinTones}}(r,l,u,c))},{timeout:100})},[r,l,u,c]),null}var es=(0,i.forwardRef)(({locale:t="en",columns:n=9,skinTone:r="none",onEmojiSelect:s=er,emojiVersion:a,emojibaseUrl:u,onFocusCapture:c,onBlurCapture:d,children:h,style:p,...f},m)=>{let g=function(t){let n=(0,i.useRef)(t);return ei(()=>{n.current=t}),(0,i.useCallback)((...t)=>n.current(...t),[])}(s),y=function(t){let[n]=(0,i.useState)(t);return n}(()=>(function(t,n,r,i){var o;let s,a,l,u,c,d,h,p=0;return o=(o,s)=>({locale:n,columns:r,skinTone:i,onEmojiSelect:t,data:null,search:"",interaction:"none",activeColumnIndex:0,activeRowIndex:0,rowHeight:null,categoryHeaderHeight:null,viewportWidth:null,viewportHeight:null,viewportCurrentCategoryIndex:null,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0,rootRef:null,searchRef:null,viewportRef:null,listRef:null,updateViewportState:t=>{let n=s(),r=t?.data??n.data,i=t?.categoryHeaderHeight??n.categoryHeaderHeight,a=t?.rowHeight??n.rowHeight,l=t?.viewportHeight??n.viewportHeight;if(!r||0===r.rows.length||!i||!a||!l)return o({...t,viewportStartCategoryIndex:0,viewportStartRowIndex:0,viewportEndRowIndex:0});let u=0,c=0;for(let t of r.categories)if(c++*i+t.startRowIndex*a<p)u+=i;else break;let d=r.categories.length*i+r.rows.length*a,h=Math.floor(2*a/2),f=Math.ceil(2*a/2),m=Math.min(p-u-h,d-l),g=Math.max(0,Math.floor(m/a)),y=Math.min(r.rows.length-1,Math.ceil((m+l+f)/a)),v=r.rows[g]?.categoryIndex;return o(void 0===v&&t?t:{...t,viewportStartCategoryIndex:v,viewportStartRowIndex:g,viewportEndRowIndex:y})},onDataChange:t=>{s().updateViewportState({data:t,activeColumnIndex:0,activeRowIndex:0})},onSearchChange:t=>{o({search:t,interaction:t?"keyboard":"none"})},onActiveEmojiChange:(t,n,r)=>{if(o({interaction:t,activeColumnIndex:n,activeRowIndex:r}),"keyboard"!==t)return;let{listRef:i,viewportRef:a,rowHeight:l,viewportHeight:u,categoryHeaderHeight:c}=s(),d=i?.current,h=a?.current;if(!d||!h||!l||!c||!u)return;0===r&&h.scrollTo({top:0,behavior:"instant"});let f=d.querySelector(`[aria-rowindex="${r}"]`);if(!(f instanceof HTMLElement))return;let m=f.offsetTop,g=getComputedStyle(f),y=Number.parseFloat(g.scrollMarginTop),v=Number.parseFloat(g.scrollMarginBottom),w=p+y;m<p+u/2&&(w+=c);let b=w+u-v;(m<w||m+l>b)&&h.scrollTo({top:Math.max(m<w+c?m-Math.max(c,y):m-u+l+v,0),behavior:"instant"})},onActiveEmojiReset:()=>{o({interaction:"none",activeColumnIndex:0,activeRowIndex:0})},onRowHeightChange:t=>{s().updateViewportState({rowHeight:t})},onCategoryHeaderHeightChange:t=>{s().updateViewportState({categoryHeaderHeight:t})},onViewportSizeChange:(t,n)=>{s().updateViewportState({viewportWidth:t,viewportHeight:n})},onViewportScroll:t=>{p=t,s().updateViewportState()}}),s={},a=null,l=null,u=new Set,c=()=>{if(a)for(let t of(s=a,a=null,u))t(s);l=null},d=()=>a??s,s=o(h=t=>{Object.assign(a??=s,"function"==typeof t?t(d()):t),l||(l=requestAnimationFrame(c))},d),{get:d,set:h,subscribe:t=>(u.add(t),()=>u.delete(t))}})(g,D(t),n,_(r))),[v,w]=(0,i.useState)(!1),b=(0,i.useRef)(null),x=(0,i.useCallback)(t=>{t&&(b.current=t,y.set({rootRef:b}))},[]);ei(()=>{y.set({locale:D(t)})},[t]),ei(()=>{y.set({columns:n})},[n]),ei(()=>{y.set({skinTone:_(r)})},[r]);let k=(0,i.useCallback)(t=>{c?.(t);let{searchRef:n,viewportRef:r}=y.get(),i=t.target===n?.current||t.target.hasAttribute("frimousse-search"),o=t.target===r?.current||t.target.hasAttribute("frimousse-viewport");t.isDefaultPrevented()||(w(i||o),t.isDefaultPrevented()||(w(i||o),o?y.get().onActiveEmojiChange("keyboard",0,0):i&&""===y.get().search&&y.set({interaction:"none"})))},[c]),S=(0,i.useCallback)(t=>{d?.(t),t.isDefaultPrevented()||t.currentTarget.contains(t.relatedTarget)||w(!1)},[d]);return ei(()=>{v||y.get().onActiveEmojiReset()},[v]),(0,i.useImperativeHandle)(m,()=>b.current),(0,i.useEffect)(()=>{if(v)return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)};function t(t){if(t.defaultPrevented||!t.key.startsWith("Arrow")&&"Enter"!==t.key)return;let{data:n,onEmojiSelect:r,onActiveEmojiChange:i,interaction:o,activeColumnIndex:s,activeRowIndex:a}=y.get();if("Enter"===t.key){let n=$(y.get());n&&(t.preventDefault(),r(n))}if(t.key.startsWith("Arrow")){let r=s,l=a;if(t.preventDefault(),"none"!==o){if(n?.rows&&n.rows.length>0)switch(t.key){case"ArrowLeft":if(0===r){let t=l-1,i=n.rows[t];i&&(l=t,r=i.emojis.length-1)}else r-=1;break;case"ArrowRight":if(r===n.rows[l].emojis.length-1){let t=l+1;n.rows[t]&&(l=t,r=0)}else r+=1;break;case"ArrowUp":{let t=n.rows[l-1];t&&(l-=1,t.emojis[r]||(r=t.emojis.length-1));break}case"ArrowDown":{let t=n.rows[l+1];t&&(l+=1,t.emojis[r]||(r=t.emojis.length-1))}}i("keyboard",r,l)}else i("keyboard",0,0)}}},[v]),ei(()=>{let t=null,n=null,r=null,i=null,o=y.subscribe(o=>{b.current&&(t!==o.viewportWidth&&(t=o.viewportWidth,b.current.style.setProperty("--frimousse-viewport-width",`${o.viewportWidth}px`)),n!==o.viewportHeight&&(n=o.viewportHeight,b.current.style.setProperty("--frimousse-viewport-height",`${o.viewportHeight}px`)),r!==o.rowHeight&&(r=o.rowHeight,b.current.style.setProperty("--frimousse-row-height",`${o.rowHeight}px`)),i!==o.categoryHeaderHeight&&(i=o.categoryHeaderHeight,b.current.style.setProperty("--frimousse-category-header-height",`${o.categoryHeaderHeight}px`)))}),{viewportWidth:s,viewportHeight:a,rowHeight:l,categoryHeaderHeight:u}=y.get();return s&&b.current.style.setProperty("--frimousse-viewport-width",`${s}px`),a&&b.current.style.setProperty("--frimousse-viewport-height",`${a}px`),l&&b.current.style.setProperty("--frimousse-row-height",`${l}px`),u&&b.current.style.setProperty("--frimousse-category-header-height",`${u}px`),o},[]),(0,o.jsx)("div",{"data-focused":v?"":void 0,"frimousse-root":"",onBlurCapture:S,onFocusCapture:k,...f,ref:x,style:{"--frimousse-emoji-font":l,...p},children:(0,o.jsxs)(z,{store:y,children:[(0,o.jsx)(eo,{emojiVersion:a,emojibaseUrl:u}),h]})})}),ea=(0,i.forwardRef)(({value:t,defaultValue:n,onChange:r,...s},a)=>{let l=L(),u=(0,i.useRef)(null),c=(0,i.useCallback)(t=>{t&&(u.current=t,l.set({searchRef:u}))},[]),d="string"==typeof t,h=(0,i.useRef)(d);(0,i.useEffect)(()=>{h.current=d},[d]),ei(()=>{l.set({search:"string"==typeof t?t:"string"==typeof n?n:""})},[]),ei(()=>{"string"==typeof t&&l.get().onSearchChange(t)},[t]);let p=(0,i.useCallback)(t=>{r?.(t),t.isDefaultPrevented()||l.get().onSearchChange(t.target.value)},[r]);return(0,i.useImperativeHandle)(a,()=>u.current),(0,o.jsx)("input",{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",enterKeyHint:"done","frimousse-search":"",placeholder:"Search…",spellCheck:!1,type:"search",...s,defaultValue:n,onChange:p,ref:c,value:t})}),el=(0,i.memo)(()=>{let t=ee();return t?(0,o.jsx)("div",{"aria-live":"polite",style:{border:0,clip:"rect(0, 0, 0, 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:1,wordWrap:"normal"},children:t.label}):null}),eu=(0,i.forwardRef)(({children:t,onScroll:n,onKeyDown:r,style:s,...a},l)=>{let u=L(),c=(0,i.useRef)(null),d=(0,i.useCallback)(t=>{t&&(c.current=t,u.set({viewportRef:c}))},[]),h=F(u,J),p=F(u,K),f=(0,i.useCallback)(t=>{n?.(t),u.get().onViewportScroll(t.currentTarget.scrollTop)},[n]);return ei(()=>{if(!c.current)return;let t=new ResizeObserver(([t])=>{let n=t?.borderBoxSize[0]?.inlineSize??0,r=t?.borderBoxSize[0]?.blockSize??0,{onViewportSizeChange:i,viewportHeight:o,viewportWidth:s}=u.get();(o!==r||s!==n)&&i(n,r)});return t.observe(c.current),u.get().onViewportSizeChange(c.current.offsetWidth,c.current.clientHeight),()=>{t.disconnect()}},[]),(0,i.useImperativeHandle)(l,()=>c.current),(0,o.jsxs)("div",{"frimousse-viewport":"",...a,onScroll:f,ref:d,style:{position:"relative",boxSizing:"border-box",contain:"layout paint",containIntrinsicSize:"number"==typeof h&&"number"==typeof p?`var(--frimousse-viewport-width, auto) calc(${h} * var(--frimousse-row-height) + ${p} * var(--frimousse-category-header-height))`:void 0,overflowY:"auto",overscrollBehavior:"contain",scrollbarGutter:"stable",willChange:"scroll-position",...s},children:[(0,o.jsx)(el,{}),t]})});function ec(t,n,r){return{emoji:{...t,isActive:r},role:"gridcell","aria-colindex":n,"aria-selected":r||void 0,"aria-label":t.label,"data-active":r?"":void 0,"frimousse-emoji":"",style:{fontFamily:"var(--frimousse-emoji-font)"},tabIndex:-1}}function ed(t,n=!1){return{role:n?void 0:"row","aria-rowindex":n?void 0:t,"frimousse-row":"",style:{contain:n?void 0:"content",height:n?void 0:"var(--frimousse-row-height)",display:"flex"}}}function eh(t,n){return{"frimousse-category":"",style:{contain:"content",top:n?`calc(${t} * var(--frimousse-category-header-height) + ${n.startRowIndex} * var(--frimousse-row-height))`:void 0,height:n?`calc(var(--frimousse-category-header-height) + ${n.rowsCount} * var(--frimousse-row-height))`:void 0,width:"100%",pointerEvents:"none",position:"absolute"}}}function ep(t,n=!1){return{category:t,"frimousse-category-header":"",style:{contain:n?void 0:"layout paint",height:n?void 0:"var(--frimousse-category-header-height)",pointerEvents:"auto",position:"sticky",top:0}}}function ef(t,n,r,i){return{"frimousse-list-sizer":"",style:{position:"relative",boxSizing:"border-box",height:`calc(${t} * var(--frimousse-row-height) + ${n} * var(--frimousse-category-header-height))`,paddingTop:`calc(${r} * var(--frimousse-row-height) + ${i} * var(--frimousse-category-header-height))`}}}function em(t,n,r){return{"aria-colcount":t,"aria-rowcount":n,"frimousse-list":"",style:{"--frimousse-list-columns":t,...r},role:"grid"}}function eg(t){t.preventDefault()}var ey=(0,i.memo)(({Emoji:t,emoji:n,columnIndex:r,rowIndex:s})=>{let a=L(),l=F(a,t=>$(t)?.emoji===n.emoji),u=(0,i.useCallback)(()=>{a.get().onEmojiSelect(n)},[n]),c=(0,i.useCallback)(()=>{a.get().onActiveEmojiChange("pointer",r,s)},[r,s]),d=(0,i.useCallback)(()=>{a.get().onActiveEmojiReset()},[]);return(0,o.jsx)(t,{...ec(n,r,l),onClick:u,onPointerDown:eg,onPointerEnter:c,onPointerLeave:d})}),ev=(0,i.memo)(({Row:t,Emoji:n,rowIndex:r})=>{let i=F(L(),t=>t.data?.rows[r],G);return i?(0,o.jsx)(t,{...ed(r),children:i.emojis.map((t,i)=>(0,o.jsx)(ey,{Emoji:n,columnIndex:i,emoji:t,rowIndex:r},t.label))}):null}),ew=(0,i.memo)(({CategoryHeader:t,categoryIndex:n})=>{let r=F(L(),t=>t.data?.categories[n],en);return r?(0,o.jsx)("div",{...eh(n,r),children:(0,o.jsx)(t,{...ep({label:r.label})})}):null}),eb=(0,i.memo)(({CategoryHeader:t,Row:n,Emoji:r})=>{let s=(0,i.useRef)(null),a=L(),l=P(a,"columns"),u=(0,i.useMemo)(()=>Array(l).fill({emoji:"\uD83D\uDE42",label:""}),[l]),c=(0,i.useMemo)(()=>({label:"Category"}),[]),d=(0,i.useRef)(null),h=(0,i.useRef)(null);return ei(()=>{let t=s.current?.parentElement?.parentElement;if(!t||!d.current||!h.current)return;let n=new ResizeObserver(t=>{for(let n of t){let t=n.contentRect.height,{onRowHeightChange:r,onCategoryHeaderHeightChange:i,rowHeight:o,categoryHeaderHeight:s}=a.get();n.target===d.current&&o!==t&&r(t),n.target===h.current&&s!==t&&i(t)}});n.observe(t),n.observe(d.current),n.observe(h.current);let{onRowHeightChange:r,onCategoryHeaderHeightChange:i}=a.get();return r(d.current.clientHeight),i(h.current.clientHeight),()=>{n.disconnect()}},[]),(0,o.jsxs)("div",{"aria-hidden":!0,ref:s,style:{height:0,visibility:"hidden"},children:[(0,o.jsx)("div",{"frimousse-row-sizer":"",ref:d,children:(0,o.jsx)(n,{...ed(-1,!0),children:u.map((t,n)=>(0,o.jsx)(r,{...ec(t,n,!1)},n))})}),(0,o.jsx)("div",{...eh(-1),children:(0,o.jsx)("div",{"frimousse-category-header-sizer":"",ref:h,children:(0,o.jsx)(t,{...ep(c,!0)})})})]})});function ex({category:t,...n}){return(0,o.jsx)("div",{...n,children:t.label})}function ek({emoji:t,...n}){return(0,o.jsx)("button",{type:"button",...n,children:t.emoji})}function eS({...t}){return(0,o.jsx)("div",{...t})}var eC=(0,i.forwardRef)(({style:t,components:n,...r},s)=>{let a=L(),l=(0,i.useRef)(null),u=(0,i.useCallback)(t=>{t&&(l.current=t,a.set({listRef:l}))},[]),c=n?.CategoryHeader??ex,d=n?.Emoji??ek,h=n?.Row??eS,p=P(a,"columns"),f=P(a,"viewportStartRowIndex"),m=P(a,"viewportEndRowIndex"),g=F(a,J),y=F(a,V,en),v=(0,i.useMemo)(()=>y?.filter(t=>t<f).length??0,[y,f]),w=y?.length??0;return(0,i.useImperativeHandle)(s,()=>l.current),g&&y&&0!==w?(0,o.jsx)("div",{...em(p,g,t),...r,ref:u,children:(0,o.jsxs)("div",{...ef(g,w,f,v),children:[(0,o.jsx)(eb,{CategoryHeader:c,Emoji:d,Row:h}),Array.from({length:m-f+1},(t,n)=>{let r=f+n,s=y.indexOf(r);return(0,o.jsxs)(i.Fragment,{children:[s>=0&&(0,o.jsx)("div",{style:{height:"var(--frimousse-category-header-height)"}}),(0,o.jsx)(ev,{Emoji:d,Row:h,rowIndex:r})]},r)}),Array.from({length:w},(t,n)=>(0,o.jsx)(ew,{CategoryHeader:c,categoryIndex:n},n))]})}):(0,o.jsx)("div",{...em(p,0,t),...r,children:(0,o.jsx)("div",{...ef(0,0,0,0),children:(0,o.jsx)(eb,{CategoryHeader:c,Emoji:d,Row:h})})})}),eM=(0,i.forwardRef)(({emoji:t,onClick:n,"aria-label":r="Change skin tone",...s},a)=>{let l=F(L(),q,en),[u,c,d]=et(t),h=(0,i.useMemo)(()=>Math.max(0,d.findIndex(t=>t.skinTone===u)),[u,d]),p=d[h],f=d[(h+1)%d.length].skinTone,m="none"===u?void 0:l?.[u],g="none"===f?void 0:l?.[f],y=(0,i.useCallback)(t=>{n?.(t),t.isDefaultPrevented()||c(f)},[n,c,f]);return(0,o.jsx)("button",{type:"button",...s,"aria-label":r+(g?` (${g})`:""),"aria-live":"polite","aria-valuetext":m,"frimousse-skin-tone-selector":"",onClick:y,ref:a,children:p.emoji})});function eE({children:t,...n}){return F(L(),W)?(0,o.jsx)("span",{"frimousse-loading":"",...n,children:t}):null}function ej({children:t}){return t({search:F(L(),H)})}function eN({children:t,...n}){return F(L(),B)?(0,o.jsx)("span",{"frimousse-empty":"",...n,children:"function"==typeof t?(0,o.jsx)(ej,{children:t}):t}):null}function eT({children:t}){return t({emoji:ee()})}function eA({children:t,emoji:n}){let[r,i,o]=et(n);return t({skinTone:r,setSkinTone:i,skinToneVariations:o})}es.displayName="EmojiPicker.Root",ea.displayName="EmojiPicker.Search",eu.displayName="EmojiPicker.Viewport",eC.displayName="EmojiPicker.List",eE.displayName="EmojiPicker.Loading",eN.displayName="EmojiPicker.Empty",eM.displayName="EmojiPicker.SkinToneSelector",eT.displayName="EmojiPicker.ActiveEmoji",eA.displayName="EmojiPicker.SkinTone"},96770:(t,n,r)=>{r.d(n,{K:()=>m,w:()=>f});for(var i={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},s="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),a="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),l=0;l<10;l++)i[48+l]=i[96+l]=String(l);for(var l=1;l<=24;l++)i[l+111]="F"+l;for(var l=65;l<=90;l++)i[l]=String.fromCharCode(l+32),o[l]=String.fromCharCode(l);for(var u in i)o.hasOwnProperty(u)||(o[u]=i[u]);var c=r(52571);let d="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),h="undefined"!=typeof navigator&&/Win/.test(navigator.platform);function p(t,n,r=!0){return n.altKey&&(t="Alt-"+t),n.ctrlKey&&(t="Ctrl-"+t),n.metaKey&&(t="Meta-"+t),r&&n.shiftKey&&(t="Shift-"+t),t}function f(t){return new c.k_({props:{handleKeyDown:m(t)}})}function m(t){let n=function(t){let n=Object.create(null);for(let r in t)n[function(t){let n,r,i,o,s=t.split(/-(?!$)/),a=s[s.length-1];"Space"==a&&(a=" ");for(let t=0;t<s.length-1;t++){let a=s[t];if(/^(cmd|meta|m)$/i.test(a))o=!0;else if(/^a(lt)?$/i.test(a))n=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else if(/^s(hift)?$/i.test(a))i=!0;else if(/^mod$/i.test(a))d?o=!0:r=!0;else throw Error("Unrecognized modifier name: "+a)}return n&&(a="Alt-"+a),r&&(a="Ctrl-"+a),o&&(a="Meta-"+a),i&&(a="Shift-"+a),a}(r)]=t[r];return n}(t);return function(t,r){var l;let u=("Esc"==(l=!(s&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||a&&r.shiftKey&&r.key&&1==r.key.length||"Unidentified"==r.key)&&r.key||(r.shiftKey?o:i)[r.keyCode]||r.key||"Unidentified")&&(l="Escape"),"Del"==l&&(l="Delete"),"Left"==l&&(l="ArrowLeft"),"Up"==l&&(l="ArrowUp"),"Right"==l&&(l="ArrowRight"),"Down"==l&&(l="ArrowDown"),l),c,d=n[p(u,r)];if(d&&d(t.state,t.dispatch,t))return!0;if(1==u.length&&" "!=u){if(r.shiftKey){let i=n[p(u,r,!1)];if(i&&i(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(h&&r.ctrlKey&&r.altKey)&&(c=i[r.keyCode])&&c!=u){let i=n[p(c,r)];if(i&&i(t.state,t.dispatch,t))return!0}}return!1}}}}]);