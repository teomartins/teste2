(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3340],{26448:(e,t,r)=>{"use strict";r.d(t,{LoadContent:()=>h});var a=r(95155),s=r(12115),l=r(32960),n=r(52622),o=r(17652),i=r(17649),c=r(59434),m=r(30285);function d(e){let{...t}=e;return(0,a.jsx)(i.ZL,{"data-slot":"alert-dialog-portal",...t})}function u(e){let{className:t,...r}=e;return(0,a.jsx)(i.hJ,{"data-slot":"alert-dialog-overlay",className:(0,c.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r})}let x={Root:function(e){let{...t}=e;return(0,a.jsx)(i.bL,{"data-slot":"alert-dialog",...t})},Content:function(e){let{className:t,...r}=e;return(0,a.jsxs)(d,{children:[(0,a.jsx)(u,{}),(0,a.jsx)(i.UC,{"data-slot":"alert-dialog-content",className:(0,c.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r})]})},Header:function(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,c.cn)("flex flex-col gap-2 text-center sm:text-left",t),...r})},Footer:function(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,c.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...r})},Title:function(e){let{className:t,...r}=e;return(0,a.jsx)(i.hE,{"data-slot":"alert-dialog-title",className:(0,c.cn)("text-lg font-semibold",t),...r})},Description:function(e){let{className:t,...r}=e;return(0,a.jsx)(i.VY,{"data-slot":"alert-dialog-description",className:(0,c.cn)("text-muted-foreground text-sm",t),...r})},Action:function(e){let{className:t,...r}=e;return(0,a.jsx)(i.rc,{className:(0,c.cn)((0,m.r)(),t),...r})}};function p(e){let t=(0,o.c3)("createMemory.alertDialogLoadLocalMemory");return(0,a.jsx)(x.Root,{open:e.isOpen,onOpenChange:e.onOpenChange,children:(0,a.jsxs)(x.Content,{children:[(0,a.jsxs)(x.Header,{children:[(0,a.jsx)(x.Title,{children:t("title")}),(0,a.jsx)(x.Description,{children:t("description")})]}),(0,a.jsxs)(x.Footer,{className:"flex flex-col lg:flex-row-reverse sm:flex-col sm:justify-start",children:[(0,a.jsx)(x.Action,{onPointerDown:()=>{e.onLoad(),e.onOpenChange(!1)},children:t("continue")}),(0,a.jsx)(x.Action,{onPointerDown:()=>{e.onCreateNew(),e.onOpenChange(!1)},className:"bg-background border border-border text-foreground hover:text-background",children:t("createNew")})]})]})})}var f=r(62223);async function g(){let e=await f.db.memory.get(1);return e||null}function h(){let[e,t]=s.useState(!1),[r,o]=s.useState(!1),[i,c]=s.useState(!0),m=(0,l.I)({queryKey:["storaged-memory",1],queryFn:g,refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1,retry:!1}),d=async()=>{o(!0),c(!1),t(!1),await m.refetch()},u=async()=>{await f.db.memory.clear().catch(e=>{console.error("Error clearing memory:",e)}),o(!1),c(!1),t(!1)};return(s.useEffect(()=>{m.data&&!m.isLoading&&i?t(!0):m.data||m.isLoading||(o(!1),c(!1),t(!1))},[m.isLoading]),m.isLoading||m.isRefetching)?(0,a.jsx)(n.f,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p,{isOpen:e,onOpenChange:t,onLoad:d,onCreateNew:u}),i?(0,a.jsx)(n.f,{}):m.data&&r?(0,a.jsx)(n.Content,{defaultMemory:m.data}):(0,a.jsx)(n.Content,{})]})}},38008:(e,t,r)=>{Promise.resolve().then(r.bind(r,52622)),Promise.resolve().then(r.bind(r,26448))},52622:(e,t,r)=>{"use strict";r.d(t,{Content:()=>eC,f:()=>ez});var a=r(95155),s=r(12115),l=r(62177),n=r(87091),o=r(35695),i=r(17652),c=r(41348),m=r(30285),d=r(17313),u=r(75937),x=r(68856),p=r(6642),f=r(66766),g=r(79171),h=r(56671),j=r(62523),y=r(10426),b=function(e){return e.step1PageName="step1",e.step2MemoryTitle="step2",e.step3Date="step3",e.step4Message="step4",e.step5Images="step5",e.step6Emoji="step6",e.step7Music="step7",e.step8ContactInfo="step8",e.step9Checkout="step9",e}({});let v="step8";function N(e){switch(e){case"step1":default:return 1;case"step2":return 2;case"step3":return 3;case"step4":return 4;case"step5":return 5;case"step6":return 6;case"step7":return 7;case"step8":return 8;case"step9":return 9}}function w(e){let t=(0,i.c3)("createMemory.steps.step1PageName"),r=(e,r)=>{let a=e.target.value;/[^a-zA-Z0-9\s]/.test(a)&&h.oR.error(t("validationError")),r(a.replace(/[^a-zA-Z0-9\s]/g,""))};return(0,a.jsx)(d.A.Content,{value:b.step1PageName,children:(0,a.jsx)(u.Ay.Field,{name:"name",control:e.control,render:e=>{var s;let{field:l,fieldState:n}=e;return(0,a.jsxs)(u.Ay.Item,{className:"flex flex-col items-center justify-center gap-3 max-w-[400px] mx-auto lg:items-start lg:ml-0",children:[(0,a.jsx)(u.Ay.Label,{htmlFor:"memory-name",className:"font-semibold text-3xl min-[401px]:text-4xl ",children:t("title")}),(0,a.jsx)(u.Ay.Description,{className:"text-sm text-neutral-200 max-w-[300px] text-center lg:text-start",children:t("description")}),(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)(f.default,{src:"/images/icons/link-website.svg",height:32,width:32,className:"absolute pt-1 left-2 top-1/2 transform -translate-y-1/2 text-gray-500 z-10",alt:t("altText")}),(0,a.jsx)(j.p,{id:"memory-name",placeholder:t("field1.placeholder"),type:"text",maxLength:64,minLength:1,className:"flex h-14 pl-11 pr-3 py-1 flex-col justify-center items-start gap-2.5 self-stretch rounded-xl border border-neutral-600 !bg-neutral-800 text-sm text-neutral-50 placeholder:text-neutral-500",value:l.value||"",onChange:e=>r(e,l.onChange),onBlur:l.onBlur,name:l.name,ref:l.ref})]}),(0,a.jsxs)("span",{className:"flex items-center gap-2 text-[0.6rem] text-start text-primary-400 w-full",children:[(0,a.jsx)(g.A,{size:16})," ",t("info")]}),(0,a.jsx)(u.Ay.Message,{children:null==n||null==(s=n.error)?void 0:s.message})]})}})})}function A(e){let t=(0,i.c3)("createMemory.steps.step2MemoryTitle");return(0,a.jsx)(d.A.Content,{value:b.step2MemoryTitle,children:(0,a.jsx)(u.Ay.Field,{name:"title",control:e.control,render:e=>{var r;let{field:s,fieldState:l}=e;return(0,a.jsxs)(u.Ay.Item,{className:"flex flex-col items-center justify-center gap-3 max-w-[400px] mx-auto lg:items-start lg:ml-0",children:[(0,a.jsx)(u.Ay.Label,{htmlFor:"memory-name",className:"font-semibold text-3xl min-[401px]:text-4xl ",children:t("title")}),(0,a.jsx)(u.Ay.Description,{className:"text-sm text-neutral-200 max-w-[300px] text-center lg:text-start",children:t("description")}),(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)(f.default,{src:"/images/icons/title-website.svg",height:32,width:32,className:"absolute pt-1 left-2 top-1/2 transform -translate-y-1/2 text-gray-500 z-10",alt:t("altText")}),(0,a.jsx)(j.p,{id:"memory-title",placeholder:t("field1.placeholder"),type:"text",maxLength:64,minLength:1,className:"flex h-14 pl-11 pr-3 py-1 flex-col justify-center items-start gap-2.5 self-stretch rounded-xl border border-neutral-600 !bg-neutral-800 text-sm text-neutral-50 placeholder:text-neutral-500",...s})]}),(0,a.jsx)(u.Ay.Message,{children:null==l||null==(r=l.error)?void 0:r.message})]})}})})}var C=r(30497);function z(e){let t=(0,i.c3)("createMemory.steps.step3Date");return(0,a.jsx)(d.A.Content,{value:b.step3Date,children:(0,a.jsx)(u.Ay.Field,{name:"startDate",control:e.control,render:e=>{var r;let{field:s,fieldState:l}=e;return(0,a.jsxs)(u.Ay.Item,{className:"flex flex-col items-center justify-center gap-3 max-w-[400px] mx-auto lg:items-start lg:ml-0",children:[(0,a.jsx)(u.Ay.Label,{htmlFor:"memory-name",className:"font-semibold text-3xl min-[401px]:text-4xl ",children:t("title")}),(0,a.jsx)(u.Ay.Description,{className:" text-sm text-neutral-200 max-w-[300px] text-center lg:text-start",children:t("description")}),(0,a.jsx)(u.Ay.Control,{children:(0,a.jsx)(C.Q,{id:"memory-start-date",mode:"single",selected:s.value,onSelect:s.onChange,className:"bg-neutral-800 px-4 py-3.5 rounded-xl w-full"})}),(0,a.jsx)(u.Ay.Message,{children:null==l||null==(r=l.error)?void 0:r.message})]})}})})}var M=r(88427);function k(e){let t=(0,i.c3)("createMemory.steps.step4Message");return(0,a.jsx)(d.A.Content,{value:b.step4Message,children:(0,a.jsx)(u.Ay.Field,{name:"message",control:e.control,render:e=>{var r;let{field:s,fieldState:l}=e;return(0,a.jsxs)(u.Ay.Item,{className:"flex flex-col items-center justify-center gap-3 max-w-[400px] mx-auto lg:items-start lg:ml-0",children:[(0,a.jsx)(u.Ay.Label,{htmlFor:"memory-name",className:"font-semibold text-3xl min-[401px]:text-4xl ",children:t("title")}),(0,a.jsx)(u.Ay.Description,{className:"text-sm text-neutral-200 max-w-[300px] text-center lg:text-start",children:t("description")}),(0,a.jsx)(u.Ay.Control,{children:(0,a.jsx)(M.t,{placeholder:t("field1.placeholder"),initialContent:s.value,onChange:e=>s.onChange(e)})}),(0,a.jsx)(u.Ay.Message,{children:null==l||null==(r=l.error)?void 0:r.message})]})}})})}r(30259);function L(){return _jsx(Loader2,{size:36,className:"text-neutral-600 animate-spin"})}function _(e){return _jsx(Loader2,{size:36,className:"text-neutral-600 animate-spin"})}function E(e){var t;return _jsxs("div",{className:"relative flex justify-center items-center h-full w-full",children:[!e.image.isUploaded&&_jsx("span",{className:"absolute flex justify-center items-center z-10 top-1 left-1 bg-neutral-600 size-3 rounded text-[0.6em] select-none",children:e.index+1}),_jsx("span",{className:"absolute z-10 top-1 right-1 flex justify-center items-center bg-neutral-600 size-3 rounded cursor-pointer hover:bg-neutral-400",onClick:()=>{var t;return t=e.index,void e.setSelectedImagesFiles(e=>e.filter((e,r)=>r!==t))},children:_jsx(XIcon,{})}),(null==(t=e.image)?void 0:t.isUploaded)?_jsx("img",{src:e.image.url,alt:"Preview ".concat(e.index+1),className:"object-cover size-full opacity-50",width:128,height:128}):_jsx(ImageIcon,{size:32,className:"mt-1 text-neutral-500"})]})}var I=r(96594),S=r(51154);function F(e){let t=(0,i.c3)("createMemory.steps.step6Emoji");return(0,a.jsx)(d.A.Content,{value:b.step6Emoji,children:(0,a.jsx)(u.Ay.Field,{name:"emoji",control:e.control,render:e=>{var r;let{field:s,fieldState:l}=e;return(0,a.jsxs)(u.Ay.Item,{className:"flex flex-col items-center justify-center gap-3 max-w-[400px] mx-auto lg:items-start lg:ml-0",children:[(0,a.jsx)(u.Ay.Label,{htmlFor:"memory-name",className:"font-semibold text-3xl min-[401px]:text-4xl ",children:t("title")}),(0,a.jsx)(u.Ay.Description,{className:"text-sm text-neutral-200 max-w-[300px] text-center lg:text-start",children:t("description")}),(0,a.jsx)(u.Ay.Control,{children:(0,a.jsxs)(I.pP.Root,{onEmojiSelect:e=>s.onChange(e.emoji),className:"isolate flex  h-[368px] w-full flex-col gap-8 bg-neutral-800 rounded-xl py-5 px-6",locale:"pt",columns:6,style:{fontFamily:'"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "NotoColorEmoji", sans-serif'},children:[(0,a.jsx)(I.pP.Search,{placeholder:t("field1.searchPlaceholder"),className:"z-10 mx-auto my-2 w-full appearance-none rounded-md border px-2.5 py-2 text-sm"}),(0,a.jsxs)(I.pP.Viewport,{className:"relative flex-1 outline-hidden border border-neutral-700 rounded-xl ",children:[(0,a.jsx)(I.pP.Loading,{className:"absolute inset-0 flex items-center justify-center text-sm text-neutral-400 dark:text-neutral-500",children:(0,a.jsx)(S.A,{})}),(0,a.jsx)(I.pP.Empty,{className:"absolute inset-0 flex items-center justify-center text-sm text-neutral-400",children:t("field1.noEmojiFound")}),(0,a.jsx)(I.pP.List,{className:"select-none pb-1.5 overflow-y-auto",components:{CategoryHeader:e=>(0,a.jsx)("div",{className:"bg-neutral-700 h-1",...e}),Row:e=>{let{children:t,...r}=e;return(0,a.jsx)("div",{className:"scroll-my-1.5 justify-between items-center",...r,children:t})},Emoji:e=>{let{emoji:t,style:r,...s}=e;return(0,a.jsx)("button",{className:"flex size-12 items-center justify-center rounded-md text-3xl mx-2 mt-3 mb-4",style:{...r,fontFamily:"'AppleEmoji', 'Apple Color Emoji', 'Segoe UI Emoji', sans-serif"},...s,children:t.emoji})}}})]})]})}),(0,a.jsx)("div",{className:"flex items-center justify-center aspect-square p-2 border-2 border-primary-500 rounded-md text-3xl min-h-14 mx-auto",style:{fontFamily:"'AppleEmoji', 'Apple Color Emoji', 'Segoe UI Emoji', sans-serif"},children:s.value}),(0,a.jsx)(u.Ay.Message,{children:null==l||null==(r=l.error)?void 0:r.message})]})}})})}function $(e){let t=(0,i.c3)("createMemory.steps.step7Music");return(0,a.jsx)(d.A.Content,{value:b.step7Music,children:(0,a.jsx)(u.Ay.Field,{name:"music",control:e.control,render:e=>{var r;let{field:s,fieldState:l}=e;return(0,a.jsxs)(u.Ay.Item,{className:"flex flex-col items-center justify-center gap-3 max-w-[500px] mx-auto lg:items-start lg:ml-0",children:[(0,a.jsx)(u.Ay.Label,{htmlFor:"memory-music",className:"text-center font-semibold text-3xl min-[401px]:text-4xl ",children:t("title")}),(0,a.jsx)(u.Ay.Description,{className:"text-sm text-neutral-200 max-w-[300px] text-center lg:text-start",children:t("description")}),(0,a.jsxs)("div",{className:"relative w-full flex justify-between gap-4",children:[(0,a.jsx)(f.default,{src:"/images/icons/dancing-music.svg",height:32,width:32,className:"absolute pt-1 left-2 top-1/2 transform -translate-y-1/2 text-gray-500 z-10",alt:"\xcdcone de m\xfasica dan\xe7ando"}),(0,a.jsx)(j.p,{id:"memory-music",type:"url",placeholder:t("field1.placeholder"),className:"flex h-14 pl-11 pr-3 py-1 flex-col justify-center items-start gap-2.5 self-stretch rounded-xl border border-neutral-600 !bg-neutral-800 text-sm text-neutral-50 placeholder:text-neutral-500 placeholder:text-sm",...s}),(0,a.jsx)(m.$,{className:"h-14 aspect-square border bg-neutral-800 border-neutral-600 rounded-xl hover:bg-neutral-700",type:"button",onClick:()=>{window.open("spotify://open","_blank")},children:(0,a.jsx)(f.default,{src:"/images/icons/spotify.svg",height:32,width:32,alt:"\xcdcone do Spotify"})})]}),(0,a.jsxs)("span",{className:"flex items-center gap-2 text-[0.6rem] text-start text-primary-400 w-full",children:[(0,a.jsx)(g.A,{size:16})," ",t("info")]}),(0,a.jsx)(u.Ay.Message,{children:null==l||null==(r=l.error)?void 0:r.message})]})}})})}var P=r(72797),R=r(63784),q=r(28883),D=r(19420),T=r(10081),O=r(5196),B=r(9909),U=r(52340),V=r(77740),Y=r(47924),Z=r(59434);function H(e){let{className:t,...r}=e;return(0,a.jsx)(V.uB,{"data-slot":"command",className:(0,Z.cn)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),...r})}function J(e){let{className:t,...r}=e;return(0,a.jsxs)("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[(0,a.jsx)(Y.A,{className:"size-4 shrink-0 opacity-50"}),(0,a.jsx)(V.uB.Input,{"data-slot":"command-input",className:(0,Z.cn)("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t),...r})]})}function K(e){let{className:t,...r}=e;return(0,a.jsx)(V.uB.List,{"data-slot":"command-list",className:(0,Z.cn)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",t),...r})}function X(e){let{...t}=e;return(0,a.jsx)(V.uB.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...t})}function W(e){let{className:t,...r}=e;return(0,a.jsx)(V.uB.Group,{"data-slot":"command-group",className:(0,Z.cn)("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",t),...r})}function G(e){let{className:t,...r}=e;return(0,a.jsx)(V.uB.Item,{"data-slot":"command-item",className:(0,Z.cn)("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}r(54165);var Q=r(20547);function ee(e){let{...t}=e;return(0,a.jsx)(Q.bL,{"data-slot":"popover",...t})}function et(e){let{...t}=e;return(0,a.jsx)(Q.l9,{"data-slot":"popover-trigger",...t})}function er(e){let{className:t,align:r="center",sideOffset:s=4,...l}=e;return(0,a.jsx)(Q.ZL,{children:(0,a.jsx)(Q.UC,{"data-slot":"popover-content",align:r,sideOffset:s,className:(0,Z.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...l})})}var ea=r(66424);let es=s.forwardRef((e,t)=>{let{className:r,onChange:s,value:l,...n}=e;return(0,a.jsx)(B.Ay,{ref:t,className:(0,Z.cn)("flex",r),flagComponent:ei,countrySelectComponent:en,inputComponent:el,smartCaret:!1,value:l||void 0,onChange:e=>null==s?void 0:s(e||""),...n})});es.displayName="PhoneInput";let el=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(j.p,{className:(0,Z.cn)("rounded-e-lg rounded-s-none",r),...s,ref:t})});el.displayName="InputComponent";let en=s.memo(e=>{let{disabled:t,value:r,options:l,onChange:n}=e,o=s.useRef(null),[i,c]=s.useState(""),[d,u]=s.useState(!1),x=s.useMemo(()=>i?l.filter(e=>e.label.toLowerCase().includes(i.toLowerCase())):l,[l,i]),p=s.useCallback(e=>{c(e),setTimeout(()=>{if(o.current){let e=o.current.querySelector("[data-radix-scroll-area-viewport]");e&&(e.scrollTop=0)}},0)},[]),f=s.useCallback(()=>{u(!1)},[]);return(0,a.jsxs)(ee,{open:d,onOpenChange:u,modal:!0,children:[(0,a.jsx)(et,{asChild:!0,children:(0,a.jsxs)(m.$,{type:"button",variant:"outline",className:"flex gap-1 rounded-e-none rounded-s-lg border-r-0 px-3 focus:z-10",disabled:t,children:[(0,a.jsx)(ei,{country:r,countryName:r}),(0,a.jsx)(T.A,{className:(0,Z.cn)("-mr-2 size-4 opacity-50",t?"hidden":"opacity-100")})]})}),(0,a.jsx)(er,{className:"w-[300px] p-0",children:(0,a.jsxs)(H,{children:[(0,a.jsx)(J,{value:i,onValueChange:p,placeholder:"Search country..."}),(0,a.jsx)(K,{children:(0,a.jsxs)(ea.ScrollArea,{ref:o,className:"h-72",children:[(0,a.jsx)(X,{children:"No country found."}),(0,a.jsx)(W,{children:x.map(e=>{let{value:t,label:s}=e;return t?(0,a.jsx)(eo,{country:t,countryName:s,selectedCountry:r,onChange:n,onSelectComplete:f},t):null})})]})})]})})]})});en.displayName="CountrySelect";let eo=e=>{let{country:t,countryName:r,selectedCountry:s,onChange:l,onSelectComplete:n}=e;return(0,a.jsxs)(G,{className:"gap-2",onSelect:()=>{l(t),n()},children:[(0,a.jsx)(ei,{country:t,countryName:r}),(0,a.jsx)("span",{className:"flex-1 text-sm",children:r}),(0,a.jsx)("span",{className:"text-sm text-foreground/50",children:"+".concat(B.Ko(t))}),(0,a.jsx)(O.A,{className:"ml-auto size-4 ".concat(t===s?"opacity-100":"opacity-0")})]})},ei=e=>{let{country:t,countryName:r}=e,s=U.Ay[t];return(0,a.jsx)("span",{className:"flex h-4 w-6 overflow-hidden rounded-sm bg-foreground/20 [&_svg:not([class*='size-'])]:size-full",children:s&&(0,a.jsx)(s,{title:r})})};function ec(e){let t=(0,i.c3)("createMemory.steps.step8ContactInfo"),r="pt-br"===(0,P.Ym)()?"BR":void 0,s=e=>{for(let r of[{wrong:/gnail\.com/i,correct:"gmail.com"},{wrong:/gmai\.com/i,correct:"gmail.com"},{wrong:/gmial\.com/i,correct:"gmail.com"},{wrong:/hotmial\.com/i,correct:"hotmail.com"},{wrong:/hotmai\.com/i,correct:"hotmail.com"},{wrong:/outlok\.com/i,correct:"outlook.com"},{wrong:/outlokk\.com/i,correct:"outlook.com"},{wrong:/yahooo\.com/i,correct:"yahoo.com"},{wrong:/yaho\.com/i,correct:"yahoo.com"},{wrong:/iclod\.com/i,correct:"icloud.com"},{wrong:/icluod\.com/i,correct:"icloud.com"},{wrong:/iclound\.com/i,correct:"icloud.com"},{wrong:/icload\.com/i,correct:"icloud.com"},{wrong:/iclaud\.com/i,correct:"icloud.com"},{wrong:/iclowud\.com/i,correct:"icloud.com"},{wrong:/iclowd\.com/i,correct:"icloud.com"},{wrong:/\.con$/i,correct:".com"},{wrong:/\.conm$/i,correct:".com"},{wrong:/\.coom$/i,correct:".com"},{wrong:/\.comm$/i,correct:".com"},{wrong:/\.com\.br$/i,correct:".com.br"},{wrong:/\.orgg$/i,correct:".org"},{wrong:/\.nett$/i,correct:".net"}])if(r.wrong.test(e))return h.oR.warning(t("emailValidation",{correct:r.correct}),{duration:4e3}),!1;return!0},l=(e,t)=>{let r=e.target.value;t(r),r.includes("@")&&s(r)};return(0,a.jsxs)(d.A.Content,{value:b.step8ContactInfo,className:"w-full max-w-[400px] mx-auto flex flex-col items-center justify-center gap-4 lg:items-start lg:ml-0",children:[(0,a.jsxs)(u.Ay.Item,{className:"flex flex-col items-center justify-center gap-3 w-full text-center lg:items-start lg:ml-0",children:[(0,a.jsx)(u.Ay.Label,{htmlFor:"memory-full-name",className:"font-semibold text-3xl min-[401px]:text-4xl ",children:t("title")}),(0,a.jsx)(u.Ay.Description,{className:"text-sm text-neutral-200 max-w-[300px] text-center lg:text-start",children:t("description")})]}),(0,a.jsx)(u.Ay.Field,{name:"contact_info.full_name",control:e.control,render:e=>{var r;let{field:s,fieldState:l}=e;return(0,a.jsxs)(u.Ay.Item,{className:"flex flex-col items-start justify-center gap-1 w-full",children:[(0,a.jsx)(u.Ay.Label,{htmlFor:"memory-full-name",className:"text-sm text-neutral-100 font-normal",children:t("field1.label")}),(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)(R.A,{size:32,className:"absolute pt-1 left-2 top-1/2 transform -translate-y-1/2 text-gray-500 z-10"}),(0,a.jsx)(j.p,{id:"memory-full-name",type:"text",placeholder:t("field1.placeholder"),maxLength:64,minLength:1,className:"flex h-14 pl-11 pr-3 py-1 flex-col justify-center items-start gap-2.5 self-stretch rounded-xl border border-neutral-600 !bg-neutral-800 text-sm text-neutral-50 placeholder:text-neutral-500",...s})]}),(0,a.jsx)(u.Ay.Message,{children:null==l||null==(r=l.error)?void 0:r.message})]})}}),(0,a.jsx)(u.Ay.Field,{name:"contact_info.email",control:e.control,render:e=>{var r;let{field:s,fieldState:n}=e;return(0,a.jsxs)(u.Ay.Item,{className:"flex flex-col items-start justify-center gap-1 w-full",children:[(0,a.jsx)(u.Ay.Label,{htmlFor:"memory-email",className:"text-sm text-neutral-100 font-normal",children:t("field2.label")}),(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)(q.A,{size:32,className:"absolute pt-1 left-2 top-1/2 transform -translate-y-1/2 text-gray-500 z-10"}),(0,a.jsx)(j.p,{id:"memory-email",type:"email",placeholder:t("field2.placeholder"),className:"flex h-14 pl-11 pr-3 py-1 flex-col justify-center items-start gap-2.5 self-stretch rounded-xl border border-neutral-600 !bg-neutral-800 text-sm text-neutral-50 placeholder:text-neutral-500",value:s.value||"",onChange:e=>l(e,s.onChange),onBlur:s.onBlur,name:s.name,ref:s.ref})]}),(0,a.jsx)(u.Ay.Message,{children:null==n||null==(r=n.error)?void 0:r.message})]})}}),(0,a.jsx)(u.Ay.Field,{name:"contact_info.confirm_email",control:e.control,render:e=>{var r;let{field:s,fieldState:n}=e;return(0,a.jsxs)(u.Ay.Item,{className:"flex flex-col items-start justify-center gap-1 w-full",children:[(0,a.jsx)(u.Ay.Label,{htmlFor:"memory-confirm-email",className:"text-sm text-neutral-100 font-normal",children:t("field2Confirm.label")}),(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)(q.A,{size:32,className:"absolute pt-1 left-2 top-1/2 transform -translate-y-1/2 text-gray-500 z-10"}),(0,a.jsx)(j.p,{id:"memory-confirm-email",type:"email",placeholder:t("field2Confirm.placeholder"),className:"flex h-14 pl-11 pr-3 py-1 flex-col justify-center items-start gap-2.5 self-stretch rounded-xl border border-neutral-600 !bg-neutral-800 text-sm text-neutral-50 placeholder:text-neutral-500",value:s.value||"",onChange:e=>l(e,s.onChange),onBlur:s.onBlur,name:s.name,ref:s.ref})]}),(0,a.jsx)(u.Ay.Message,{children:null==n||null==(r=n.error)?void 0:r.message})]})}}),(0,a.jsx)(u.Ay.Field,{name:"contact_info.phone_number",control:e.control,render:e=>{var s;let{field:l,fieldState:n}=e;return(0,a.jsxs)(u.Ay.Item,{className:"flex flex-col items-start justify-center gap-1 w-full mb-2",children:[(0,a.jsx)(u.Ay.Label,{htmlFor:"memory-phone",className:"text-sm text-neutral-100 font-normal",children:t("field3.label")}),(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)(D.A,{size:32,className:"absolute pt-1 left-2 top-1/2 transform -translate-y-1/2 text-gray-500 z-10"}),(0,a.jsx)(es,{id:"memory-phone",defaultCountry:r,placeholder:t("field3.placeholder"),className:"h-14 pl-11 pr-3 py-1 justify-center items-center rounded-xl border border-neutral-600 !bg-neutral-800 text-sm text-neutral-50 placeholder:text-neutral-500 [&>*]:border-0 [&>*]:!bg-transparent [&>*]:focus-visible:ring-1",onChange:e=>l.onChange(e),value:l.value||""})]}),(0,a.jsx)(u.Ay.Message,{children:null==n||null==(s=n.error)?void 0:s.message})]})}})]})}function em(e){return(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1 w-fit py-2",children:[(0,a.jsx)("span",{className:"flex items-center justify-center text-xs ".concat(e.isActive?"font-semibold sm:bg-primary-600 rounded-full aspect-square h-4":""),children:e.activeNumber>e.number?(0,a.jsx)(O.A,{size:18,className:"text-neutral-50"}):e.number}),(0,a.jsx)("span",{className:"hidden text-xs ".concat(e.isActive?"sm:block font-semibold":""),children:e.label})]})}function ed(){return(0,a.jsx)("span",{className:"min-w-0.5 w-full max-w-6 h-0.5 bg-neutral-800"})}function eu(e){let t=(0,i.c3)("createMemory.tabs.labels"),r=t=>e.setStep(t),s=e.step;function l(e){return(0,a.jsx)(d.A.UnstyledTrigger,{value:e.step,onClick:()=>r(e.step),disabled:!0,className:"cursor-default flex justify-center items-center h-full max-w-40 py-1 rounded-full ".concat(s===e.step?"bg-linear-gradient-2 text-neutral-50 sm:w-full max-sm:h-8 max-sm:w-8 max-sm:p-2 max-sm:aspect-square":(N(s)>N(e.step)?"bg-primary-600":"bg-neutral-700")+" text-neutral-300 h-8 w-8 p-2 aspect-square"),children:(0,a.jsx)(em,{activeNumber:N(s),number:N(e.step),label:e.label,isActive:s===e.step})})}return(0,a.jsxs)(d.A.List,{className:"flex justify-center items-center mx-auto max-w-[700px] w-full min-h-8 max-h-8 h-full bg-transparent lg:justify-start lg:ml-0",children:[(0,a.jsx)(l,{step:b.step1PageName,label:t("pageName")}),(0,a.jsx)(ed,{}),(0,a.jsx)(l,{step:b.step2MemoryTitle,label:t("memoryTitle")}),(0,a.jsx)(ed,{}),(0,a.jsx)(l,{step:b.step3Date,label:t("dateCounter")}),(0,a.jsx)(ed,{}),(0,a.jsx)(l,{step:b.step4Message,label:t("message")}),(0,a.jsx)(ed,{}),(0,a.jsx)(l,{step:b.step5Images,label:t("images")}),(0,a.jsx)(ed,{}),(0,a.jsx)(l,{step:b.step6Emoji,label:t("emoji")}),(0,a.jsx)(ed,{}),(0,a.jsx)(l,{step:b.step7Music,label:t("music")}),(0,a.jsx)(ed,{}),(0,a.jsx)(l,{step:b.step8ContactInfo,label:t("contactInfo")})]})}var ex=r(57194),ep=r(35050),ef=r(14555),eg=r(5041),eh=r(25506),ej=r(80852);let ey=y.Ay$.object({id:y.Ay$.string(),name:y.Ay$.string(),title:y.Ay$.string(),startDate:y.Ay$.date().nullable(),message:y.Ay$.string().nullable(),emoji:y.Ay$.string().max(32,"maxLength").nullable(),music:y.Ay$.url().nullable(),musicType:ej.lx.nullable(),images:y.Ay$.array(y.Ay$.string())});y.Ay$.object({client:y.Ay$.object({name:y.Ay$.string(),email:y.Ay$.email(),phone:y.Ay$.string()}),memory:ey.omit({id:!0})});let eb=y.Ay$.object({success:y.Ay$.boolean(),message:y.Ay$.string(),data:y.Ay$.object({id:y.Ay$.uuid(),page:y.Ay$.string()})});async function ev(e){let t="".concat(eh._.NEXT_PUBLIC_API_URL,"/api/memory/save-memory"),r={client:{name:e.contact_info.full_name,email:e.contact_info.email,phone:e.contact_info.phone_number},memory:{name:e.name,title:e.title,startDate:e.startDate?e.startDate:null,message:e.message||null,emoji:e.emoji||null,music:e.music||null,musicType:e.music?e.music.startsWith("https://www.youtube.com")?"YOUTUBE":"SPOTIFY":null,images:e.images||[],fbp:eN("fbp"),fbc:eN("fbc"),ttp:eN("ttp"),ttclid:eN("ttclid")}};console.log("Saving memory with data:",r);let a=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!a.ok)throw Error("Failed to save memory");let s=await a.json(),l=eb.safeParse(s);if(!l.success)throw console.error("API response validation failed:",l.error),Error("Invalid API response");return console.log("Memory saved successfully:",l.data),l.data}function eN(e){let t=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return t&&t.length>1?decodeURIComponent(t[2]):null}var ew=r(62223);let eA={name:"",title:""};function eC(e){var t,r;let[x,f]=s.useState(!1),[g,h]=s.useState(b.step1PageName),j=(0,c.kk)(()=>ew.db.memory.get(1)),N=(0,o.useRouter)(),C=(0,eg.n)({mutationFn:ev}),{getSchema:M}=function(){let e=(0,i.c3)("validationMessages"),t=y.z.object({name:y.z.string({error:e("name.required")}).trim().min(1,{error:e("name.required")}).max(64,{error:e("name.maxLength")})}),r=y.z.object({...t.shape,title:y.z.string({error:e("title.required")}).trim().min(1,{error:e("title.required")}).max(64,{error:e("title.maxLength")})}),a=y.z.object({...r.shape,startDate:y.z.coerce.date({error:e("date.invalid")})}),s=y.z.object({...a.shape,message:y.z.string().min(8,{error:e("message.required")}).max(2048,{error:e("message.maxLength")})}),l=y.z.object({url:y.z.url({error:e("image.urlRequired")}).trim().min(1,{error:e("image.urlRequired")}),id:y.z.string({error:e("image.idRequired")}).trim().min(1)}),n=y.z.object({...s.shape,hasEditedImages:y.z.boolean().default(!1),images:y.z.array(l).max(7,e("image.maxImages")),imagesToAdd:y.z.array(l).max(7).optional().default([]),imagesToRemove:y.z.array(l).optional().default([])}),o=y.z.object({...n.shape,emoji:y.z.string({error:e("emoji.required")}).trim().min(2,{error:e("emoji.required")}).max(16,{error:e("emoji.maxLength")}).optional()}),c=y.z.object({...o.shape,music:y.z.url({error:e("music.urlRequired")}).trim().min(0,{error:e("music.urlRequired")}).optional()}),m=y.z.object({...c.shape,contact_info:y.z.object({full_name:y.z.string({error:e("contact.fullNameRequired")}).trim().min(1,{error:e("contact.fullNameMinLength")}).max(128,{error:e("contact.fullNameMaxLength")}),email:y.z.email({error:e("contact.emailRequired")}).trim().min(1,{error:e("contact.emailMinLength")}).max(128,{error:e("contact.emailMaxLength")}),confirm_email:y.z.email({error:e("contact.confirmEmailRequired")}).trim().min(1,{error:e("contact.confirmEmailRequired")}).max(128,{error:e("contact.confirmEmailMaxLength")}),phone_number:y.z.string({error:e("contact.phoneRequired")}).trim().min(1,{error:e("contact.phoneMinLength")}).max(32,{error:e("contact.phoneMaxLength")})})}).refine(e=>e.contact_info.email===e.contact_info.confirm_email,{message:e("contact.emailMismatch"),path:["contact_info","confirm_email"]});return{step1Schema:t,step2Schema:r,step3Schema:a,step4Schema:s,step5Schema:n,step6Schema:o,step7Schema:c,step8Schema:m,getSchema:e=>{switch(e){case"step1":default:return t;case"step2":return r;case"step3":return a;case"step4":return s;case"step5":return n;case"step6":return o;case"step7":return c;case"step8":return m}}}}(),L=(0,i.c3)("createMemory"),_=(0,l.mN)({resolver:(0,n.F)(M(g)),defaultValues:e.defaultMemory||eA}),E=async e=>{let t=g===v;if(j?await ew.db.memory.update(1,{...e,id:1}):await ew.db.memory.add({...e,id:1}),!t){switch(g){case"step1":h("step2");break;case"step2":h("step3");break;case"step3":h("step4");break;case"step4":h("step5");break;case"step5":h("step6");break;case"step6":h("step7");break;case"step7":case"step8":h("step8");break;case"step9":h("step9");break;default:h("step1")}return}let r={...e,images:e.images.map(e=>e.id)};C.mutate(r,{onSuccess:async e=>{await ew.db.memory.clear().catch(e=>{console.error("Error clearing memory:",e)}),N.push("/checkout/".concat(e.data.id))},onError:e=>{console.error("Error saving memory:",e)}})};return(0,a.jsx)(u.Ay.Root,{..._,children:(0,a.jsxs)("form",{onSubmit:_.handleSubmit(E),className:"w-full flex flex-col lg:flex-row lg:gap-4",children:[(0,a.jsxs)(d.A.Root,{defaultValue:b.step1PageName,value:g,onValueChange:e=>{h(e)},className:"w-full flex flex-col",children:[(0,a.jsx)(eu,{step:g,setStep:h}),(0,a.jsxs)("main",{className:"mt-2 min-h-[33vh]",children:[(0,a.jsx)(w,{control:_.control}),(0,a.jsx)(A,{control:_.control}),(0,a.jsx)(z,{control:_.control}),(0,a.jsx)(k,{control:_.control}),(0,a.jsx)(ex.XJ,{control:_.control,setLockButtons:f,defaultImages:(null==(t=e.defaultMemory)?void 0:t.images)?e.defaultMemory.images:[]}),(0,a.jsx)(F,{control:_.control}),(0,a.jsx)($,{control:_.control}),(0,a.jsx)(ec,{control:_.control})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center w-full max-w-[400px] mx-auto lg:items-start lg:ml-0",children:[(0,a.jsxs)(m.$,{id:"memory-step-back",type:"button",onPointerDown:()=>(function(e,t){switch(e){case"step1":break;case"step2":default:t("step1");break;case"step3":t("step2");break;case"step4":t("step3");break;case"step5":t("step4");break;case"step6":t("step5");break;case"step7":t("step6");break;case"step8":t("step7");break;case"step9":t("step8")}})(g,h),disabled:"step1"===g||x||C.isPending,className:"flex w-[8.5rem] h-12 py-2 px-8 justify-center items-center gap-2.5 shrink-0 rounded-xl text-neutral-50 bg-neutral-800 hover:bg-neutral-600",children:[(0,a.jsx)(ep.A,{className:"text-neutral-50",size:24}),L("buttons.prev")]}),(0,a.jsx)(m.$,{id:"memory-step-next",type:"submit",className:"flex w-[8.5rem] h-12 py-2 px-8 justify-center items-center gap-2.5 shrink-0 rounded-xl bg-linear-gradient-2 text-neutral-50",disabled:C.isPending||x,children:C.isPending?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{children:L("buttons.saving")})]}):(0,a.jsxs)(a.Fragment,{children:[L(g===v?"buttons.save":"buttons.next"),(0,a.jsx)(ef.A,{className:"text-neutral-50",size:24})]})})]})]}),(0,a.jsx)("div",{className:"mt-8 min-h-screen mx-auto w-full max-w-[400px] lg:max-w-[600px] lg:mt-0",children:(0,a.jsx)(p.c,{defaultImages:(null==(r=e.defaultMemory)?void 0:r.images)?e.defaultMemory.images:[],isEditing:void 0!==e.defaultMemory&&Object.keys(e.defaultMemory).length>0&&e.defaultMemory.images&&e.defaultMemory.images.length>0})})]})})}function ez(){return(0,a.jsxs)("div",{className:"flex flex-col w-full pb-12 lg:flex-row lg:gap-4",children:[(0,a.jsx)("div",{className:"flex flex-col w-full",children:(0,a.jsxs)("div",{className:"min-h-[33vh] max-w-[400px]",children:[(0,a.jsx)(x.E,{className:"w-full h-12"}),(0,a.jsx)("div",{className:"py-8",children:(0,a.jsx)(x.E,{className:"w-full h-52"})}),(0,a.jsx)(x.E,{className:"w-1/3 h-12"})]})}),(0,a.jsx)("div",{className:"w-full px-0 border rounded-2xl md:px-36 lg:px-0",children:(0,a.jsxs)("div",{className:"flex flex-col rounded-3xl sm:px-[72px] px-8 py-10",children:[(0,a.jsxs)("div",{className:"gap-2 pb-12 flex flex-col",children:[(0,a.jsx)(x.E,{className:"w-2/4 h-12"}),(0,a.jsx)(x.E,{className:"w-full h-6"})]}),(0,a.jsxs)("div",{className:"pt-4 sm:pt-0 flex flex-col gap-4",children:[(0,a.jsx)(x.E,{className:"w-full h-32"}),(0,a.jsx)(x.E,{className:"w-full h-32"})]}),(0,a.jsx)("div",{className:"pt-16",children:(0,a.jsx)(x.E,{className:"w-full h-12"})})]})})]})}},62223:(e,t,r)=>{"use strict";r.d(t,{db:()=>a});let a=new(r(10005)).Ay("memoriit-indexed-db");a.version(1).stores({memory:"++id, contact_info.email, title, name"})},66424:(e,t,r)=>{"use strict";r.d(t,{ScrollArea:()=>n,ScrollBar:()=>o});var a=r(95155);r(12115);var s=r(47655),l=r(59434);function n(e){let{className:t,children:r,...n}=e;return(0,a.jsxs)(s.bL,{"data-slot":"scroll-area",className:(0,l.cn)("relative",t),...n,children:[(0,a.jsx)(s.LM,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:r}),(0,a.jsx)(o,{}),(0,a.jsx)(s.OK,{})]})}function o(e){let{className:t,orientation:r="vertical",...n}=e;return(0,a.jsx)(s.VM,{"data-slot":"scroll-area-scrollbar",orientation:r,className:(0,l.cn)("flex touch-none p-px transition-colors select-none","vertical"===r&&"h-full w-2.5 border-l border-l-transparent","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:(0,a.jsx)(s.lr,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[5004,277,8465,2797,2848,1619,9052,9106,3942,8278,5005,6641,3725,7655,2960,4311,2280,5710,708,8441,8229,6922,7358],()=>t(38008)),_N_E=e.O()}]);